"use strict";const g=require("./index-BMvV5qga.js");var Ne={},Ze={exports:{}},He={};(function(o){o.fetch=n(g.commonjsGlobal.fetch)&&n(g.commonjsGlobal.ReadableStream),o.writableStream=n(g.commonjsGlobal.WritableStream),o.abortController=n(g.commonjsGlobal.AbortController);var r;function f(){if(r!==void 0)return r;if(g.commonjsGlobal.XMLHttpRequest){r=new g.commonjsGlobal.XMLHttpRequest;try{r.open("GET",g.commonjsGlobal.XDomainRequest?"/":"https://example.com")}catch{r=null}}else r=null;return r}function u(b){var h=f();if(!h)return!1;try{return h.responseType=b,h.responseType===b}catch{}return!1}o.arraybuffer=o.fetch||u("arraybuffer"),o.msstream=!o.fetch&&u("ms-stream"),o.mozchunkedarraybuffer=!o.fetch&&u("moz-chunked-arraybuffer"),o.overrideMimeType=o.fetch||(f()?n(f().overrideMimeType):!1);function n(b){return typeof b=="function"}r=null})(He);var xe={},Ve=He,st=g.requireInherits_browser(),Je=g.readableBrowserExports,Ce=xe.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},Ge=xe.IncomingMessage=function(o,r,f,u){var n=this;if(Je.Readable.call(n),n._mode=f,n.headers={},n.rawHeaders=[],n.trailers={},n.rawTrailers=[],n.on("end",function(){g.dist.process.nextTick(function(){n.emit("close")})}),f==="fetch"){let A=function(){h.read().then(function(d){if(!n._destroyed){if(u(d.done),d.done){n.push(null);return}n.push(g.dist.Buffer.from(d.value)),A()}}).catch(function(d){u(!0),n._destroyed||n.emit("error",d)})};if(n._fetchResponse=r,n.url=r.url,n.statusCode=r.status,n.statusMessage=r.statusText,r.headers.forEach(function(d,x){n.headers[x.toLowerCase()]=d,n.rawHeaders.push(x,d)}),Ve.writableStream){var b=new WritableStream({write:function(d){return u(!1),new Promise(function(x,ee){n._destroyed?ee():n.push(g.dist.Buffer.from(d))?x():n._resumeFetch=x})},close:function(){u(!0),n._destroyed||n.push(null)},abort:function(d){u(!0),n._destroyed||n.emit("error",d)}});try{r.body.pipeTo(b).catch(function(d){u(!0),n._destroyed||n.emit("error",d)});return}catch{}}var h=r.body.getReader();A()}else{n._xhr=o,n._pos=0,n.url=o.responseURL,n.statusCode=o.status,n.statusMessage=o.statusText;var a=o.getAllResponseHeaders().split(/\r?\n/);if(a.forEach(function(A){var d=A.match(/^([^:]+):\s*(.*)/);if(d){var x=d[1].toLowerCase();x==="set-cookie"?(n.headers[x]===void 0&&(n.headers[x]=[]),n.headers[x].push(d[2])):n.headers[x]!==void 0?n.headers[x]+=", "+d[2]:n.headers[x]=d[2],n.rawHeaders.push(d[1],d[2])}}),n._charset="x-user-defined",!Ve.overrideMimeType){var v=n.rawHeaders["mime-type"];if(v){var w=v.match(/;\s*charset=([^;])(;|$)/);w&&(n._charset=w[1].toLowerCase())}n._charset||(n._charset="utf-8")}}};st(Ge,Je.Readable);Ge.prototype._read=function(){var o=this,r=o._resumeFetch;r&&(o._resumeFetch=null,r())};Ge.prototype._onXHRProgress=function(o){var r=this,f=r._xhr,u=null;switch(r._mode){case"text":if(u=f.responseText,u.length>r._pos){var n=u.substr(r._pos);if(r._charset==="x-user-defined"){for(var b=g.dist.Buffer.alloc(n.length),h=0;h<n.length;h++)b[h]=n.charCodeAt(h)&255;r.push(b)}else r.push(n,r._charset);r._pos=u.length}break;case"arraybuffer":if(f.readyState!==Ce.DONE||!f.response)break;u=f.response,r.push(g.dist.Buffer.from(new Uint8Array(u)));break;case"moz-chunked-arraybuffer":if(u=f.response,f.readyState!==Ce.LOADING||!u)break;r.push(g.dist.Buffer.from(new Uint8Array(u)));break;case"ms-stream":if(u=f.response,f.readyState!==Ce.LOADING)break;var a=new g.commonjsGlobal.MSStreamReader;a.onprogress=function(){a.result.byteLength>r._pos&&(r.push(g.dist.Buffer.from(new Uint8Array(a.result.slice(r._pos)))),r._pos=a.result.byteLength)},a.onload=function(){o(!0),r.push(null)},a.readAsArrayBuffer(u);break}r._xhr.readyState===Ce.DONE&&r._mode!=="ms-stream"&&(o(!0),r.push(null))};var ue=He,at=g.requireInherits_browser(),Qe=xe,ke=g.readableBrowserExports,it=Qe.IncomingMessage,Ye=Qe.readyStates;function ut(o,r){return ue.fetch&&r?"fetch":ue.mozchunkedarraybuffer?"moz-chunked-arraybuffer":ue.msstream?"ms-stream":ue.arraybuffer&&o?"arraybuffer":"text"}var P=Ze.exports=function(o){var r=this;ke.Writable.call(r),r._opts=o,r._body=[],r._headers={},o.auth&&r.setHeader("Authorization","Basic "+g.dist.Buffer.from(o.auth).toString("base64")),Object.keys(o.headers).forEach(function(n){r.setHeader(n,o.headers[n])});var f,u=!0;if(o.mode==="disable-fetch"||"requestTimeout"in o&&!ue.abortController)u=!1,f=!0;else if(o.mode==="prefer-streaming")f=!1;else if(o.mode==="allow-wrong-content-type")f=!ue.overrideMimeType;else if(!o.mode||o.mode==="default"||o.mode==="prefer-fast")f=!0;else throw new Error("Invalid value for opts.mode");r._mode=ut(f,u),r._fetchTimer=null,r._socketTimeout=null,r._socketTimer=null,r.on("finish",function(){r._onFinish()})};at(P,ke.Writable);P.prototype.setHeader=function(o,r){var f=this,u=o.toLowerCase();ht.indexOf(u)===-1&&(f._headers[u]={name:o,value:r})};P.prototype.getHeader=function(o){var r=this._headers[o.toLowerCase()];return r?r.value:null};P.prototype.removeHeader=function(o){var r=this;delete r._headers[o.toLowerCase()]};P.prototype._onFinish=function(){var o=this;if(!o._destroyed){var r=o._opts;"timeout"in r&&r.timeout!==0&&o.setTimeout(r.timeout);var f=o._headers,u=null;r.method!=="GET"&&r.method!=="HEAD"&&(u=new Blob(o._body,{type:(f["content-type"]||{}).value||""}));var n=[];if(Object.keys(f).forEach(function(v){var w=f[v].name,A=f[v].value;Array.isArray(A)?A.forEach(function(d){n.push([w,d])}):n.push([w,A])}),o._mode==="fetch"){var b=null;if(ue.abortController){var h=new AbortController;b=h.signal,o._fetchAbortController=h,"requestTimeout"in r&&r.requestTimeout!==0&&(o._fetchTimer=g.commonjsGlobal.setTimeout(function(){o.emit("requestTimeout"),o._fetchAbortController&&o._fetchAbortController.abort()},r.requestTimeout))}g.commonjsGlobal.fetch(o._opts.url,{method:o._opts.method,headers:n,body:u||void 0,mode:"cors",credentials:r.withCredentials?"include":"same-origin",signal:b}).then(function(v){o._fetchResponse=v,o._resetTimers(!1),o._connect()},function(v){o._resetTimers(!0),o._destroyed||o.emit("error",v)})}else{var a=o._xhr=new g.commonjsGlobal.XMLHttpRequest;try{a.open(o._opts.method,o._opts.url,!0)}catch(v){g.dist.process.nextTick(function(){o.emit("error",v)});return}"responseType"in a&&(a.responseType=o._mode),"withCredentials"in a&&(a.withCredentials=!!r.withCredentials),o._mode==="text"&&"overrideMimeType"in a&&a.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in r&&(a.timeout=r.requestTimeout,a.ontimeout=function(){o.emit("requestTimeout")}),n.forEach(function(v){a.setRequestHeader(v[0],v[1])}),o._response=null,a.onreadystatechange=function(){switch(a.readyState){case Ye.LOADING:case Ye.DONE:o._onXHRProgress();break}},o._mode==="moz-chunked-arraybuffer"&&(a.onprogress=function(){o._onXHRProgress()}),a.onerror=function(){o._destroyed||(o._resetTimers(!0),o.emit("error",new Error("XHR error")))};try{a.send(u)}catch(v){g.dist.process.nextTick(function(){o.emit("error",v)});return}}}};function ft(o){try{var r=o.status;return r!==null&&r!==0}catch{return!1}}P.prototype._onXHRProgress=function(){var o=this;o._resetTimers(!1),!(!ft(o._xhr)||o._destroyed)&&(o._response||o._connect(),o._response._onXHRProgress(o._resetTimers.bind(o)))};P.prototype._connect=function(){var o=this;o._destroyed||(o._response=new it(o._xhr,o._fetchResponse,o._mode,o._resetTimers.bind(o)),o._response.on("error",function(r){o.emit("error",r)}),o.emit("response",o._response))};P.prototype._write=function(o,r,f){var u=this;u._body.push(o),f()};P.prototype._resetTimers=function(o){var r=this;g.commonjsGlobal.clearTimeout(r._socketTimer),r._socketTimer=null,o?(g.commonjsGlobal.clearTimeout(r._fetchTimer),r._fetchTimer=null):r._socketTimeout&&(r._socketTimer=g.commonjsGlobal.setTimeout(function(){r.emit("timeout")},r._socketTimeout))};P.prototype.abort=P.prototype.destroy=function(o){var r=this;r._destroyed=!0,r._resetTimers(!0),r._response&&(r._response._destroyed=!0),r._xhr?r._xhr.abort():r._fetchAbortController&&r._fetchAbortController.abort(),o&&r.emit("error",o)};P.prototype.end=function(o,r,f){var u=this;typeof o=="function"&&(f=o,o=void 0),ke.Writable.prototype.end.call(u,o,r,f)};P.prototype.setTimeout=function(o,r){var f=this;r&&f.once("timeout",r),f._socketTimeout=o,f._resetTimers(!1)};P.prototype.flushHeaders=function(){};P.prototype.setNoDelay=function(){};P.prototype.setSocketKeepAlive=function(){};var ht=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"],lt=Ze.exports,ct=mt,pt=Object.prototype.hasOwnProperty;function mt(){for(var o={},r=0;r<arguments.length;r++){var f=arguments[r];for(var u in f)pt.call(f,u)&&(o[u]=f[u])}return o}var dt={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"},Me={exports:{}},Ae={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */Ae.exports;(function(o,r){(function(f){var u=r&&!r.nodeType&&r,n=o&&!o.nodeType&&o,b=typeof g.commonjsGlobal=="object"&&g.commonjsGlobal;(b.global===b||b.window===b||b.self===b)&&(f=b);var h,a=2147483647,v=36,w=1,A=26,d=38,x=700,ee=72,se=128,S="-",qe=/^xn--/,Ee=/[^\x20-\x7E]/,Oe=/[\x2E\u3002\uFF0E\uFF61]/g,Ue={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ce=v-w,F=Math.floor,te=String.fromCharCode,ae;function Z(i){throw new RangeError(Ue[i])}function pe(i,p){for(var y=i.length,T=[];y--;)T[y]=p(i[y]);return T}function be(i,p){var y=i.split("@"),T="";y.length>1&&(T=y[0]+"@",i=y[1]),i=i.replace(Oe,".");var R=i.split("."),I=pe(R,p).join(".");return T+I}function _e(i){for(var p=[],y=0,T=i.length,R,I;y<T;)R=i.charCodeAt(y++),R>=55296&&R<=56319&&y<T?(I=i.charCodeAt(y++),(I&64512)==56320?p.push(((R&1023)<<10)+(I&1023)+65536):(p.push(R),y--)):p.push(R);return p}function fe(i){return pe(i,function(p){var y="";return p>65535&&(p-=65536,y+=te(p>>>10&1023|55296),p=56320|p&1023),y+=te(p),y}).join("")}function re(i){return i-48<10?i-22:i-65<26?i-65:i-97<26?i-97:v}function he(i,p){return i+22+75*(i<26)-((p!=0)<<5)}function oe(i,p,y){var T=0;for(i=y?F(i/x):i>>1,i+=F(i/p);i>ce*A>>1;T+=v)i=F(i/ce);return F(T+(ce+1)*i/(i+d))}function Te(i){var p=[],y=i.length,T,R=0,I=se,q=ee,C,M,$,B,L,N,k,W,J;for(C=i.lastIndexOf(S),C<0&&(C=0),M=0;M<C;++M)i.charCodeAt(M)>=128&&Z("not-basic"),p.push(i.charCodeAt(M));for($=C>0?C+1:0;$<y;){for(B=R,L=1,N=v;$>=y&&Z("invalid-input"),k=re(i.charCodeAt($++)),(k>=v||k>F((a-R)/L))&&Z("overflow"),R+=k*L,W=N<=q?w:N>=q+A?A:N-q,!(k<W);N+=v)J=v-W,L>F(a/J)&&Z("overflow"),L*=J;T=p.length+1,q=oe(R-B,T,B==0),F(R/T)>a-I&&Z("overflow"),I+=F(R/T),R%=T,p.splice(R++,0,I)}return fe(p)}function we(i){var p,y,T,R,I,q,C,M,$,B,L,N=[],k,W,J,me;for(i=_e(i),k=i.length,p=se,y=0,I=ee,q=0;q<k;++q)L=i[q],L<128&&N.push(te(L));for(T=R=N.length,R&&N.push(S);T<k;){for(C=a,q=0;q<k;++q)L=i[q],L>=p&&L<C&&(C=L);for(W=T+1,C-p>F((a-y)/W)&&Z("overflow"),y+=(C-p)*W,p=C,q=0;q<k;++q)if(L=i[q],L<p&&++y>a&&Z("overflow"),L==p){for(M=y,$=v;B=$<=I?w:$>=I+A?A:$-I,!(M<B);$+=v)me=M-B,J=v-B,N.push(te(he(B+me%J,0))),M=F(me/J);N.push(te(he(M,0))),I=oe(y,W,T==R),y=0,++T}++y,++p}return N.join("")}function Ie(i){return be(i,function(p){return qe.test(p)?Te(p.slice(4).toLowerCase()):p})}function Le(i){return be(i,function(p){return Ee.test(p)?"xn--"+we(p):p})}if(h={version:"1.4.1",ucs2:{decode:_e,encode:fe},decode:Te,encode:we,toASCII:Le,toUnicode:Ie},u&&n)if(o.exports==u)n.exports=h;else for(ae in h)h.hasOwnProperty(ae)&&(u[ae]=h[ae]);else f.punycode=h})(g.commonjsGlobal)})(Ae,Ae.exports);var et=Ae.exports;(function(o,r){Object.defineProperty(r,"__esModule",{value:!0});var f=et,u=g.require$$2;function n(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var b=n(f),h=n(u),a={isString:function(e){return typeof e=="string"},isObject:function(e){return typeof e=="object"&&e!==null},isNull:function(e){return e===null},isNullOrUndefined:function(e){return e==null}},v=b.default,w=a,A=oe,d=we,x=Ie,ee=Te,se=S;function S(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var qe=/^([a-z0-9.+-]+:)/i,Ee=/:[0-9]*$/,Oe=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Ue=["<",">",'"',"`"," ","\r",`
`,"	"],ce=["{","}","|","\\","^","`"].concat(Ue),F=["'"].concat(ce),te=["%","/","?",";","#"].concat(F),ae=["/","?","#"],Z=255,pe=/^[+a-z0-9A-Z_-]{0,63}$/,be=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,_e={javascript:!0,"javascript:":!0},fe={javascript:!0,"javascript:":!0},re={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},he=h.default;function oe(e,s,t){if(e&&w.isObject(e)&&e instanceof S)return e;var c=new S;return c.parse(e,s,t),c}S.prototype.parse=function(e,s,t){if(!w.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var c=e.indexOf("?"),_=c!==-1&&c<e.indexOf("#")?"?":"#",D=e.split(_),H=/\\/g;D[0]=D[0].replace(H,"/"),e=D.join(_);var l=e;if(l=l.trim(),!t&&e.split("#").length===1){var K=Oe.exec(l);if(K)return this.path=l,this.href=l,this.pathname=K[1],K[2]?(this.search=K[2],s?this.query=he.parse(this.search.substr(1)):this.query=this.search.substr(1)):s&&(this.search="",this.query={}),this}var E=qe.exec(l);if(E){E=E[0];var ie=E.toLowerCase();this.protocol=ie,l=l.substr(E.length)}if(t||E||l.match(/^\/\/[^@\/]+@[^@\/]+/)){var de=l.substr(0,2)==="//";de&&!(E&&fe[E])&&(l=l.substr(2),this.slashes=!0)}if(!fe[E]&&(de||E&&!re[E])){for(var j=-1,O=0;O<ae.length;O++){var Q=l.indexOf(ae[O]);Q!==-1&&(j===-1||Q<j)&&(j=Q)}var ve,G;j===-1?G=l.lastIndexOf("@"):G=l.lastIndexOf("@",j),G!==-1&&(ve=l.slice(0,G),l=l.slice(G+1),this.auth=decodeURIComponent(ve)),j=-1;for(var O=0;O<te.length;O++){var Q=l.indexOf(te[O]);Q!==-1&&(j===-1||Q<j)&&(j=Q)}j===-1&&(j=l.length),this.host=l.slice(0,j),l=l.slice(j),this.parseHost(),this.hostname=this.hostname||"";var ye=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!ye)for(var m=this.hostname.split(/\./),O=0,U=m.length;O<U;O++){var V=m[O];if(V&&!V.match(pe)){for(var z="",X=0,Pe=V.length;X<Pe;X++)V.charCodeAt(X)>127?z+="x":z+=V[X];if(!z.match(pe)){var ne=m.slice(0,O),Y=m.slice(O+1),le=V.match(be);le&&(ne.push(le[1]),Y.unshift(le[2])),Y.length&&(l="/"+Y.join(".")+l),this.hostname=ne.join(".");break}}}this.hostname.length>Z?this.hostname="":this.hostname=this.hostname.toLowerCase(),ye||(this.hostname=v.toASCII(this.hostname));var Se=this.port?":"+this.port:"",ot=this.hostname||"";this.host=ot+Se,this.href+=this.host,ye&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),l[0]!=="/"&&(l="/"+l))}if(!_e[ie])for(var O=0,U=F.length;O<U;O++){var ge=F[O];if(l.indexOf(ge)!==-1){var je=encodeURIComponent(ge);je===ge&&(je=escape(ge)),l=l.split(ge).join(je)}}var Fe=l.indexOf("#");Fe!==-1&&(this.hash=l.substr(Fe),l=l.slice(0,Fe));var Re=l.indexOf("?");if(Re!==-1?(this.search=l.substr(Re),this.query=l.substr(Re+1),s&&(this.query=he.parse(this.query)),l=l.slice(0,Re)):s&&(this.search="",this.query={}),l&&(this.pathname=l),re[ie]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var Se=this.pathname||"",nt=this.search||"";this.path=Se+nt}return this.href=this.format(),this};function Te(e){return w.isString(e)&&(e=oe(e)),e instanceof S?e.format():S.prototype.format.call(e)}S.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var s=this.protocol||"",t=this.pathname||"",c=this.hash||"",_=!1,D="";this.host?_=e+this.host:this.hostname&&(_=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(_+=":"+this.port)),this.query&&w.isObject(this.query)&&Object.keys(this.query).length&&(D=he.stringify(this.query));var H=this.search||D&&"?"+D||"";return s&&s.substr(-1)!==":"&&(s+=":"),this.slashes||(!s||re[s])&&_!==!1?(_="//"+(_||""),t&&t.charAt(0)!=="/"&&(t="/"+t)):_||(_=""),c&&c.charAt(0)!=="#"&&(c="#"+c),H&&H.charAt(0)!=="?"&&(H="?"+H),t=t.replace(/[?#]/g,function(l){return encodeURIComponent(l)}),H=H.replace("#","%23"),s+_+t+H+c};function we(e,s){return oe(e,!1,!0).resolve(s)}S.prototype.resolve=function(e){return this.resolveObject(oe(e,!1,!0)).format()};function Ie(e,s){return e?oe(e,!1,!0).resolveObject(s):s}S.prototype.resolveObject=function(e){if(w.isString(e)){var s=new S;s.parse(e,!1,!0),e=s}for(var t=new S,c=Object.keys(this),_=0;_<c.length;_++){var D=c[_];t[D]=this[D]}if(t.hash=e.hash,e.href==="")return t.href=t.format(),t;if(e.slashes&&!e.protocol){for(var H=Object.keys(e),l=0;l<H.length;l++){var K=H[l];K!=="protocol"&&(t[K]=e[K])}return re[t.protocol]&&t.hostname&&!t.pathname&&(t.path=t.pathname="/"),t.href=t.format(),t}if(e.protocol&&e.protocol!==t.protocol){if(!re[e.protocol]){for(var E=Object.keys(e),ie=0;ie<E.length;ie++){var de=E[ie];t[de]=e[de]}return t.href=t.format(),t}if(t.protocol=e.protocol,!e.host&&!fe[e.protocol]){for(var U=(e.pathname||"").split("/");U.length&&!(e.host=U.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),U[0]!==""&&U.unshift(""),U.length<2&&U.unshift(""),t.pathname=U.join("/")}else t.pathname=e.pathname;if(t.search=e.search,t.query=e.query,t.host=e.host||"",t.auth=e.auth,t.hostname=e.hostname||e.host,t.port=e.port,t.pathname||t.search){var j=t.pathname||"",O=t.search||"";t.path=j+O}return t.slashes=t.slashes||e.slashes,t.href=t.format(),t}var Q=t.pathname&&t.pathname.charAt(0)==="/",ve=e.host||e.pathname&&e.pathname.charAt(0)==="/",G=ve||Q||t.host&&e.pathname,ye=G,m=t.pathname&&t.pathname.split("/")||[],U=e.pathname&&e.pathname.split("/")||[],V=t.protocol&&!re[t.protocol];if(V&&(t.hostname="",t.port=null,t.host&&(m[0]===""?m[0]=t.host:m.unshift(t.host)),t.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(U[0]===""?U[0]=e.host:U.unshift(e.host)),e.host=null),G=G&&(U[0]===""||m[0]==="")),ve)t.host=e.host||e.host===""?e.host:t.host,t.hostname=e.hostname||e.hostname===""?e.hostname:t.hostname,t.search=e.search,t.query=e.query,m=U;else if(U.length)m||(m=[]),m.pop(),m=m.concat(U),t.search=e.search,t.query=e.query;else if(!w.isNullOrUndefined(e.search)){if(V){t.hostname=t.host=m.shift();var z=t.host&&t.host.indexOf("@")>0?t.host.split("@"):!1;z&&(t.auth=z.shift(),t.host=t.hostname=z.shift())}return t.search=e.search,t.query=e.query,(!w.isNull(t.pathname)||!w.isNull(t.search))&&(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.href=t.format(),t}if(!m.length)return t.pathname=null,t.search?t.path="/"+t.search:t.path=null,t.href=t.format(),t;for(var X=m.slice(-1)[0],Pe=(t.host||e.host||m.length>1)&&(X==="."||X==="..")||X==="",ne=0,Y=m.length;Y>=0;Y--)X=m[Y],X==="."?m.splice(Y,1):X===".."?(m.splice(Y,1),ne++):ne&&(m.splice(Y,1),ne--);if(!G&&!ye)for(;ne--;ne)m.unshift("..");G&&m[0]!==""&&(!m[0]||m[0].charAt(0)!=="/")&&m.unshift(""),Pe&&m.join("/").substr(-1)!=="/"&&m.push("");var le=m[0]===""||m[0]&&m[0].charAt(0)==="/";if(V){t.hostname=t.host=le?"":m.length?m.shift():"";var z=t.host&&t.host.indexOf("@")>0?t.host.split("@"):!1;z&&(t.auth=z.shift(),t.host=t.hostname=z.shift())}return G=G||t.host&&m.length,G&&!le&&m.unshift(""),m.length?t.pathname=m.join("/"):(t.pathname=null,t.path=null),(!w.isNull(t.pathname)||!w.isNull(t.search))&&(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.auth=e.auth||t.auth,t.slashes=t.slashes||e.slashes,t.href=t.format(),t},S.prototype.parseHost=function(){var e=this.host,s=Ee.exec(e);s&&(s=s[0],s!==":"&&(this.port=s.substr(1)),e=e.substr(0,e.length-s.length)),e&&(this.hostname=e)};function Le(e,s){for(var t=0,c=e.length-1;c>=0;c--){var _=e[c];_==="."?e.splice(c,1):_===".."?(e.splice(c,1),t++):t&&(e.splice(c,1),t--)}if(s)for(;t--;t)e.unshift("..");return e}function i(){for(var e="",s=!1,t=arguments.length-1;t>=-1&&!s;t--){var c=t>=0?arguments[t]:"/";if(typeof c!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!c)continue;e=c+"/"+e,s=c.charAt(0)==="/"}return e=Le(p(e.split("/"),function(_){return!!_}),!s).join("/"),(s?"/":"")+e||"."}function p(e,s){if(e.filter)return e.filter(s);for(var t=[],c=0;c<e.length;c++)s(e[c],c,e)&&t.push(e[c]);return t}var y=function(e){function s(){var c=this||self;return delete e.prototype.__magic__,c}if(typeof globalThis=="object")return globalThis;if(this)return s();e.defineProperty(e.prototype,"__magic__",{configurable:!0,get:s});var t=__magic__;return t}(Object),T=ee,R=A,I=d,q=se,C=y.URL,M=y.URLSearchParams,$=/%/g,B=/\\/g,L=/\n/g,N=/\r/g,k=/\t/g,W=47;function J(e){var s=e??null;return!!(s!==null&&(s!=null&&s.href)&&(s!=null&&s.origin))}function me(e){if(e.hostname!=="")throw new TypeError('File URL host must be "localhost" or empty on browser');for(var s=e.pathname,t=0;t<s.length;t++)if(s[t]==="%"){var c=s.codePointAt(t+2)|32;if(s[t+1]==="2"&&c===102)throw new TypeError("File URL path must not include encoded / characters")}return decodeURIComponent(s)}function rt(e){return e.includes("%")&&(e=e.replace($,"%25")),e.includes("\\")&&(e=e.replace(B,"%5C")),e.includes(`
`)&&(e=e.replace(L,"%0A")),e.includes("\r")&&(e=e.replace(N,"%0D")),e.includes("	")&&(e=e.replace(k,"%09")),e}var $e=function(s){if(typeof s>"u")throw new TypeError('The "domain" argument must be specified');return new C("http://"+s).hostname},Be=function(s){if(typeof s>"u")throw new TypeError('The "domain" argument must be specified');return new C("http://"+s).hostname},ze=function(s){var t=new C("file://"),c=i(s),_=s.charCodeAt(s.length-1);return _===W&&c[c.length-1]!=="/"&&(c+="/"),t.pathname=rt(c),t},Xe=function(s){if(!J(s)&&typeof s!="string")throw new TypeError('The "path" argument must be of type string or an instance of URL. Received type '+typeof s+" ("+s+")");var t=new C(s);if(t.protocol!=="file:")throw new TypeError("The URL must be of scheme file");return me(t)},We=function(s,t){var c,_,D;if(t===void 0&&(t={}),!(s instanceof C))return T(s);if(typeof t!="object"||t===null)throw new TypeError('The "options" argument must be of type object.');var H=(c=t.auth)!=null?c:!0,l=(_=t.fragment)!=null?_:!0,K=(D=t.search)!=null?D:!0,E=new C(s.toString());return H||(E.username="",E.password=""),l||(E.hash=""),K||(E.search=""),E.toString()},Ke={format:We,parse:R,resolve:I,resolveObject:x,Url:q,URL:C,URLSearchParams:M,domainToASCII:$e,domainToUnicode:Be,pathToFileURL:ze,fileURLToPath:Xe};r.URL=C,r.URLSearchParams=M,r.Url=q,r.default=Ke,r.domainToASCII=$e,r.domainToUnicode=Be,r.fileURLToPath=Xe,r.format=We,r.parse=R,r.pathToFileURL=ze,r.resolve=I,r.resolveObject=x,r=o.exports=Ke})(Me,Me.exports);var De=Me.exports;(function(o){var r=lt,f=xe,u=ct,n=dt,b=De,h=o;h.request=function(a,v){typeof a=="string"?a=b.parse(a):a=u(a);var w=g.commonjsGlobal.location.protocol.search(/^https?:$/)===-1?"http:":"",A=a.protocol||w,d=a.hostname||a.host,x=a.port,ee=a.path||"/";d&&d.indexOf(":")!==-1&&(d="["+d+"]"),a.url=(d?A+"//"+d:"")+(x?":"+x:"")+ee,a.method=(a.method||"GET").toUpperCase(),a.headers=a.headers||{};var se=new r(a);return v&&se.on("response",v),se},h.get=function(v,w){var A=h.request(v,w);return A.end(),A},h.ClientRequest=r,h.IncomingMessage=f.IncomingMessage,h.Agent=function(){},h.Agent.defaultMaxSockets=4,h.globalAgent=new h.Agent,h.STATUS_CODES=n,h.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]})(Ne);var tt={exports:{}};(function(o){var r=Ne,f=De,u=o.exports;for(var n in r)r.hasOwnProperty(n)&&(u[n]=r[n]);u.request=function(h,a){return h=b(h),r.request.call(this,h,a)},u.get=function(h,a){return h=b(h),r.get.call(this,h,a)};function b(h){if(typeof h=="string"&&(h=f.parse(h)),h.protocol||(h.protocol="https:"),h.protocol!=="https:")throw new Error('Protocol "'+h.protocol+'" not supported. Expected "https:"');return h}})(tt);var vt=tt.exports;exports.httpsBrowserifyExports=vt;exports.punycodeExports=et;exports.streamHttp=Ne;exports.urlExports=De;
