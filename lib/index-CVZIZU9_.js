"use strict";var Wc=Object.defineProperty;var Jc=(e,t,n)=>t in e?Wc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var at=(e,t,n)=>(Jc(e,typeof t!="symbol"?t+"":t,n),n);Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const u=require("./index-BMvV5qga.js"),Lc=require("./index-CxnM5k14.js"),I=require("./cosmwasm-Cs-vbaNE.js"),li=require("./unsignedTransaction-BVYl4NUm.js"),zc=require("./chain-DBb0uF1j.js");function Kc(e){return e.id!==void 0&&e.pending!==void 0&&e.data!==void 0}var Li={},Wn={},ee={},Ur={},Qc=u.commonjsGlobal&&u.commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ur,"__esModule",{value:!0});Ur.Decimal=void 0;const qe=Qc(u.bnExports),di=100;class Q{static fromUserInput(t,n){Q.verifyFractionalDigits(n);const r=t.match(/[^0-9.]/);if(r)throw new Error(`Invalid character at position ${r.index+1}`);let o,s;if(t==="")o="0",s="";else if(t.search(/\./)===-1)o=t,s="";else{const c=t.split(".");switch(c.length){case 0:case 1:throw new Error("Fewer than two elements in split result. This must not happen here.");case 2:if(!c[1])throw new Error("Fractional part missing");o=c[0],s=c[1].replace(/0+$/,"");break;default:throw new Error("More than one separator found")}}if(s.length>n)throw new Error("Got more fractional digits than supported");const i=`${o}${s.padEnd(n,"0")}`;return new Q(i,n)}static fromAtomics(t,n){return Q.verifyFractionalDigits(n),new Q(t,n)}static zero(t){return Q.verifyFractionalDigits(t),new Q("0",t)}static one(t){return Q.verifyFractionalDigits(t),new Q("1"+"0".repeat(t),t)}static verifyFractionalDigits(t){if(!Number.isInteger(t))throw new Error("Fractional digits is not an integer");if(t<0)throw new Error("Fractional digits must not be negative");if(t>di)throw new Error(`Fractional digits must not exceed ${di}`)}static compare(t,n){if(t.fractionalDigits!==n.fractionalDigits)throw new Error("Fractional digits do not match");return t.data.atomics.cmp(new qe.default(n.atomics))}get atomics(){return this.data.atomics.toString()}get fractionalDigits(){return this.data.fractionalDigits}constructor(t,n){if(!t.match(/^[0-9]+$/))throw new Error("Invalid string format. Only non-negative integers in decimal representation supported.");this.data={atomics:new qe.default(t),fractionalDigits:n}}clone(){return new Q(this.atomics,this.fractionalDigits)}floor(){const t=new qe.default(10).pow(new qe.default(this.data.fractionalDigits)),n=this.data.atomics.div(t);return this.data.atomics.mod(t).isZero()?this.clone():Q.fromAtomics(n.mul(t).toString(),this.fractionalDigits)}ceil(){const t=new qe.default(10).pow(new qe.default(this.data.fractionalDigits)),n=this.data.atomics.div(t);return this.data.atomics.mod(t).isZero()?this.clone():Q.fromAtomics(n.addn(1).mul(t).toString(),this.fractionalDigits)}toString(){const t=new qe.default(10).pow(new qe.default(this.data.fractionalDigits)),n=this.data.atomics.div(t),r=this.data.atomics.mod(t);if(r.isZero())return n.toString();{const s=r.toString().padStart(this.data.fractionalDigits,"0").replace(/0+$/,"");return`${n.toString()}.${s}`}}toFloatApproximation(){const t=Number(this.toString());if(Number.isNaN(t))throw new Error("Conversion to number failed");return t}plus(t){if(this.fractionalDigits!==t.fractionalDigits)throw new Error("Fractional digits do not match");const n=this.data.atomics.add(new qe.default(t.atomics));return new Q(n.toString(),this.fractionalDigits)}minus(t){if(this.fractionalDigits!==t.fractionalDigits)throw new Error("Fractional digits do not match");const n=this.data.atomics.sub(new qe.default(t.atomics));if(n.ltn(0))throw new Error("Difference must not be negative");return new Q(n.toString(),this.fractionalDigits)}multiply(t){const n=this.data.atomics.mul(new qe.default(t.toString()));return new Q(n.toString(),this.fractionalDigits)}equals(t){return Q.compare(this,t)===0}isLessThan(t){return Q.compare(this,t)<0}isLessThanOrEqual(t){return Q.compare(this,t)<=0}isGreaterThan(t){return Q.compare(this,t)>0}isGreaterThanOrEqual(t){return Q.compare(this,t)>=0}}Ur.Decimal=Q;var Je={},Zc=u.commonjsGlobal&&u.commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Je,"__esModule",{value:!0});Je.Uint64=Je.Uint53=Je.Int53=Je.Uint32=void 0;const Pr=Zc(u.bnExports),Xc=new Pr.default("18446744073709551615",10,"be");class Nn{static fromBigEndianBytes(t){return Nn.fromBytes(t)}static fromBytes(t,n="be"){if(t.length!==4)throw new Error("Invalid input length. Expected 4 bytes.");for(let o=0;o<t.length;++o)if(!Number.isInteger(t[o])||t[o]>255||t[o]<0)throw new Error("Invalid value in byte. Found: "+t[o]);const r=n==="be"?t:Array.from(t).reverse();return new Nn(r[0]*2**24+r[1]*2**16+r[2]*2**8+r[3])}static fromString(t){if(!t.match(/^[0-9]+$/))throw new Error("Invalid string format");return new Nn(Number.parseInt(t,10))}constructor(t){if(Number.isNaN(t))throw new Error("Input is not a number");if(!Number.isInteger(t))throw new Error("Input is not an integer");if(t<0||t>4294967295)throw new Error("Input not in uint32 range: "+t.toString());this.data=t}toBytesBigEndian(){return new Uint8Array([Math.floor(this.data/2**24)&255,Math.floor(this.data/2**16)&255,Math.floor(this.data/2**8)&255,Math.floor(this.data/2**0)&255])}toBytesLittleEndian(){return new Uint8Array([Math.floor(this.data/2**0)&255,Math.floor(this.data/2**8)&255,Math.floor(this.data/2**16)&255,Math.floor(this.data/2**24)&255])}toNumber(){return this.data}toBigInt(){return BigInt(this.toNumber())}toString(){return this.data.toString()}}Je.Uint32=Nn;class Un{static fromString(t){if(!t.match(/^-?[0-9]+$/))throw new Error("Invalid string format");return new Un(Number.parseInt(t,10))}constructor(t){if(Number.isNaN(t))throw new Error("Input is not a number");if(!Number.isInteger(t))throw new Error("Input is not an integer");if(t<Number.MIN_SAFE_INTEGER||t>Number.MAX_SAFE_INTEGER)throw new Error("Input not in int53 range: "+t.toString());this.data=t}toNumber(){return this.data}toBigInt(){return BigInt(this.toNumber())}toString(){return this.data.toString()}}Je.Int53=Un;class Bs{static fromString(t){const n=Un.fromString(t);return new Bs(n.toNumber())}constructor(t){const n=new Un(t);if(n.toNumber()<0)throw new Error("Input is negative");this.data=n}toNumber(){return this.data.toNumber()}toBigInt(){return BigInt(this.toNumber())}toString(){return this.data.toString()}}Je.Uint53=Bs;class xt{static fromBytesBigEndian(t){return xt.fromBytes(t)}static fromBytes(t,n="be"){if(t.length!==8)throw new Error("Invalid input length. Expected 8 bytes.");for(let o=0;o<t.length;++o)if(!Number.isInteger(t[o])||t[o]>255||t[o]<0)throw new Error("Invalid value in byte. Found: "+t[o]);const r=n==="be"?Array.from(t):Array.from(t).reverse();return new xt(new Pr.default(r))}static fromString(t){if(!t.match(/^[0-9]+$/))throw new Error("Invalid string format");return new xt(new Pr.default(t,10,"be"))}static fromNumber(t){if(Number.isNaN(t))throw new Error("Input is not a number");if(!Number.isInteger(t))throw new Error("Input is not an integer");let n;try{n=new Pr.default(t)}catch{throw new Error("Input is not a safe integer")}return new xt(n)}constructor(t){if(t.isNeg())throw new Error("Input is negative");if(t.gt(Xc))throw new Error("Input exceeds uint64 range");this.data=t}toBytesBigEndian(){return Uint8Array.from(this.data.toArray("be",8))}toBytesLittleEndian(){return Uint8Array.from(this.data.toArray("le",8))}toString(){return this.data.toString(10)}toBigInt(){return BigInt(this.toString())}toNumber(){return this.data.toNumber()}}Je.Uint64=xt;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Uint64=e.Uint53=e.Uint32=e.Int53=e.Decimal=void 0;var t=Ur;Object.defineProperty(e,"Decimal",{enumerable:!0,get:function(){return t.Decimal}});var n=Je;Object.defineProperty(e,"Int53",{enumerable:!0,get:function(){return n.Int53}}),Object.defineProperty(e,"Uint32",{enumerable:!0,get:function(){return n.Uint32}}),Object.defineProperty(e,"Uint53",{enumerable:!0,get:function(){return n.Uint53}}),Object.defineProperty(e,"Uint64",{enumerable:!0,get:function(){return n.Uint64}})})(ee);var vt={},qr={};Object.defineProperty(qr,"__esModule",{value:!0});qr.decodeTxRaw=void 0;const Ko=u.tx;function Yc(e){const t=Ko.TxRaw.decode(e);return{authInfo:Ko.AuthInfo.decode(t.authInfoBytes),body:Ko.TxBody.decode(t.bodyBytes),signatures:t.signatures}}qr.decodeTxRaw=Yc;var Vt={},ot={},Ae={},_e={},Le={},x={},Gt={};Object.defineProperty(Gt,"__esModule",{value:!0});Gt.fromAscii=Gt.toAscii=void 0;function eu(e){const t=n=>n.split("").map(r=>{const o=r.charCodeAt(0);if(o<32||o>126)throw new Error("Cannot encode character that is out of printable ASCII range: "+o);return o});return Uint8Array.from(t(e))}Gt.toAscii=eu;function tu(e){return(n=>n.map(r=>{if(r<32||r>126)throw new Error("Cannot decode character that is out of printable ASCII range: "+r);return String.fromCharCode(r)}))(Array.from(e)).join("")}Gt.fromAscii=tu;var Ft={},nu=u.commonjsGlobal&&u.commonjsGlobal.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),ru=u.commonjsGlobal&&u.commonjsGlobal.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),ou=u.commonjsGlobal&&u.commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&nu(t,e,n);return ru(t,e),t};Object.defineProperty(Ft,"__esModule",{value:!0});Ft.fromBase64=Ft.toBase64=void 0;const zi=ou(u.base64Js);function su(e){return zi.fromByteArray(e)}Ft.toBase64=su;function iu(e){if(!e.match(/^[a-zA-Z0-9+/]*={0,2}$/))throw new Error("Invalid base64 string format");return zi.toByteArray(e)}Ft.fromBase64=iu;var lt={},Er="qpzry9x8gf2tvdw0s3jn54khce6mua7l",ls={};for(var sr=0;sr<Er.length;sr++){var Qo=Er.charAt(sr);if(ls[Qo]!==void 0)throw new TypeError(Qo+" is ambiguous");ls[Qo]=sr}function Ht(e){var t=e>>25;return(e&33554431)<<5^-(t>>0&1)&996825010^-(t>>1&1)&642813549^-(t>>2&1)&513874426^-(t>>3&1)&1027748829^-(t>>4&1)&705979059}function Ki(e){for(var t=1,n=0;n<e.length;++n){var r=e.charCodeAt(n);if(r<33||r>126)return"Invalid prefix ("+e+")";t=Ht(t)^r>>5}for(t=Ht(t),n=0;n<e.length;++n){var o=e.charCodeAt(n);t=Ht(t)^o&31}return t}function au(e,t,n){if(n=n||90,e.length+7+t.length>n)throw new TypeError("Exceeds length limit");e=e.toLowerCase();var r=Ki(e);if(typeof r=="string")throw new Error(r);for(var o=e+"1",s=0;s<t.length;++s){var i=t[s];if(i>>5)throw new Error("Non 5-bit word");r=Ht(r)^i,o+=Er.charAt(i)}for(s=0;s<6;++s)r=Ht(r);for(r^=1,s=0;s<6;++s){var c=r>>(5-s)*5&31;o+=Er.charAt(c)}return o}function Qi(e,t){if(t=t||90,e.length<8)return e+" too short";if(e.length>t)return"Exceeds length limit";var n=e.toLowerCase(),r=e.toUpperCase();if(e!==n&&e!==r)return"Mixed-case string "+e;e=n;var o=e.lastIndexOf("1");if(o===-1)return"No separator character for "+e;if(o===0)return"Missing prefix for "+e;var s=e.slice(0,o),i=e.slice(o+1);if(i.length<6)return"Data too short";var c=Ki(s);if(typeof c=="string")return c;for(var a=[],l=0;l<i.length;++l){var d=i.charAt(l),g=ls[d];if(g===void 0)return"Unknown character "+d;c=Ht(c)^g,!(l+6>=i.length)&&a.push(g)}return c!==1?"Invalid checksum for "+e:{prefix:s,words:a}}function cu(){var e=Qi.apply(null,arguments);if(typeof e=="object")return e}function uu(e){var t=Qi.apply(null,arguments);if(typeof t=="object")return t;throw new Error(t)}function Hr(e,t,n,r){for(var o=0,s=0,i=(1<<n)-1,c=[],a=0;a<e.length;++a)for(o=o<<t|e[a],s+=t;s>=n;)s-=n,c.push(o>>s&i);if(r)s>0&&c.push(o<<n-s&i);else{if(s>=t)return"Excess padding";if(o<<n-s&i)return"Non-zero padding"}return c}function lu(e){var t=Hr(e,8,5,!0);if(Array.isArray(t))return t}function du(e){var t=Hr(e,8,5,!0);if(Array.isArray(t))return t;throw new Error(t)}function mu(e){var t=Hr(e,5,8,!1);if(Array.isArray(t))return t}function fu(e){var t=Hr(e,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)}var hu={decodeUnsafe:cu,decode:uu,encode:au,toWordsUnsafe:lu,toWords:du,fromWordsUnsafe:mu,fromWords:fu},pu=u.commonjsGlobal&&u.commonjsGlobal.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),gu=u.commonjsGlobal&&u.commonjsGlobal.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),yu=u.commonjsGlobal&&u.commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&pu(t,e,n);return gu(t,e),t};Object.defineProperty(lt,"__esModule",{value:!0});lt.normalizeBech32=lt.fromBech32=lt.toBech32=void 0;const Cr=yu(hu);function Zi(e,t,n){return Cr.encode(e,Cr.toWords(t),n)}lt.toBech32=Zi;function Xi(e,t=1/0){const n=Cr.decode(e,t);return{prefix:n.prefix,data:new Uint8Array(Cr.fromWords(n.words))}}lt.fromBech32=Xi;function bu(e){const{prefix:t,data:n}=Xi(e);return Zi(t,n)}lt.normalizeBech32=bu;var Wt={};Object.defineProperty(Wt,"__esModule",{value:!0});Wt.fromHex=Wt.toHex=void 0;function vu(e){let t="";for(const n of e)t+=("0"+n.toString(16)).slice(-2);return t}Wt.toHex=vu;function wu(e){if(e.length%2!==0)throw new Error("hex string length must be a multiple of 2");const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++){const r=2*n,o=e.slice(r,r+2);if(!o.match(/[0-9a-f]{2}/i))throw new Error("hex string contains invalid characters");t[n]=parseInt(o,16)}return t}Wt.fromHex=wu;var Jt={};Object.defineProperty(Jt,"__esModule",{value:!0});Jt.toRfc3339=Jt.fromRfc3339=void 0;const ku=/^(\d{4})-(\d{2})-(\d{2})[T ](\d{2}):(\d{2}):(\d{2})(\.\d{1,9})?((?:[+-]\d{2}:\d{2})|Z)$/;function It(e,t=2){return e.toString().padStart(t,"0")}function _u(e){const t=ku.exec(e);if(!t)throw new Error("Date string is not in RFC3339 format");const n=+t[1],r=+t[2],o=+t[3],s=+t[4],i=+t[5],c=+t[6],a=t[7]?Math.floor(+t[7]*1e3):0;let l,d,g;t[8]==="Z"?(l=1,d=0,g=0):(l=t[8].substring(0,1)==="-"?-1:1,d=+t[8].substring(1,3),g=+t[8].substring(4,6));const j=l*(d*60+g)*60,k=new Date;return k.setUTCFullYear(n,r-1,o),k.setUTCHours(s,i,c,a),new Date(k.getTime()-j*1e3)}Jt.fromRfc3339=_u;function Su(e){const t=e.getUTCFullYear(),n=It(e.getUTCMonth()+1),r=It(e.getUTCDate()),o=It(e.getUTCHours()),s=It(e.getUTCMinutes()),i=It(e.getUTCSeconds()),c=It(e.getUTCMilliseconds(),3);return`${t}-${n}-${r}T${o}:${s}:${i}.${c}Z`}Jt.toRfc3339=Su;var Lt={};Object.defineProperty(Lt,"__esModule",{value:!0});Lt.fromUtf8=Lt.toUtf8=void 0;function Pu(e){return new TextEncoder().encode(e)}Lt.toUtf8=Pu;function Au(e,t=!1){const n=!t;return new TextDecoder("utf-8",{fatal:n}).decode(e)}Lt.fromUtf8=Au;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.toUtf8=e.fromUtf8=e.toRfc3339=e.fromRfc3339=e.toHex=e.fromHex=e.toBech32=e.normalizeBech32=e.fromBech32=e.toBase64=e.fromBase64=e.toAscii=e.fromAscii=void 0;var t=Gt;Object.defineProperty(e,"fromAscii",{enumerable:!0,get:function(){return t.fromAscii}}),Object.defineProperty(e,"toAscii",{enumerable:!0,get:function(){return t.toAscii}});var n=Ft;Object.defineProperty(e,"fromBase64",{enumerable:!0,get:function(){return n.fromBase64}}),Object.defineProperty(e,"toBase64",{enumerable:!0,get:function(){return n.toBase64}});var r=lt;Object.defineProperty(e,"fromBech32",{enumerable:!0,get:function(){return r.fromBech32}}),Object.defineProperty(e,"normalizeBech32",{enumerable:!0,get:function(){return r.normalizeBech32}}),Object.defineProperty(e,"toBech32",{enumerable:!0,get:function(){return r.toBech32}});var o=Wt;Object.defineProperty(e,"fromHex",{enumerable:!0,get:function(){return o.fromHex}}),Object.defineProperty(e,"toHex",{enumerable:!0,get:function(){return o.toHex}});var s=Jt;Object.defineProperty(e,"fromRfc3339",{enumerable:!0,get:function(){return s.fromRfc3339}}),Object.defineProperty(e,"toRfc3339",{enumerable:!0,get:function(){return s.toRfc3339}});var i=Lt;Object.defineProperty(e,"fromUtf8",{enumerable:!0,get:function(){return i.fromUtf8}}),Object.defineProperty(e,"toUtf8",{enumerable:!0,get:function(){return i.toUtf8}})})(x);var he={},X={},zt={};Object.defineProperty(zt,"__esModule",{value:!0});zt.arrayContentStartsWith=zt.arrayContentEquals=void 0;function Tu(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}zt.arrayContentEquals=Tu;function Eu(e,t){if(e.length<t.length)return!1;for(let n=0;n<t.length;++n)if(e[n]!==t[n])return!1;return!0}zt.arrayContentStartsWith=Eu;var dt={};Object.defineProperty(dt,"__esModule",{value:!0});dt.assertDefinedAndNotNull=dt.assertDefined=dt.assert=void 0;function Cu(e,t){if(!e)throw new Error(t||"condition is not truthy")}dt.assert=Cu;function ju(e,t){if(e===void 0)throw new Error(t??"value is undefined")}dt.assertDefined=ju;function Mu(e,t){if(e==null)throw new Error(t??"value is undefined or null")}dt.assertDefinedAndNotNull=Mu;var Vr={};Object.defineProperty(Vr,"__esModule",{value:!0});Vr.sleep=void 0;async function Ou(e){return new Promise(t=>setTimeout(t,e))}Vr.sleep=Ou;var mt={};Object.defineProperty(mt,"__esModule",{value:!0});mt.isDefined=mt.isUint8Array=mt.isNonNullObject=void 0;function Yi(e){return typeof e=="object"&&e!==null}mt.isNonNullObject=Yi;function Bu(e){return!(!Yi(e)||Object.prototype.toString.call(e)!=="[object Uint8Array]"||typeof u.dist.Buffer<"u"&&typeof u.dist.Buffer.isBuffer<"u"&&u.dist.Buffer.isBuffer(e))}mt.isUint8Array=Bu;function Ru(e){return e!==void 0}mt.isDefined=Ru;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isUint8Array=e.isNonNullObject=e.isDefined=e.sleep=e.assertDefinedAndNotNull=e.assertDefined=e.assert=e.arrayContentStartsWith=e.arrayContentEquals=void 0;var t=zt;Object.defineProperty(e,"arrayContentEquals",{enumerable:!0,get:function(){return t.arrayContentEquals}}),Object.defineProperty(e,"arrayContentStartsWith",{enumerable:!0,get:function(){return t.arrayContentStartsWith}});var n=dt;Object.defineProperty(e,"assert",{enumerable:!0,get:function(){return n.assert}}),Object.defineProperty(e,"assertDefined",{enumerable:!0,get:function(){return n.assertDefined}}),Object.defineProperty(e,"assertDefinedAndNotNull",{enumerable:!0,get:function(){return n.assertDefinedAndNotNull}});var r=Vr;Object.defineProperty(e,"sleep",{enumerable:!0,get:function(){return r.sleep}});var o=mt;Object.defineProperty(e,"isDefined",{enumerable:!0,get:function(){return o.isDefined}}),Object.defineProperty(e,"isNonNullObject",{enumerable:!0,get:function(){return o.isNonNullObject}}),Object.defineProperty(e,"isUint8Array",{enumerable:!0,get:function(){return o.isUint8Array}})})(X);var Iu=u.commonjsGlobal&&u.commonjsGlobal.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),$u=u.commonjsGlobal&&u.commonjsGlobal.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Nu=u.commonjsGlobal&&u.commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&Iu(t,e,n);return $u(t,e),t};Object.defineProperty(he,"__esModule",{value:!0});he.pbkdf2Sha512=he.pbkdf2Sha512Noble=he.pbkdf2Sha512NodeCrypto=he.pbkdf2Sha512Subtle=he.getSubtle=he.getNodeCrypto=void 0;const Et=X,xu=u.require$$1,Du=u.require$$1$1;async function ea(){try{const e=await Promise.resolve().then(()=>Nu(u.requireCryptoBrowserify()));return typeof e=="object"&&Object.keys(e).length<=1?void 0:e}catch{return}}he.getNodeCrypto=ea;async function ta(){var t,n,r;let e=(t=globalThis==null?void 0:globalThis.crypto)==null?void 0:t.subtle;return e||(e=(r=(n=globalThis==null?void 0:globalThis.crypto)==null?void 0:n.webcrypto)==null?void 0:r.subtle),e}he.getSubtle=ta;async function na(e,t,n,r,o){return(0,Et.assert)(e,"Argument subtle is falsy"),(0,Et.assert)(typeof e=="object","Argument subtle is not of type object"),(0,Et.assert)(typeof e.importKey=="function","subtle.importKey is not a function"),(0,Et.assert)(typeof e.deriveBits=="function","subtle.deriveBits is not a function"),e.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]).then(s=>e.deriveBits({name:"PBKDF2",salt:n,iterations:r,hash:{name:"SHA-512"}},s,o*8).then(i=>new Uint8Array(i)))}he.pbkdf2Sha512Subtle=na;async function ra(e,t,n,r,o){return(0,Et.assert)(e,"Argument nodeCrypto is falsy"),(0,Et.assert)(typeof e=="object","Argument nodeCrypto is not of type object"),(0,Et.assert)(typeof e.pbkdf2=="function","nodeCrypto.pbkdf2 is not a function"),new Promise((s,i)=>{e.pbkdf2(t,n,r,o,"sha512",(c,a)=>{c?i(c):s(Uint8Array.from(a))})})}he.pbkdf2Sha512NodeCrypto=ra;async function oa(e,t,n,r){return(0,xu.pbkdf2Async)(Du.sha512,e,t,{c:n,dkLen:r})}he.pbkdf2Sha512Noble=oa;async function Uu(e,t,n,r){const o=await ta();if(o)return na(o,e,t,n,r);{const s=await ea();return s?ra(s,e,t,n,r):oa(e,t,n,r)}}he.pbkdf2Sha512=Uu;var De={},bn={};Object.defineProperty(bn,"__esModule",{value:!0});bn.toRealUint8Array=void 0;function qu(e){return e instanceof Uint8Array?e:Uint8Array.from(e)}bn.toRealUint8Array=qu;Object.defineProperty(De,"__esModule",{value:!0});De.sha512=De.Sha512=De.sha256=De.Sha256=void 0;const Hu=u.require$$0,Vu=u.require$$1$1,sa=bn;class ia{constructor(t){this.blockSize=512/8,this.impl=Hu.sha256.create(),t&&this.update(t)}update(t){return this.impl.update((0,sa.toRealUint8Array)(t)),this}digest(){return this.impl.digest()}}De.Sha256=ia;function Gu(e){return new ia(e).digest()}De.sha256=Gu;class aa{constructor(t){this.blockSize=1024/8,this.impl=Vu.sha512.create(),t&&this.update(t)}update(t){return this.impl.update((0,sa.toRealUint8Array)(t)),this}digest(){return this.impl.digest()}}De.Sha512=aa;function Fu(e){return new aa(e).digest()}De.sha512=Fu;Object.defineProperty(Le,"__esModule",{value:!0});Le.Bip39=Le.EnglishMnemonic=Le.mnemonicToEntropy=Le.entropyToMnemonic=void 0;const mi=x,Wu=he,Ju=De,Rs=["abandon","ability","able","about","above","absent","absorb","abstract","absurd","abuse","access","accident","account","accuse","achieve","acid","acoustic","acquire","across","act","action","actor","actress","actual","adapt","add","addict","address","adjust","admit","adult","advance","advice","aerobic","affair","afford","afraid","again","age","agent","agree","ahead","aim","air","airport","aisle","alarm","album","alcohol","alert","alien","all","alley","allow","almost","alone","alpha","already","also","alter","always","amateur","amazing","among","amount","amused","analyst","anchor","ancient","anger","angle","angry","animal","ankle","announce","annual","another","answer","antenna","antique","anxiety","any","apart","apology","appear","apple","approve","april","arch","arctic","area","arena","argue","arm","armed","armor","army","around","arrange","arrest","arrive","arrow","art","artefact","artist","artwork","ask","aspect","assault","asset","assist","assume","asthma","athlete","atom","attack","attend","attitude","attract","auction","audit","august","aunt","author","auto","autumn","average","avocado","avoid","awake","aware","away","awesome","awful","awkward","axis","baby","bachelor","bacon","badge","bag","balance","balcony","ball","bamboo","banana","banner","bar","barely","bargain","barrel","base","basic","basket","battle","beach","bean","beauty","because","become","beef","before","begin","behave","behind","believe","below","belt","bench","benefit","best","betray","better","between","beyond","bicycle","bid","bike","bind","biology","bird","birth","bitter","black","blade","blame","blanket","blast","bleak","bless","blind","blood","blossom","blouse","blue","blur","blush","board","boat","body","boil","bomb","bone","bonus","book","boost","border","boring","borrow","boss","bottom","bounce","box","boy","bracket","brain","brand","brass","brave","bread","breeze","brick","bridge","brief","bright","bring","brisk","broccoli","broken","bronze","broom","brother","brown","brush","bubble","buddy","budget","buffalo","build","bulb","bulk","bullet","bundle","bunker","burden","burger","burst","bus","business","busy","butter","buyer","buzz","cabbage","cabin","cable","cactus","cage","cake","call","calm","camera","camp","can","canal","cancel","candy","cannon","canoe","canvas","canyon","capable","capital","captain","car","carbon","card","cargo","carpet","carry","cart","case","cash","casino","castle","casual","cat","catalog","catch","category","cattle","caught","cause","caution","cave","ceiling","celery","cement","census","century","cereal","certain","chair","chalk","champion","change","chaos","chapter","charge","chase","chat","cheap","check","cheese","chef","cherry","chest","chicken","chief","child","chimney","choice","choose","chronic","chuckle","chunk","churn","cigar","cinnamon","circle","citizen","city","civil","claim","clap","clarify","claw","clay","clean","clerk","clever","click","client","cliff","climb","clinic","clip","clock","clog","close","cloth","cloud","clown","club","clump","cluster","clutch","coach","coast","coconut","code","coffee","coil","coin","collect","color","column","combine","come","comfort","comic","common","company","concert","conduct","confirm","congress","connect","consider","control","convince","cook","cool","copper","copy","coral","core","corn","correct","cost","cotton","couch","country","couple","course","cousin","cover","coyote","crack","cradle","craft","cram","crane","crash","crater","crawl","crazy","cream","credit","creek","crew","cricket","crime","crisp","critic","crop","cross","crouch","crowd","crucial","cruel","cruise","crumble","crunch","crush","cry","crystal","cube","culture","cup","cupboard","curious","current","curtain","curve","cushion","custom","cute","cycle","dad","damage","damp","dance","danger","daring","dash","daughter","dawn","day","deal","debate","debris","decade","december","decide","decline","decorate","decrease","deer","defense","define","defy","degree","delay","deliver","demand","demise","denial","dentist","deny","depart","depend","deposit","depth","deputy","derive","describe","desert","design","desk","despair","destroy","detail","detect","develop","device","devote","diagram","dial","diamond","diary","dice","diesel","diet","differ","digital","dignity","dilemma","dinner","dinosaur","direct","dirt","disagree","discover","disease","dish","dismiss","disorder","display","distance","divert","divide","divorce","dizzy","doctor","document","dog","doll","dolphin","domain","donate","donkey","donor","door","dose","double","dove","draft","dragon","drama","drastic","draw","dream","dress","drift","drill","drink","drip","drive","drop","drum","dry","duck","dumb","dune","during","dust","dutch","duty","dwarf","dynamic","eager","eagle","early","earn","earth","easily","east","easy","echo","ecology","economy","edge","edit","educate","effort","egg","eight","either","elbow","elder","electric","elegant","element","elephant","elevator","elite","else","embark","embody","embrace","emerge","emotion","employ","empower","empty","enable","enact","end","endless","endorse","enemy","energy","enforce","engage","engine","enhance","enjoy","enlist","enough","enrich","enroll","ensure","enter","entire","entry","envelope","episode","equal","equip","era","erase","erode","erosion","error","erupt","escape","essay","essence","estate","eternal","ethics","evidence","evil","evoke","evolve","exact","example","excess","exchange","excite","exclude","excuse","execute","exercise","exhaust","exhibit","exile","exist","exit","exotic","expand","expect","expire","explain","expose","express","extend","extra","eye","eyebrow","fabric","face","faculty","fade","faint","faith","fall","false","fame","family","famous","fan","fancy","fantasy","farm","fashion","fat","fatal","father","fatigue","fault","favorite","feature","february","federal","fee","feed","feel","female","fence","festival","fetch","fever","few","fiber","fiction","field","figure","file","film","filter","final","find","fine","finger","finish","fire","firm","first","fiscal","fish","fit","fitness","fix","flag","flame","flash","flat","flavor","flee","flight","flip","float","flock","floor","flower","fluid","flush","fly","foam","focus","fog","foil","fold","follow","food","foot","force","forest","forget","fork","fortune","forum","forward","fossil","foster","found","fox","fragile","frame","frequent","fresh","friend","fringe","frog","front","frost","frown","frozen","fruit","fuel","fun","funny","furnace","fury","future","gadget","gain","galaxy","gallery","game","gap","garage","garbage","garden","garlic","garment","gas","gasp","gate","gather","gauge","gaze","general","genius","genre","gentle","genuine","gesture","ghost","giant","gift","giggle","ginger","giraffe","girl","give","glad","glance","glare","glass","glide","glimpse","globe","gloom","glory","glove","glow","glue","goat","goddess","gold","good","goose","gorilla","gospel","gossip","govern","gown","grab","grace","grain","grant","grape","grass","gravity","great","green","grid","grief","grit","grocery","group","grow","grunt","guard","guess","guide","guilt","guitar","gun","gym","habit","hair","half","hammer","hamster","hand","happy","harbor","hard","harsh","harvest","hat","have","hawk","hazard","head","health","heart","heavy","hedgehog","height","hello","helmet","help","hen","hero","hidden","high","hill","hint","hip","hire","history","hobby","hockey","hold","hole","holiday","hollow","home","honey","hood","hope","horn","horror","horse","hospital","host","hotel","hour","hover","hub","huge","human","humble","humor","hundred","hungry","hunt","hurdle","hurry","hurt","husband","hybrid","ice","icon","idea","identify","idle","ignore","ill","illegal","illness","image","imitate","immense","immune","impact","impose","improve","impulse","inch","include","income","increase","index","indicate","indoor","industry","infant","inflict","inform","inhale","inherit","initial","inject","injury","inmate","inner","innocent","input","inquiry","insane","insect","inside","inspire","install","intact","interest","into","invest","invite","involve","iron","island","isolate","issue","item","ivory","jacket","jaguar","jar","jazz","jealous","jeans","jelly","jewel","job","join","joke","journey","joy","judge","juice","jump","jungle","junior","junk","just","kangaroo","keen","keep","ketchup","key","kick","kid","kidney","kind","kingdom","kiss","kit","kitchen","kite","kitten","kiwi","knee","knife","knock","know","lab","label","labor","ladder","lady","lake","lamp","language","laptop","large","later","latin","laugh","laundry","lava","law","lawn","lawsuit","layer","lazy","leader","leaf","learn","leave","lecture","left","leg","legal","legend","leisure","lemon","lend","length","lens","leopard","lesson","letter","level","liar","liberty","library","license","life","lift","light","like","limb","limit","link","lion","liquid","list","little","live","lizard","load","loan","lobster","local","lock","logic","lonely","long","loop","lottery","loud","lounge","love","loyal","lucky","luggage","lumber","lunar","lunch","luxury","lyrics","machine","mad","magic","magnet","maid","mail","main","major","make","mammal","man","manage","mandate","mango","mansion","manual","maple","marble","march","margin","marine","market","marriage","mask","mass","master","match","material","math","matrix","matter","maximum","maze","meadow","mean","measure","meat","mechanic","medal","media","melody","melt","member","memory","mention","menu","mercy","merge","merit","merry","mesh","message","metal","method","middle","midnight","milk","million","mimic","mind","minimum","minor","minute","miracle","mirror","misery","miss","mistake","mix","mixed","mixture","mobile","model","modify","mom","moment","monitor","monkey","monster","month","moon","moral","more","morning","mosquito","mother","motion","motor","mountain","mouse","move","movie","much","muffin","mule","multiply","muscle","museum","mushroom","music","must","mutual","myself","mystery","myth","naive","name","napkin","narrow","nasty","nation","nature","near","neck","need","negative","neglect","neither","nephew","nerve","nest","net","network","neutral","never","news","next","nice","night","noble","noise","nominee","noodle","normal","north","nose","notable","note","nothing","notice","novel","now","nuclear","number","nurse","nut","oak","obey","object","oblige","obscure","observe","obtain","obvious","occur","ocean","october","odor","off","offer","office","often","oil","okay","old","olive","olympic","omit","once","one","onion","online","only","open","opera","opinion","oppose","option","orange","orbit","orchard","order","ordinary","organ","orient","original","orphan","ostrich","other","outdoor","outer","output","outside","oval","oven","over","own","owner","oxygen","oyster","ozone","pact","paddle","page","pair","palace","palm","panda","panel","panic","panther","paper","parade","parent","park","parrot","party","pass","patch","path","patient","patrol","pattern","pause","pave","payment","peace","peanut","pear","peasant","pelican","pen","penalty","pencil","people","pepper","perfect","permit","person","pet","phone","photo","phrase","physical","piano","picnic","picture","piece","pig","pigeon","pill","pilot","pink","pioneer","pipe","pistol","pitch","pizza","place","planet","plastic","plate","play","please","pledge","pluck","plug","plunge","poem","poet","point","polar","pole","police","pond","pony","pool","popular","portion","position","possible","post","potato","pottery","poverty","powder","power","practice","praise","predict","prefer","prepare","present","pretty","prevent","price","pride","primary","print","priority","prison","private","prize","problem","process","produce","profit","program","project","promote","proof","property","prosper","protect","proud","provide","public","pudding","pull","pulp","pulse","pumpkin","punch","pupil","puppy","purchase","purity","purpose","purse","push","put","puzzle","pyramid","quality","quantum","quarter","question","quick","quit","quiz","quote","rabbit","raccoon","race","rack","radar","radio","rail","rain","raise","rally","ramp","ranch","random","range","rapid","rare","rate","rather","raven","raw","razor","ready","real","reason","rebel","rebuild","recall","receive","recipe","record","recycle","reduce","reflect","reform","refuse","region","regret","regular","reject","relax","release","relief","rely","remain","remember","remind","remove","render","renew","rent","reopen","repair","repeat","replace","report","require","rescue","resemble","resist","resource","response","result","retire","retreat","return","reunion","reveal","review","reward","rhythm","rib","ribbon","rice","rich","ride","ridge","rifle","right","rigid","ring","riot","ripple","risk","ritual","rival","river","road","roast","robot","robust","rocket","romance","roof","rookie","room","rose","rotate","rough","round","route","royal","rubber","rude","rug","rule","run","runway","rural","sad","saddle","sadness","safe","sail","salad","salmon","salon","salt","salute","same","sample","sand","satisfy","satoshi","sauce","sausage","save","say","scale","scan","scare","scatter","scene","scheme","school","science","scissors","scorpion","scout","scrap","screen","script","scrub","sea","search","season","seat","second","secret","section","security","seed","seek","segment","select","sell","seminar","senior","sense","sentence","series","service","session","settle","setup","seven","shadow","shaft","shallow","share","shed","shell","sheriff","shield","shift","shine","ship","shiver","shock","shoe","shoot","shop","short","shoulder","shove","shrimp","shrug","shuffle","shy","sibling","sick","side","siege","sight","sign","silent","silk","silly","silver","similar","simple","since","sing","siren","sister","situate","six","size","skate","sketch","ski","skill","skin","skirt","skull","slab","slam","sleep","slender","slice","slide","slight","slim","slogan","slot","slow","slush","small","smart","smile","smoke","smooth","snack","snake","snap","sniff","snow","soap","soccer","social","sock","soda","soft","solar","soldier","solid","solution","solve","someone","song","soon","sorry","sort","soul","sound","soup","source","south","space","spare","spatial","spawn","speak","special","speed","spell","spend","sphere","spice","spider","spike","spin","spirit","split","spoil","sponsor","spoon","sport","spot","spray","spread","spring","spy","square","squeeze","squirrel","stable","stadium","staff","stage","stairs","stamp","stand","start","state","stay","steak","steel","stem","step","stereo","stick","still","sting","stock","stomach","stone","stool","story","stove","strategy","street","strike","strong","struggle","student","stuff","stumble","style","subject","submit","subway","success","such","sudden","suffer","sugar","suggest","suit","summer","sun","sunny","sunset","super","supply","supreme","sure","surface","surge","surprise","surround","survey","suspect","sustain","swallow","swamp","swap","swarm","swear","sweet","swift","swim","swing","switch","sword","symbol","symptom","syrup","system","table","tackle","tag","tail","talent","talk","tank","tape","target","task","taste","tattoo","taxi","teach","team","tell","ten","tenant","tennis","tent","term","test","text","thank","that","theme","then","theory","there","they","thing","this","thought","three","thrive","throw","thumb","thunder","ticket","tide","tiger","tilt","timber","time","tiny","tip","tired","tissue","title","toast","tobacco","today","toddler","toe","together","toilet","token","tomato","tomorrow","tone","tongue","tonight","tool","tooth","top","topic","topple","torch","tornado","tortoise","toss","total","tourist","toward","tower","town","toy","track","trade","traffic","tragic","train","transfer","trap","trash","travel","tray","treat","tree","trend","trial","tribe","trick","trigger","trim","trip","trophy","trouble","truck","true","truly","trumpet","trust","truth","try","tube","tuition","tumble","tuna","tunnel","turkey","turn","turtle","twelve","twenty","twice","twin","twist","two","type","typical","ugly","umbrella","unable","unaware","uncle","uncover","under","undo","unfair","unfold","unhappy","uniform","unique","unit","universe","unknown","unlock","until","unusual","unveil","update","upgrade","uphold","upon","upper","upset","urban","urge","usage","use","used","useful","useless","usual","utility","vacant","vacuum","vague","valid","valley","valve","van","vanish","vapor","various","vast","vault","vehicle","velvet","vendor","venture","venue","verb","verify","version","very","vessel","veteran","viable","vibrant","vicious","victory","video","view","village","vintage","violin","virtual","virus","visa","visit","visual","vital","vivid","vocal","voice","void","volcano","volume","vote","voyage","wage","wagon","wait","walk","wall","walnut","want","warfare","warm","warrior","wash","wasp","waste","water","wave","way","wealth","weapon","wear","weasel","weather","web","wedding","weekend","weird","welcome","west","wet","whale","what","wheat","wheel","when","where","whip","whisper","wide","width","wife","wild","will","win","window","wine","wing","wink","winner","winter","wire","wisdom","wise","wish","witness","wolf","woman","wonder","wood","wool","word","work","world","worry","worth","wrap","wreck","wrestle","wrist","write","wrong","yard","year","yellow","you","young","youth","zebra","zero","zone","zoo"];function ca(e){return Array.from(e).map(t=>t.toString(2).padStart(8,"0")).join("")}function ua(e){const n=e.length*8/32,r=(0,Ju.sha256)(e);return ca(r).slice(0,n)}function la(e){return parseInt(e,2)}const Lu=[16,20,24,28,32],zu=[12,15,18,21,24];function da(e){if(Lu.indexOf(e.length)===-1)throw new Error("invalid input length");const t=ca(e),n=ua(e);return(t+n).match(/(.{11})/g).map(i=>{const c=la(i);return Rs[c]}).join(" ")}Le.entropyToMnemonic=da;const Ku="Invalid number of words",Qu="Found word that is not in the wordlist",Zu="Invalid entropy",Xu="Invalid mnemonic checksum";function ds(e){return e.normalize("NFKD")}function Is(e){const t=ds(e).split(" ");if(!zu.includes(t.length))throw new Error(Ku);const n=t.map(l=>{const d=Rs.indexOf(l);if(d===-1)throw new Error(Qu);return d.toString(2).padStart(11,"0")}).join(""),r=Math.floor(n.length/33)*32,o=n.slice(0,r),s=n.slice(r),i=o.match(/(.{1,8})/g).map(la);if(i.length<16||i.length>32||i.length%4!==0)throw new Error(Zu);const c=Uint8Array.from(i);if(ua(c)!==s)throw new Error(Xu);return c}Le.mnemonicToEntropy=Is;class Ct{constructor(t){if(!Ct.mnemonicMatcher.test(t))throw new Error("Invalid mnemonic format");const n=t.split(" "),r=[12,15,18,21,24];if(r.indexOf(n.length)===-1)throw new Error(`Invalid word count in mnemonic (allowed: ${r} got: ${n.length})`);for(const o of n)if(Ct.wordlist.indexOf(o)===-1)throw new Error("Mnemonic contains invalid word");Is(t),this.data=t}toString(){return this.data}}Le.EnglishMnemonic=Ct;Ct.wordlist=Rs;Ct.mnemonicMatcher=/^[a-z]+( [a-z]+)*$/;class Yu{static encode(t){return new Ct(da(t))}static decode(t){return Is(t.toString())}static async mnemonicToSeed(t,n){const r=(0,mi.toUtf8)(ds(t.toString())),o="mnemonic"+(n?ds(n):""),s=(0,mi.toUtf8)(o);return(0,Wu.pbkdf2Sha512)(r,s,2048,64)}}Le.Bip39=Yu;var Jn={};Object.defineProperty(Jn,"__esModule",{value:!0});Jn.Hmac=void 0;class el{constructor(t,n){const r=new t().blockSize;this.hash=s=>new t().update(s).digest();let o=n;if(o.length>r&&(o=this.hash(o)),o.length<r){const s=new Uint8Array(r-o.length);o=new Uint8Array([...o,...s])}this.oKeyPad=o.map(s=>s^92),this.iKeyPad=o.map(s=>s^54),this.messageHasher=new t,this.blockSize=r,this.update(this.iKeyPad)}update(t){return this.messageHasher.update(t),this}digest(){const t=this.messageHasher.digest();return this.hash(new Uint8Array([...this.oKeyPad,...t]))}}Jn.Hmac=el;var Kt={};Object.defineProperty(Kt,"__esModule",{value:!0});Kt.keccak256=Kt.Keccak256=void 0;const tl=u.require$$0$1,nl=bn;class ma{constructor(t){this.blockSize=512/8,this.impl=tl.keccak_256.create(),t&&this.update(t)}update(t){return this.impl.update((0,nl.toRealUint8Array)(t)),this}digest(){return this.impl.digest()}}Kt.Keccak256=ma;function rl(e){return new ma(e).digest()}Kt.keccak256=rl;var pe={},ol=u.commonjsGlobal&&u.commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pe,"__esModule",{value:!0});pe.Xchacha20poly1305Ietf=pe.xchacha20NonceLength=pe.Ed25519=pe.Ed25519Keypair=pe.Argon2id=pe.isArgon2idOptions=void 0;const sl=X,Pe=ol(u.libsodiumWrappers);function il(e){return!(!(0,sl.isNonNullObject)(e)||typeof e.outputLength!="number"||typeof e.opsLimit!="number"||typeof e.memLimitKib!="number")}pe.isArgon2idOptions=il;class al{static async execute(t,n,r){return await Pe.default.ready,Pe.default.crypto_pwhash(r.outputLength,t,n,r.opsLimit,r.memLimitKib*1024,Pe.default.crypto_pwhash_ALG_ARGON2ID13)}}pe.Argon2id=al;class Gr{static fromLibsodiumPrivkey(t){if(t.length!==64)throw new Error(`Unexpected key length ${t.length}. Must be 64.`);return new Gr(t.slice(0,32),t.slice(32,64))}constructor(t,n){this.privkey=t,this.pubkey=n}toLibsodiumPrivkey(){return new Uint8Array([...this.privkey,...this.pubkey])}}pe.Ed25519Keypair=Gr;class cl{static async makeKeypair(t){await Pe.default.ready;const n=Pe.default.crypto_sign_seed_keypair(t);return Gr.fromLibsodiumPrivkey(n.privateKey)}static async createSignature(t,n){return await Pe.default.ready,Pe.default.crypto_sign_detached(t,n.toLibsodiumPrivkey())}static async verifySignature(t,n,r){return await Pe.default.ready,Pe.default.crypto_sign_verify_detached(t,n,r)}}pe.Ed25519=cl;pe.xchacha20NonceLength=24;class ul{static async encrypt(t,n,r){return await Pe.default.ready,Pe.default.crypto_aead_xchacha20poly1305_ietf_encrypt(t,null,null,r,n)}static async decrypt(t,n,r){return await Pe.default.ready,Pe.default.crypto_aead_xchacha20poly1305_ietf_decrypt(null,t,null,r,n)}}pe.Xchacha20poly1305Ietf=ul;var Fr={};Object.defineProperty(Fr,"__esModule",{value:!0});Fr.Random=void 0;class ll{static getBytes(t){try{const n=typeof window=="object"?window:self,r=typeof n.crypto<"u"?n.crypto:n.msCrypto,o=new Uint8Array(t);return r.getRandomValues(o),o}catch{try{const n=u.requireCryptoBrowserify();return new Uint8Array([...n.randomBytes(t)])}catch{throw new Error("No secure random number generator found")}}}}Fr.Random=ll;var Qt={};Object.defineProperty(Qt,"__esModule",{value:!0});Qt.ripemd160=Qt.Ripemd160=void 0;const dl=u.require$$0$2,ml=bn;class fa{constructor(t){this.blockSize=512/8,this.impl=dl.ripemd160.create(),t&&this.update(t)}update(t){return this.impl.update((0,ml.toRealUint8Array)(t)),this}digest(){return this.impl.digest()}}Qt.Ripemd160=fa;function fl(e){return new fa(e).digest()}Qt.ripemd160=fl;var Wr={},jt={};Object.defineProperty(jt,"__esModule",{value:!0});jt.ExtendedSecp256k1Signature=jt.Secp256k1Signature=void 0;function Dt(e){let t=0;for(const n of e)if(n===0)t++;else break;return e.slice(t)}const ir=2;class qn{static fromFixedLength(t){if(t.length!==64)throw new Error(`Got invalid data length: ${t.length}. Expected 2x 32 bytes for the pair (r, s)`);return new qn(Dt(t.slice(0,32)),Dt(t.slice(32,64)))}static fromDer(t){let n=0;if(t[n++]!==48)throw new Error("Prefix 0x30 expected");const r=t[n++];if(t.length-n!==r)throw new Error("Data length mismatch detected");if(t[n++]!==ir)throw new Error("INTEGER tag expected");const s=t[n++];if(s>=128)throw new Error("Decoding length values above 127 not supported");const i=t.slice(n,n+s);if(n+=s,t[n++]!==ir)throw new Error("INTEGER tag expected");const a=t[n++];if(a>=128)throw new Error("Decoding length values above 127 not supported");const l=t.slice(n,n+a);return n+=a,new qn(Dt(i),Dt(l))}constructor(t,n){if(t.length>32||t.length===0||t[0]===0)throw new Error("Unsigned integer r must be encoded as unpadded big endian.");if(n.length>32||n.length===0||n[0]===0)throw new Error("Unsigned integer s must be encoded as unpadded big endian.");this.data={r:t,s:n}}r(t){if(t===void 0)return this.data.r;{const n=t-this.data.r.length;if(n<0)throw new Error("Length too small to hold parameter r");const r=new Uint8Array(n);return new Uint8Array([...r,...this.data.r])}}s(t){if(t===void 0)return this.data.s;{const n=t-this.data.s.length;if(n<0)throw new Error("Length too small to hold parameter s");const r=new Uint8Array(n);return new Uint8Array([...r,...this.data.s])}}toFixedLength(){return new Uint8Array([...this.r(32),...this.s(32)])}toDer(){const t=this.data.r[0]>=128?new Uint8Array([0,...this.data.r]):this.data.r,n=this.data.s[0]>=128?new Uint8Array([0,...this.data.s]):this.data.s,r=t.length,o=n.length,s=new Uint8Array([ir,r,...t,ir,o,...n]);return new Uint8Array([48,s.length,...s])}}jt.Secp256k1Signature=qn;class $s extends qn{static fromFixedLength(t){if(t.length!==65)throw new Error(`Got invalid data length ${t.length}. Expected 32 + 32 + 1`);return new $s(Dt(t.slice(0,32)),Dt(t.slice(32,64)),t[64])}constructor(t,n,r){if(super(t,n),!Number.isInteger(r))throw new Error("The recovery parameter must be an integer.");if(r<0||r>4)throw new Error("The recovery parameter must be one of 0, 1, 2, 3.");this.recovery=r}toFixedLength(){return new Uint8Array([...this.r(32),...this.s(32),this.recovery])}}jt.ExtendedSecp256k1Signature=$s;var ha=u.commonjsGlobal&&u.commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Wr,"__esModule",{value:!0});Wr.Secp256k1=void 0;const ar=x,pa=ha(u.bnExports),hl=ha(u.requireElliptic()),pl=jt,wt=new hl.default.ec("secp256k1"),gl=new pa.default("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","hex");class yl{static async makeKeypair(t){if(t.length!==32)throw new Error("input data is not a valid secp256k1 private key");const n=wt.keyFromPrivate(t);if(n.validate().result!==!0)throw new Error("input data is not a valid secp256k1 private key");if(new pa.default(t).gte(gl))throw new Error("input data is not a valid secp256k1 private key");return{privkey:(0,ar.fromHex)(n.getPrivate("hex")),pubkey:Uint8Array.from(n.getPublic("array"))}}static async createSignature(t,n){if(t.length===0)throw new Error("Message hash must not be empty");if(t.length>32)throw new Error("Message hash length must not exceed 32 bytes");const r=wt.keyFromPrivate(n),{r:o,s,recoveryParam:i}=r.sign(t,{canonical:!0});if(typeof i!="number")throw new Error("Recovery param missing");return new pl.ExtendedSecp256k1Signature(Uint8Array.from(o.toArray()),Uint8Array.from(s.toArray()),i)}static async verifySignature(t,n,r){if(n.length===0)throw new Error("Message hash must not be empty");if(n.length>32)throw new Error("Message hash length must not exceed 32 bytes");const o=wt.keyFromPublic(r);try{return o.verify(n,t.toDer())}catch{return!1}}static recoverPubkey(t,n){const r={r:(0,ar.toHex)(t.r()),s:(0,ar.toHex)(t.s())},o=wt.recoverPubKey(n,r,t.recovery),s=wt.keyFromPublic(o);return(0,ar.fromHex)(s.getPublic(!1,"hex"))}static compressPubkey(t){switch(t.length){case 33:return t;case 65:return Uint8Array.from(wt.keyFromPublic(t).getPublic(!0,"array"));default:throw new Error("Invalid pubkey length")}}static uncompressPubkey(t){switch(t.length){case 33:return Uint8Array.from(wt.keyFromPublic(t).getPublic(!1,"array"));case 65:return t;default:throw new Error("Invalid pubkey length")}}static trimRecoveryByte(t){switch(t.length){case 64:return t;case 65:return t.slice(0,64);default:throw new Error("Invalid signature length")}}}Wr.Secp256k1=yl;var ga={};(function(e){var t=u.commonjsGlobal&&u.commonjsGlobal.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(e,"__esModule",{value:!0}),e.stringToPath=e.pathToString=e.Slip10=e.Slip10RawIndex=e.slip10CurveFromString=e.Slip10Curve=void 0;const n=x,r=ee,o=t(u.bnExports),s=t(u.requireElliptic()),i=Jn,c=De;var a;(function(y){y.Secp256k1="Bitcoin seed",y.Ed25519="ed25519 seed"})(a=e.Slip10Curve||(e.Slip10Curve={}));function l(y){switch(y){case a.Ed25519:return a.Ed25519;case a.Secp256k1:return a.Secp256k1;default:throw new Error(`Unknown curve string: '${y}'`)}}e.slip10CurveFromString=l;class d extends r.Uint32{static hardened(p){return new d(p+2**31)}static normal(p){return new d(p)}isHardened(){return this.data>=2**31}}e.Slip10RawIndex=d;const g=new s.default.ec("secp256k1");class j{static derivePath(p,v,q){let D=this.master(p,v);for(const ce of q)D=this.child(p,D.privkey,D.chainCode,ce);return D}static master(p,v){const q=new i.Hmac(c.Sha512,(0,n.toAscii)(p)).update(v).digest(),D=q.slice(0,32),ce=q.slice(32,64);return p!==a.Ed25519&&(this.isZero(D)||this.isGteN(p,D))?this.master(p,q):{chainCode:ce,privkey:D}}static child(p,v,q,D){let ce;if(D.isHardened()){const b=new Uint8Array([0,...v,...D.toBytesBigEndian()]);ce=new i.Hmac(c.Sha512,q).update(b).digest()}else{if(p===a.Ed25519)throw new Error("Normal keys are not allowed with ed25519");{const b=new Uint8Array([...j.serializedPoint(p,new o.default(v)),...D.toBytesBigEndian()]);ce=new i.Hmac(c.Sha512,q).update(b).digest()}}return this.childImpl(p,v,q,D,ce)}static serializedPoint(p,v){switch(p){case a.Secp256k1:return(0,n.fromHex)(g.g.mul(v).encodeCompressed("hex"));default:throw new Error("curve not supported")}}static childImpl(p,v,q,D,ce){const b=ce.slice(0,32),_=ce.slice(32,64),w=_;if(p===a.Ed25519)return{chainCode:w,privkey:b};const U=this.n(p),H=new o.default(b).add(new o.default(v)).mod(U),V=Uint8Array.from(H.toArray("be",32));if(this.isGteN(p,b)||this.isZero(V)){const F=new i.Hmac(c.Sha512,q).update(new Uint8Array([1,..._,...D.toBytesBigEndian()])).digest();return this.childImpl(p,v,q,D,F)}return{chainCode:w,privkey:V}}static isZero(p){return p.every(v=>v===0)}static isGteN(p,v){return new o.default(v).gte(this.n(p))}static n(p){switch(p){case a.Secp256k1:return new o.default("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141",16);default:throw new Error("curve not supported")}}}e.Slip10=j;function k(y){return y.reduce((p,v)=>{const q=v.isHardened()?`${v.toNumber()-2147483648}'`:v.toString();return p+"/"+q},"m")}e.pathToString=k;function G(y){if(!y.startsWith("m"))throw new Error("Path string must start with 'm'");let p=y.slice(1);const v=new Array;for(;p;){const q=p.match(/^\/([0-9]+)('?)/);if(!q)throw new Error("Syntax error while reading path component");const[D,ce,b]=q,_=r.Uint53.fromString(ce).toNumber();if(_>=2**31)throw new Error("Component value too high. Must not exceed 2**31-1.");b?v.push(d.hardened(_)):v.push(d.normal(_)),p=p.slice(D.length)}return v}e.stringToPath=G})(ga);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.stringToPath=e.Slip10RawIndex=e.slip10CurveFromString=e.Slip10Curve=e.Slip10=e.pathToString=e.sha512=e.Sha512=e.sha256=e.Sha256=e.Secp256k1Signature=e.ExtendedSecp256k1Signature=e.Secp256k1=e.ripemd160=e.Ripemd160=e.Random=e.Xchacha20poly1305Ietf=e.xchacha20NonceLength=e.isArgon2idOptions=e.Ed25519Keypair=e.Ed25519=e.Argon2id=e.keccak256=e.Keccak256=e.Hmac=e.EnglishMnemonic=e.Bip39=void 0;var t=Le;Object.defineProperty(e,"Bip39",{enumerable:!0,get:function(){return t.Bip39}}),Object.defineProperty(e,"EnglishMnemonic",{enumerable:!0,get:function(){return t.EnglishMnemonic}});var n=Jn;Object.defineProperty(e,"Hmac",{enumerable:!0,get:function(){return n.Hmac}});var r=Kt;Object.defineProperty(e,"Keccak256",{enumerable:!0,get:function(){return r.Keccak256}}),Object.defineProperty(e,"keccak256",{enumerable:!0,get:function(){return r.keccak256}});var o=pe;Object.defineProperty(e,"Argon2id",{enumerable:!0,get:function(){return o.Argon2id}}),Object.defineProperty(e,"Ed25519",{enumerable:!0,get:function(){return o.Ed25519}}),Object.defineProperty(e,"Ed25519Keypair",{enumerable:!0,get:function(){return o.Ed25519Keypair}}),Object.defineProperty(e,"isArgon2idOptions",{enumerable:!0,get:function(){return o.isArgon2idOptions}}),Object.defineProperty(e,"xchacha20NonceLength",{enumerable:!0,get:function(){return o.xchacha20NonceLength}}),Object.defineProperty(e,"Xchacha20poly1305Ietf",{enumerable:!0,get:function(){return o.Xchacha20poly1305Ietf}});var s=Fr;Object.defineProperty(e,"Random",{enumerable:!0,get:function(){return s.Random}});var i=Qt;Object.defineProperty(e,"Ripemd160",{enumerable:!0,get:function(){return i.Ripemd160}}),Object.defineProperty(e,"ripemd160",{enumerable:!0,get:function(){return i.ripemd160}});var c=Wr;Object.defineProperty(e,"Secp256k1",{enumerable:!0,get:function(){return c.Secp256k1}});var a=jt;Object.defineProperty(e,"ExtendedSecp256k1Signature",{enumerable:!0,get:function(){return a.ExtendedSecp256k1Signature}}),Object.defineProperty(e,"Secp256k1Signature",{enumerable:!0,get:function(){return a.Secp256k1Signature}});var l=De;Object.defineProperty(e,"Sha256",{enumerable:!0,get:function(){return l.Sha256}}),Object.defineProperty(e,"sha256",{enumerable:!0,get:function(){return l.sha256}}),Object.defineProperty(e,"Sha512",{enumerable:!0,get:function(){return l.Sha512}}),Object.defineProperty(e,"sha512",{enumerable:!0,get:function(){return l.sha512}});var d=ga;Object.defineProperty(e,"pathToString",{enumerable:!0,get:function(){return d.pathToString}}),Object.defineProperty(e,"Slip10",{enumerable:!0,get:function(){return d.Slip10}}),Object.defineProperty(e,"Slip10Curve",{enumerable:!0,get:function(){return d.Slip10Curve}}),Object.defineProperty(e,"slip10CurveFromString",{enumerable:!0,get:function(){return d.slip10CurveFromString}}),Object.defineProperty(e,"Slip10RawIndex",{enumerable:!0,get:function(){return d.Slip10RawIndex}}),Object.defineProperty(e,"stringToPath",{enumerable:!0,get:function(){return d.stringToPath}})})(_e);var se={},Ln={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isMultisigThresholdPubkey=e.isSinglePubkey=e.pubkeyType=e.isSecp256k1Pubkey=e.isEd25519Pubkey=void 0;function t(s){return s.type==="tendermint/PubKeyEd25519"}e.isEd25519Pubkey=t;function n(s){return s.type==="tendermint/PubKeySecp256k1"}e.isSecp256k1Pubkey=n,e.pubkeyType={secp256k1:"tendermint/PubKeySecp256k1",ed25519:"tendermint/PubKeyEd25519",sr25519:"tendermint/PubKeySr25519",multisigThreshold:"tendermint/PubKeyMultisigThreshold"};function r(s){return[e.pubkeyType.ed25519,e.pubkeyType.secp256k1,e.pubkeyType.sr25519].includes(s.type)}e.isSinglePubkey=r;function o(s){return s.type==="tendermint/PubKeyMultisigThreshold"}e.isMultisigThresholdPubkey=o})(Ln);Object.defineProperty(se,"__esModule",{value:!0});se.encodeBech32Pubkey=se.encodeAminoPubkey=se.decodeBech32Pubkey=se.decodeAminoPubkey=se.encodeEd25519Pubkey=se.encodeSecp256k1Pubkey=void 0;const be=x,bl=ee,In=X,tt=Ln;function vl(e){if(e.length!==33||e[0]!==2&&e[0]!==3)throw new Error("Public key must be compressed secp256k1, i.e. 33 bytes starting with 0x02 or 0x03");return{type:tt.pubkeyType.secp256k1,value:(0,be.toBase64)(e)}}se.encodeSecp256k1Pubkey=vl;function wl(e){if(e.length!==32)throw new Error("Ed25519 public key must be 32 bytes long");return{type:tt.pubkeyType.ed25519,value:(0,be.toBase64)(e)}}se.encodeEd25519Pubkey=wl;const ms=(0,be.fromHex)("eb5ae98721"),fs=(0,be.fromHex)("1624de6420"),fi=(0,be.fromHex)("0dfb100520"),jr=(0,be.fromHex)("22c1f7e2");function Ns(e){if((0,In.arrayContentStartsWith)(e,ms)){const t=e.slice(ms.length);if(t.length!==33)throw new Error("Invalid rest data length. Expected 33 bytes (compressed secp256k1 pubkey).");return{type:tt.pubkeyType.secp256k1,value:(0,be.toBase64)(t)}}else if((0,In.arrayContentStartsWith)(e,fs)){const t=e.slice(fs.length);if(t.length!==32)throw new Error("Invalid rest data length. Expected 32 bytes (Ed25519 pubkey).");return{type:tt.pubkeyType.ed25519,value:(0,be.toBase64)(t)}}else if((0,In.arrayContentStartsWith)(e,fi)){const t=e.slice(fi.length);if(t.length!==32)throw new Error("Invalid rest data length. Expected 32 bytes (Sr25519 pubkey).");return{type:tt.pubkeyType.sr25519,value:(0,be.toBase64)(t)}}else{if((0,In.arrayContentStartsWith)(e,jr))return _l(e);throw new Error("Unsupported public key type. Amino data starts with: "+(0,be.toHex)(e.slice(0,5)))}}se.decodeAminoPubkey=Ns;function kl(e){const{data:t}=(0,be.fromBech32)(e);return Ns(t)}se.decodeBech32Pubkey=kl;function hi(e){if(e.length<1)throw new Error("Can't decode varint. EOF");if(e[0]>127)throw new Error("Decoding numbers > 127 is not supported here. Please tell those lazy CosmJS maintainers to port the binary.Varint implementation from the Go standard library and write some tests.");return[e[0],1]}function _l(e){const t=Array.from(e),n=t.splice(0,jr.length);if(!(0,In.arrayContentStartsWith)(n,jr))throw new Error("Invalid multisig prefix.");if(t.shift()!=8)throw new Error("Invalid multisig data. Expecting 0x08 prefix before threshold.");const[r,o]=hi(t);t.splice(0,o);const s=[];for(;t.length>0;){if(t.shift()!=18)throw new Error("Invalid multisig data. Expecting 0x12 prefix before participant pubkey length.");const[i,c]=hi(t);if(t.splice(0,c),t.length<i)throw new Error("Invalid multisig data length.");const a=t.splice(0,i),l=Ns(Uint8Array.from(a));s.push(l)}return{type:tt.pubkeyType.multisigThreshold,value:{threshold:r.toString(),pubkeys:s}}}function pi(e){const t=bl.Uint53.fromString(e.toString()).toNumber();if(t>127)throw new Error("Encoding numbers > 127 is not supported here. Please tell those lazy CosmJS maintainers to port the binary.PutUvarint implementation from the Go standard library and write some tests.");return[t]}function xs(e){if((0,tt.isMultisigThresholdPubkey)(e)){const t=Array.from(jr);t.push(8),t.push(...pi(e.value.threshold));for(const n of e.value.pubkeys.map(r=>xs(r)))t.push(18),t.push(...pi(n.length)),t.push(...n);return new Uint8Array(t)}else{if((0,tt.isEd25519Pubkey)(e))return new Uint8Array([...fs,...(0,be.fromBase64)(e.value)]);if((0,tt.isSecp256k1Pubkey)(e))return new Uint8Array([...ms,...(0,be.fromBase64)(e.value)]);throw new Error("Unsupported pubkey type")}}se.encodeAminoPubkey=xs;function Sl(e,t){return(0,be.toBech32)(t,xs(e))}se.encodeBech32Pubkey=Sl;Object.defineProperty(Ae,"__esModule",{value:!0});Ae.pubkeyToAddress=Ae.pubkeyToRawAddress=Ae.rawSecp256k1PubkeyToRawAddress=Ae.rawEd25519PubkeyToRawAddress=void 0;const Mr=_e,hs=x,Pl=se,Zo=Ln;function ya(e){if(e.length!==32)throw new Error(`Invalid Ed25519 pubkey length: ${e.length}`);return(0,Mr.sha256)(e).slice(0,20)}Ae.rawEd25519PubkeyToRawAddress=ya;function ba(e){if(e.length!==33)throw new Error(`Invalid Secp256k1 pubkey length (compressed): ${e.length}`);return(0,Mr.ripemd160)((0,Mr.sha256)(e))}Ae.rawSecp256k1PubkeyToRawAddress=ba;function va(e){if((0,Zo.isSecp256k1Pubkey)(e)){const t=(0,hs.fromBase64)(e.value);return ba(t)}else if((0,Zo.isEd25519Pubkey)(e)){const t=(0,hs.fromBase64)(e.value);return ya(t)}else if((0,Zo.isMultisigThresholdPubkey)(e)){const t=(0,Pl.encodeAminoPubkey)(e);return(0,Mr.sha256)(t).slice(0,20)}else throw new Error("Unsupported public key type")}Ae.pubkeyToRawAddress=va;function Al(e,t){return(0,hs.toBech32)(t,va(e))}Ae.pubkeyToAddress=Al;var ze={};Object.defineProperty(ze,"__esModule",{value:!0});ze.addCoins=ze.parseCoins=ze.coins=ze.coin=void 0;const ps=ee;function wa(e,t){let n;if(typeof e=="number")try{n=new ps.Uint53(e).toString()}catch{throw new Error("Given amount is not a safe integer. Consider using a string instead to overcome the limitations of JS numbers.")}else{if(!e.match(/^[0-9]+$/))throw new Error("Invalid unsigned integer string format");n=e.replace(/^0*/,"")||"0"}return{amount:n,denom:t}}ze.coin=wa;function Tl(e,t){return[wa(e,t)]}ze.coins=Tl;function El(e){return e.replace(/\s/g,"").split(",").filter(Boolean).map(t=>{const n=t.match(/^([0-9]+)([a-zA-Z][a-zA-Z0-9/]{2,127})$/);if(!n)throw new Error("Got an invalid coin string");return{amount:n[1].replace(/^0+/,"")||"0",denom:n[2]}})}ze.parseCoins=El;function Cl(e,t){if(e.denom!==t.denom)throw new Error("Trying to add two coins with different denoms");return{amount:ps.Decimal.fromAtomics(e.amount,0).plus(ps.Decimal.fromAtomics(t.amount,0)).atomics,denom:e.denom}}ze.addCoins=Cl;var Zt={};Object.defineProperty(Zt,"__esModule",{value:!0});Zt.createMultisigThresholdPubkey=Zt.compareArrays=void 0;const gi=x,jl=ee,yi=Ae;function ka(e,t){const n=(0,gi.toHex)(e),r=(0,gi.toHex)(t);return n===r?0:n<r?-1:1}Zt.compareArrays=ka;function Ml(e,t,n=!1){const r=new jl.Uint53(t);if(r.toNumber()>e.length)throw new Error(`Threshold k = ${r.toNumber()} exceeds number of keys n = ${e.length}`);const o=n?e:Array.from(e).sort((s,i)=>{const c=(0,yi.pubkeyToRawAddress)(s),a=(0,yi.pubkeyToRawAddress)(i);return ka(c,a)});return{type:"tendermint/PubKeyMultisigThreshold",value:{threshold:r.toString(),pubkeys:o}}}Zt.createMultisigThresholdPubkey=Ml;var Jr={};Object.defineProperty(Jr,"__esModule",{value:!0});Jr.omitDefault=void 0;function Ol(e){switch(typeof e){case"string":return e===""?void 0:e;case"number":return e===0?void 0:e;case"bigint":return e===BigInt(0)?void 0:e;case"boolean":return e||void 0;default:throw new Error(`Got unsupported type '${typeof e}'`)}}Jr.omitDefault=Ol;var zn={};Object.defineProperty(zn,"__esModule",{value:!0});zn.makeCosmoshubPath=void 0;const kn=_e;function Bl(e){return[kn.Slip10RawIndex.hardened(44),kn.Slip10RawIndex.hardened(118),kn.Slip10RawIndex.hardened(0),kn.Slip10RawIndex.normal(0),kn.Slip10RawIndex.normal(e)]}zn.makeCosmoshubPath=Bl;var Xt={},bt={};Object.defineProperty(bt,"__esModule",{value:!0});bt.decodeSignature=bt.encodeSecp256k1Signature=void 0;const gs=x,Rl=se,Il=Ln;function $l(e,t){if(t.length!==64)throw new Error("Signature must be 64 bytes long. Cosmos SDK uses a 2x32 byte fixed length encoding for the secp256k1 signature integers r and s.");return{pub_key:(0,Rl.encodeSecp256k1Pubkey)(e),signature:(0,gs.toBase64)(t)}}bt.encodeSecp256k1Signature=$l;function Nl(e){switch(e.pub_key.type){case Il.pubkeyType.secp256k1:return{pubkey:(0,gs.fromBase64)(e.pub_key.value),signature:(0,gs.fromBase64)(e.signature)};default:throw new Error("Unsupported pubkey type")}}bt.decodeSignature=Nl;var Ue={};Object.defineProperty(Ue,"__esModule",{value:!0});Ue.serializeSignDoc=Ue.escapeCharacters=Ue.makeSignDoc=Ue.sortedJsonStringify=void 0;const xl=x,bi=ee;function ys(e){if(typeof e!="object"||e===null)return e;if(Array.isArray(e))return e.map(ys);const t=Object.keys(e).sort(),n={};return t.forEach(r=>{n[r]=ys(e[r])}),n}function _a(e){return JSON.stringify(ys(e))}Ue.sortedJsonStringify=_a;function Dl(e,t,n,r,o,s,i){return{chain_id:n,account_number:bi.Uint53.fromString(o.toString()).toString(),sequence:bi.Uint53.fromString(s.toString()).toString(),fee:t,msgs:e,memo:r||"",...i&&{timeout_height:i.toString()}}}Ue.makeSignDoc=Dl;function Sa(e){const t=/&/g,n=/</g,r=/>/g;return e.replace(t,"\\u0026").replace(n,"\\u003c").replace(r,"\\u003e")}Ue.escapeCharacters=Sa;function Ul(e){const t=Sa(_a(e));return(0,xl.toUtf8)(t)}Ue.serializeSignDoc=Ul;var Ds={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decrypt=e.encrypt=e.supportedAlgorithms=e.executeKdf=e.cosmjsSalt=void 0;const t=_e,n=x;e.cosmjsSalt=(0,n.toAscii)("The CosmJS salt.");async function r(i,c){switch(c.algorithm){case"argon2id":{const a=c.params;if(!(0,t.isArgon2idOptions)(a))throw new Error("Invalid format of argon2id params");return t.Argon2id.execute(i,e.cosmjsSalt,a)}default:throw new Error("Unsupported KDF algorithm")}}e.executeKdf=r,e.supportedAlgorithms={xchacha20poly1305Ietf:"xchacha20poly1305-ietf"};async function o(i,c,a){switch(a.algorithm){case e.supportedAlgorithms.xchacha20poly1305Ietf:{const l=t.Random.getBytes(t.xchacha20NonceLength);return new Uint8Array([...l,...await t.Xchacha20poly1305Ietf.encrypt(i,c,l)])}default:throw new Error(`Unsupported encryption algorithm: '${a.algorithm}'`)}}e.encrypt=o;async function s(i,c,a){switch(a.algorithm){case e.supportedAlgorithms.xchacha20poly1305Ietf:{const l=i.slice(0,t.xchacha20NonceLength);return t.Xchacha20poly1305Ietf.decrypt(i.slice(t.xchacha20NonceLength),c,l)}default:throw new Error(`Unsupported encryption algorithm: '${a.algorithm}'`)}}e.decrypt=s})(Ds);Object.defineProperty(Xt,"__esModule",{value:!0});Xt.Secp256k1HdWallet=Xt.extractKdfConfiguration=void 0;const Ee=_e,_n=x,Ut=X,ql=Ae,Hl=zn,Vl=bt,Gl=Ue,Sn=Ds,Ar="secp256k1wallet-v1",Fl={algorithm:"argon2id",params:{outputLength:32,opsLimit:24,memLimitKib:12*1024}};function Wl(e){return!(!(0,Ut.isNonNullObject)(e)||typeof e.hdPath!="string"||typeof e.prefix!="string")}function Jl(e){return e.kdf}function Ll(e){const t=JSON.parse(e);if(!(0,Ut.isNonNullObject)(t))throw new Error("Root document is not an object.");switch(t.type){case Ar:return Jl(t);default:throw new Error("Unsupported serialization type")}}Xt.extractKdfConfiguration=Ll;const vi={bip39Password:"",hdPaths:[(0,Hl.makeCosmoshubPath)(0)],prefix:"cosmos"};class Pt{static async fromMnemonic(t,n={}){const r=new Ee.EnglishMnemonic(t),o=await Ee.Bip39.mnemonicToSeed(r,n.bip39Password);return new Pt(r,{...n,seed:o})}static async generate(t=12,n={}){const r=4*Math.floor(11*t/33),o=Ee.Random.getBytes(r),s=Ee.Bip39.encode(o);return Pt.fromMnemonic(s.toString(),n)}static async deserialize(t,n){const r=JSON.parse(t);if(!(0,Ut.isNonNullObject)(r))throw new Error("Root document is not an object.");switch(r.type){case Ar:return Pt.deserializeTypeV1(t,n);default:throw new Error("Unsupported serialization type")}}static async deserializeWithEncryptionKey(t,n){const r=JSON.parse(t);if(!(0,Ut.isNonNullObject)(r))throw new Error("Root document is not an object.");const o=r;switch(o.type){case Ar:{const s=await(0,Sn.decrypt)((0,_n.fromBase64)(o.data),n,o.encryption),i=JSON.parse((0,_n.fromUtf8)(s)),{mnemonic:c,accounts:a}=i;if((0,Ut.assert)(typeof c=="string"),!Array.isArray(a))throw new Error("Property 'accounts' is not an array");if(!a.every(g=>Wl(g)))throw new Error("Account is not in the correct format.");const l=a[0].prefix;if(!a.every(({prefix:g})=>g===l))throw new Error("Accounts do not all have the same prefix");const d=a.map(({hdPath:g})=>(0,Ee.stringToPath)(g));return Pt.fromMnemonic(c,{hdPaths:d,prefix:l})}default:throw new Error("Unsupported serialization type")}}static async deserializeTypeV1(t,n){const r=JSON.parse(t);if(!(0,Ut.isNonNullObject)(r))throw new Error("Root document is not an object.");const o=await(0,Sn.executeKdf)(n,r.kdf);return Pt.deserializeWithEncryptionKey(t,o)}constructor(t,n){const r=n.hdPaths??vi.hdPaths,o=n.prefix??vi.prefix;this.secret=t,this.seed=n.seed,this.accounts=r.map(s=>({hdPath:s,prefix:o}))}get mnemonic(){return this.secret.toString()}async getAccounts(){return(await this.getAccountsWithPrivkeys()).map(({algo:n,pubkey:r,address:o})=>({algo:n,pubkey:r,address:o}))}async signAmino(t,n){const o=(await this.getAccountsWithPrivkeys()).find(({address:d})=>d===t);if(o===void 0)throw new Error(`Address ${t} not found in wallet`);const{privkey:s,pubkey:i}=o,c=(0,Ee.sha256)((0,Gl.serializeSignDoc)(n)),a=await Ee.Secp256k1.createSignature(c,s),l=new Uint8Array([...a.r(32),...a.s(32)]);return{signed:n,signature:(0,Vl.encodeSecp256k1Signature)(i,l)}}async serialize(t){const n=Fl,r=await(0,Sn.executeKdf)(t,n);return this.serializeWithEncryptionKey(r,n)}async serializeWithEncryptionKey(t,n){const r={mnemonic:this.mnemonic,accounts:this.accounts.map(({hdPath:a,prefix:l})=>({hdPath:(0,Ee.pathToString)(a),prefix:l}))},o=(0,_n.toUtf8)(JSON.stringify(r)),s={algorithm:Sn.supportedAlgorithms.xchacha20poly1305Ietf},i=await(0,Sn.encrypt)(o,t,s),c={type:Ar,kdf:n,encryption:s,data:(0,_n.toBase64)(i)};return JSON.stringify(c)}async getKeyPair(t){const{privkey:n}=Ee.Slip10.derivePath(Ee.Slip10Curve.Secp256k1,this.seed,t),{pubkey:r}=await Ee.Secp256k1.makeKeypair(n);return{privkey:n,pubkey:Ee.Secp256k1.compressPubkey(r)}}async getAccountsWithPrivkeys(){return Promise.all(this.accounts.map(async({hdPath:t,prefix:n})=>{const{privkey:r,pubkey:o}=await this.getKeyPair(t),s=(0,_n.toBech32)(n,(0,ql.rawSecp256k1PubkeyToRawAddress)(o));return{algo:"secp256k1",privkey:r,pubkey:o,address:s}}))}}Xt.Secp256k1HdWallet=Pt;var Lr={};Object.defineProperty(Lr,"__esModule",{value:!0});Lr.Secp256k1Wallet=void 0;const cr=_e,zl=x,Kl=Ae,Ql=bt,Zl=Ue;class Us{static async fromKey(t,n="cosmos"){const r=(await cr.Secp256k1.makeKeypair(t)).pubkey;return new Us(t,cr.Secp256k1.compressPubkey(r),n)}constructor(t,n,r){this.privkey=t,this.pubkey=n,this.prefix=r}get address(){return(0,zl.toBech32)(this.prefix,(0,Kl.rawSecp256k1PubkeyToRawAddress)(this.pubkey))}async getAccounts(){return[{algo:"secp256k1",address:this.address,pubkey:this.pubkey}]}async signAmino(t,n){if(t!==this.address)throw new Error(`Address ${t} not found in wallet`);const r=new cr.Sha256((0,Zl.serializeSignDoc)(n)).digest(),o=await cr.Secp256k1.createSignature(r,this.privkey),s=new Uint8Array([...o.r(32),...o.s(32)]);return{signed:n,signature:(0,Ql.encodeSecp256k1Signature)(this.pubkey,s)}}}Lr.Secp256k1Wallet=Us;var Yt={};Object.defineProperty(Yt,"__esModule",{value:!0});Yt.makeStdTx=Yt.isStdTx=void 0;function Xl(e){const{memo:t,msg:n,fee:r,signatures:o}=e;return typeof t=="string"&&Array.isArray(n)&&typeof r=="object"&&Array.isArray(o)}Yt.isStdTx=Xl;function Yl(e,t){return{msg:e.msgs,fee:e.fee,memo:e.memo,signatures:Array.isArray(t)?t:[t]}}Yt.makeStdTx=Yl;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.executeKdf=e.makeStdTx=e.isStdTx=e.serializeSignDoc=e.makeSignDoc=e.encodeSecp256k1Signature=e.decodeSignature=e.Secp256k1Wallet=e.Secp256k1HdWallet=e.extractKdfConfiguration=e.pubkeyType=e.isSinglePubkey=e.isSecp256k1Pubkey=e.isMultisigThresholdPubkey=e.isEd25519Pubkey=e.makeCosmoshubPath=e.omitDefault=e.createMultisigThresholdPubkey=e.encodeSecp256k1Pubkey=e.encodeEd25519Pubkey=e.encodeBech32Pubkey=e.encodeAminoPubkey=e.decodeBech32Pubkey=e.decodeAminoPubkey=e.parseCoins=e.coins=e.coin=e.addCoins=e.rawSecp256k1PubkeyToRawAddress=e.rawEd25519PubkeyToRawAddress=e.pubkeyToRawAddress=e.pubkeyToAddress=void 0;var t=Ae;Object.defineProperty(e,"pubkeyToAddress",{enumerable:!0,get:function(){return t.pubkeyToAddress}}),Object.defineProperty(e,"pubkeyToRawAddress",{enumerable:!0,get:function(){return t.pubkeyToRawAddress}}),Object.defineProperty(e,"rawEd25519PubkeyToRawAddress",{enumerable:!0,get:function(){return t.rawEd25519PubkeyToRawAddress}}),Object.defineProperty(e,"rawSecp256k1PubkeyToRawAddress",{enumerable:!0,get:function(){return t.rawSecp256k1PubkeyToRawAddress}});var n=ze;Object.defineProperty(e,"addCoins",{enumerable:!0,get:function(){return n.addCoins}}),Object.defineProperty(e,"coin",{enumerable:!0,get:function(){return n.coin}}),Object.defineProperty(e,"coins",{enumerable:!0,get:function(){return n.coins}}),Object.defineProperty(e,"parseCoins",{enumerable:!0,get:function(){return n.parseCoins}});var r=se;Object.defineProperty(e,"decodeAminoPubkey",{enumerable:!0,get:function(){return r.decodeAminoPubkey}}),Object.defineProperty(e,"decodeBech32Pubkey",{enumerable:!0,get:function(){return r.decodeBech32Pubkey}}),Object.defineProperty(e,"encodeAminoPubkey",{enumerable:!0,get:function(){return r.encodeAminoPubkey}}),Object.defineProperty(e,"encodeBech32Pubkey",{enumerable:!0,get:function(){return r.encodeBech32Pubkey}}),Object.defineProperty(e,"encodeEd25519Pubkey",{enumerable:!0,get:function(){return r.encodeEd25519Pubkey}}),Object.defineProperty(e,"encodeSecp256k1Pubkey",{enumerable:!0,get:function(){return r.encodeSecp256k1Pubkey}});var o=Zt;Object.defineProperty(e,"createMultisigThresholdPubkey",{enumerable:!0,get:function(){return o.createMultisigThresholdPubkey}});var s=Jr;Object.defineProperty(e,"omitDefault",{enumerable:!0,get:function(){return s.omitDefault}});var i=zn;Object.defineProperty(e,"makeCosmoshubPath",{enumerable:!0,get:function(){return i.makeCosmoshubPath}});var c=Ln;Object.defineProperty(e,"isEd25519Pubkey",{enumerable:!0,get:function(){return c.isEd25519Pubkey}}),Object.defineProperty(e,"isMultisigThresholdPubkey",{enumerable:!0,get:function(){return c.isMultisigThresholdPubkey}}),Object.defineProperty(e,"isSecp256k1Pubkey",{enumerable:!0,get:function(){return c.isSecp256k1Pubkey}}),Object.defineProperty(e,"isSinglePubkey",{enumerable:!0,get:function(){return c.isSinglePubkey}}),Object.defineProperty(e,"pubkeyType",{enumerable:!0,get:function(){return c.pubkeyType}});var a=Xt;Object.defineProperty(e,"extractKdfConfiguration",{enumerable:!0,get:function(){return a.extractKdfConfiguration}}),Object.defineProperty(e,"Secp256k1HdWallet",{enumerable:!0,get:function(){return a.Secp256k1HdWallet}});var l=Lr;Object.defineProperty(e,"Secp256k1Wallet",{enumerable:!0,get:function(){return l.Secp256k1Wallet}});var d=bt;Object.defineProperty(e,"decodeSignature",{enumerable:!0,get:function(){return d.decodeSignature}}),Object.defineProperty(e,"encodeSecp256k1Signature",{enumerable:!0,get:function(){return d.encodeSecp256k1Signature}});var g=Ue;Object.defineProperty(e,"makeSignDoc",{enumerable:!0,get:function(){return g.makeSignDoc}}),Object.defineProperty(e,"serializeSignDoc",{enumerable:!0,get:function(){return g.serializeSignDoc}});var j=Yt;Object.defineProperty(e,"isStdTx",{enumerable:!0,get:function(){return j.isStdTx}}),Object.defineProperty(e,"makeStdTx",{enumerable:!0,get:function(){return j.makeStdTx}});var k=Ds;Object.defineProperty(e,"executeKdf",{enumerable:!0,get:function(){return k.executeKdf}})})(ot);var Ye={};Object.defineProperty(Ye,"__esModule",{value:!0});Ye.makeSignBytes=Ye.makeSignDoc=Ye.makeAuthInfoBytes=void 0;const wi=X,ed=u.signing,Or=u.tx;function td(e,t){return e.map(({pubkey:n,sequence:r})=>({publicKey:n,modeInfo:{single:{mode:t}},sequence:BigInt(r)}))}function nd(e,t,n,r,o,s=ed.SignMode.SIGN_MODE_DIRECT){(0,wi.assert)(r===void 0||typeof r=="string","feeGranter must be undefined or string"),(0,wi.assert)(o===void 0||typeof o=="string","feePayer must be undefined or string");const i=Or.AuthInfo.fromPartial({signerInfos:td(e,s),fee:{amount:[...t],gasLimit:BigInt(n),granter:r,payer:o}});return Or.AuthInfo.encode(i).finish()}Ye.makeAuthInfoBytes=nd;function rd(e,t,n,r){return{bodyBytes:e,authInfoBytes:t,chainId:n,accountNumber:BigInt(r)}}Ye.makeSignDoc=rd;function od({accountNumber:e,authInfoBytes:t,bodyBytes:n,chainId:r}){const o=Or.SignDoc.fromPartial({accountNumber:e,authInfoBytes:t,bodyBytes:n,chainId:r});return Or.SignDoc.encode(o).finish()}Ye.makeSignBytes=od;var qs={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decrypt=e.encrypt=e.supportedAlgorithms=e.executeKdf=e.cosmjsSalt=void 0;const t=_e,n=x;e.cosmjsSalt=(0,n.toAscii)("The CosmJS salt.");async function r(i,c){switch(c.algorithm){case"argon2id":{const a=c.params;if(!(0,t.isArgon2idOptions)(a))throw new Error("Invalid format of argon2id params");return t.Argon2id.execute(i,e.cosmjsSalt,a)}default:throw new Error("Unsupported KDF algorithm")}}e.executeKdf=r,e.supportedAlgorithms={xchacha20poly1305Ietf:"xchacha20poly1305-ietf"};async function o(i,c,a){switch(a.algorithm){case e.supportedAlgorithms.xchacha20poly1305Ietf:{const l=t.Random.getBytes(t.xchacha20NonceLength);return new Uint8Array([...l,...await t.Xchacha20poly1305Ietf.encrypt(i,c,l)])}default:throw new Error(`Unsupported encryption algorithm: '${a.algorithm}'`)}}e.encrypt=o;async function s(i,c,a){switch(a.algorithm){case e.supportedAlgorithms.xchacha20poly1305Ietf:{const l=i.slice(0,t.xchacha20NonceLength);return t.Xchacha20poly1305Ietf.decrypt(i.slice(t.xchacha20NonceLength),c,l)}default:throw new Error(`Unsupported encryption algorithm: '${a.algorithm}'`)}}e.decrypt=s})(qs);Object.defineProperty(Vt,"__esModule",{value:!0});Vt.DirectSecp256k1HdWallet=Vt.extractKdfConfiguration=void 0;const bs=ot,Ce=_e,Pn=x,qt=X,sd=Ye,An=qs,Tr="directsecp256k1hdwallet-v1",id={algorithm:"argon2id",params:{outputLength:32,opsLimit:24,memLimitKib:12*1024}};function ad(e){return!(!(0,qt.isNonNullObject)(e)||typeof e.hdPath!="string"||typeof e.prefix!="string")}function cd(e){return e.kdf}function ud(e){const t=JSON.parse(e);if(!(0,qt.isNonNullObject)(t))throw new Error("Root document is not an object.");switch(t.type){case Tr:return cd(t);default:throw new Error("Unsupported serialization type")}}Vt.extractKdfConfiguration=ud;const ki={bip39Password:"",hdPaths:[(0,bs.makeCosmoshubPath)(0)],prefix:"cosmos"};class At{static async fromMnemonic(t,n={}){const r=new Ce.EnglishMnemonic(t),o=await Ce.Bip39.mnemonicToSeed(r,n.bip39Password);return new At(r,{...n,seed:o})}static async generate(t=12,n={}){const r=4*Math.floor(11*t/33),o=Ce.Random.getBytes(r),s=Ce.Bip39.encode(o);return At.fromMnemonic(s.toString(),n)}static async deserialize(t,n){const r=JSON.parse(t);if(!(0,qt.isNonNullObject)(r))throw new Error("Root document is not an object.");switch(r.type){case Tr:return At.deserializeTypeV1(t,n);default:throw new Error("Unsupported serialization type")}}static async deserializeWithEncryptionKey(t,n){const r=JSON.parse(t);if(!(0,qt.isNonNullObject)(r))throw new Error("Root document is not an object.");const o=r;switch(o.type){case Tr:{const s=await(0,An.decrypt)((0,Pn.fromBase64)(o.data),n,o.encryption),i=JSON.parse((0,Pn.fromUtf8)(s)),{mnemonic:c,accounts:a}=i;if((0,qt.assert)(typeof c=="string"),!Array.isArray(a))throw new Error("Property 'accounts' is not an array");if(!a.every(g=>ad(g)))throw new Error("Account is not in the correct format.");const l=a[0].prefix;if(!a.every(({prefix:g})=>g===l))throw new Error("Accounts do not all have the same prefix");const d=a.map(({hdPath:g})=>(0,Ce.stringToPath)(g));return At.fromMnemonic(c,{hdPaths:d,prefix:l})}default:throw new Error("Unsupported serialization type")}}static async deserializeTypeV1(t,n){const r=JSON.parse(t);if(!(0,qt.isNonNullObject)(r))throw new Error("Root document is not an object.");const o=await(0,An.executeKdf)(n,r.kdf);return At.deserializeWithEncryptionKey(t,o)}constructor(t,n){const r=n.prefix??ki.prefix,o=n.hdPaths??ki.hdPaths;this.secret=t,this.seed=n.seed,this.accounts=o.map(s=>({hdPath:s,prefix:r}))}get mnemonic(){return this.secret.toString()}async getAccounts(){return(await this.getAccountsWithPrivkeys()).map(({algo:n,pubkey:r,address:o})=>({algo:n,pubkey:r,address:o}))}async signDirect(t,n){const o=(await this.getAccountsWithPrivkeys()).find(({address:j})=>j===t);if(o===void 0)throw new Error(`Address ${t} not found in wallet`);const{privkey:s,pubkey:i}=o,c=(0,sd.makeSignBytes)(n),a=(0,Ce.sha256)(c),l=await Ce.Secp256k1.createSignature(a,s),d=new Uint8Array([...l.r(32),...l.s(32)]),g=(0,bs.encodeSecp256k1Signature)(i,d);return{signed:n,signature:g}}async serialize(t){const n=id,r=await(0,An.executeKdf)(t,n);return this.serializeWithEncryptionKey(r,n)}async serializeWithEncryptionKey(t,n){const r={mnemonic:this.mnemonic,accounts:this.accounts.map(({hdPath:a,prefix:l})=>({hdPath:(0,Ce.pathToString)(a),prefix:l}))},o=(0,Pn.toUtf8)(JSON.stringify(r)),s={algorithm:An.supportedAlgorithms.xchacha20poly1305Ietf},i=await(0,An.encrypt)(o,t,s),c={type:Tr,kdf:n,encryption:s,data:(0,Pn.toBase64)(i)};return JSON.stringify(c)}async getKeyPair(t){const{privkey:n}=Ce.Slip10.derivePath(Ce.Slip10Curve.Secp256k1,this.seed,t),{pubkey:r}=await Ce.Secp256k1.makeKeypair(n);return{privkey:n,pubkey:Ce.Secp256k1.compressPubkey(r)}}async getAccountsWithPrivkeys(){return Promise.all(this.accounts.map(async({hdPath:t,prefix:n})=>{const{privkey:r,pubkey:o}=await this.getKeyPair(t),s=(0,Pn.toBech32)(n,(0,bs.rawSecp256k1PubkeyToRawAddress)(o));return{algo:"secp256k1",privkey:r,pubkey:o,address:s}}))}}Vt.DirectSecp256k1HdWallet=At;var zr={};Object.defineProperty(zr,"__esModule",{value:!0});zr.DirectSecp256k1Wallet=void 0;const _i=ot,ur=_e,ld=x,dd=Ye;class Hs{static async fromKey(t,n="cosmos"){const r=(await ur.Secp256k1.makeKeypair(t)).pubkey;return new Hs(t,ur.Secp256k1.compressPubkey(r),n)}constructor(t,n,r){this.privkey=t,this.pubkey=n,this.prefix=r}get address(){return(0,ld.toBech32)(this.prefix,(0,_i.rawSecp256k1PubkeyToRawAddress)(this.pubkey))}async getAccounts(){return[{algo:"secp256k1",address:this.address,pubkey:this.pubkey}]}async signDirect(t,n){const r=(0,dd.makeSignBytes)(n);if(t!==this.address)throw new Error(`Address ${t} not found in wallet`);const o=(0,ur.sha256)(r),s=await ur.Secp256k1.createSignature(o,this.privkey),i=new Uint8Array([...s.r(32),...s.s(32)]),c=(0,_i.encodeSecp256k1Signature)(this.pubkey,i);return{signed:n,signature:c}}}zr.DirectSecp256k1Wallet=Hs;var Kr={};Object.defineProperty(Kr,"__esModule",{value:!0});Kr.makeCosmoshubPath=void 0;const Tn=_e;function md(e){return[Tn.Slip10RawIndex.hardened(44),Tn.Slip10RawIndex.hardened(118),Tn.Slip10RawIndex.hardened(0),Tn.Slip10RawIndex.normal(0),Tn.Slip10RawIndex.normal(e)]}Kr.makeCosmoshubPath=md;var Ke={};Object.defineProperty(Ke,"__esModule",{value:!0});Ke.decodeOptionalPubkey=Ke.decodePubkey=Ke.anyToSinglePubkey=Ke.encodePubkey=void 0;const xn=ot,Si=x,fd=ee,vs=u.keys,ws=u.keys$1,ks=u.keys$2,Xo=u.any;function Pa(e){if((0,xn.isSecp256k1Pubkey)(e)){const t=ks.PubKey.fromPartial({key:(0,Si.fromBase64)(e.value)});return Xo.Any.fromPartial({typeUrl:"/cosmos.crypto.secp256k1.PubKey",value:Uint8Array.from(ks.PubKey.encode(t).finish())})}else if((0,xn.isEd25519Pubkey)(e)){const t=vs.PubKey.fromPartial({key:(0,Si.fromBase64)(e.value)});return Xo.Any.fromPartial({typeUrl:"/cosmos.crypto.ed25519.PubKey",value:Uint8Array.from(vs.PubKey.encode(t).finish())})}else if((0,xn.isMultisigThresholdPubkey)(e)){const t=ws.LegacyAminoPubKey.fromPartial({threshold:fd.Uint53.fromString(e.value.threshold).toNumber(),publicKeys:e.value.pubkeys.map(Pa)});return Xo.Any.fromPartial({typeUrl:"/cosmos.crypto.multisig.LegacyAminoPubKey",value:Uint8Array.from(ws.LegacyAminoPubKey.encode(t).finish())})}else throw new Error(`Pubkey type ${e.type} not recognized`)}Ke.encodePubkey=Pa;function _s(e){switch(e.typeUrl){case"/cosmos.crypto.secp256k1.PubKey":{const{key:t}=ks.PubKey.decode(e.value);return(0,xn.encodeSecp256k1Pubkey)(t)}case"/cosmos.crypto.ed25519.PubKey":{const{key:t}=vs.PubKey.decode(e.value);return(0,xn.encodeEd25519Pubkey)(t)}default:throw new Error(`Pubkey type_url ${e.typeUrl} not recognized as single public key type`)}}Ke.anyToSinglePubkey=_s;function Aa(e){switch(e.typeUrl){case"/cosmos.crypto.secp256k1.PubKey":case"/cosmos.crypto.ed25519.PubKey":return _s(e);case"/cosmos.crypto.multisig.LegacyAminoPubKey":{const{threshold:t,publicKeys:n}=ws.LegacyAminoPubKey.decode(e.value);return{type:"tendermint/PubKeyMultisigThreshold",value:{threshold:t.toString(),pubkeys:n.map(_s)}}}default:throw new Error(`Pubkey type URL '${e.typeUrl}' not recognized`)}}Ke.decodePubkey=Aa;function hd(e){if(!e)return null;if(e.typeUrl){if(e.value.length)return Aa(e);throw new Error(`Pubkey is an Any with type URL '${e.typeUrl}' but an empty value`)}else{if(e.value.length)throw new Error("Pubkey is an Any with an empty type URL but a value set");return null}}Ke.decodeOptionalPubkey=hd;var je={};Object.defineProperty(je,"__esModule",{value:!0});je.Registry=je.isTxBodyEncodeObject=je.isPbjsGeneratedType=je.isTsProtoGeneratedType=je.isTelescopeGeneratedType=void 0;const pd=u.tx$1,gd=u.coin,Yo=u.tx,yd=u.any;function Ta(e){const t=e;return typeof t.fromPartial=="function"&&typeof t.typeUrl=="string"}je.isTelescopeGeneratedType=Ta;function Vs(e){return typeof e.fromPartial=="function"}je.isTsProtoGeneratedType=Vs;function bd(e){return!Vs(e)}je.isPbjsGeneratedType=bd;const Pi={cosmosCoin:"/cosmos.base.v1beta1.Coin",cosmosMsgSend:"/cosmos.bank.v1beta1.MsgSend",cosmosTxBody:"/cosmos.tx.v1beta1.TxBody",googleAny:"/google.protobuf.Any"};function Ea(e){return e.typeUrl==="/cosmos.tx.v1beta1.TxBody"}je.isTxBodyEncodeObject=Ea;class vd{constructor(t){const{cosmosCoin:n,cosmosMsgSend:r}=Pi;this.types=t?new Map([...t]):new Map([[n,gd.Coin],[r,pd.MsgSend]])}register(t,n){this.types.set(t,n)}lookupType(t){return this.types.get(t)}lookupTypeWithError(t){const n=this.lookupType(t);if(!n)throw new Error(`Unregistered type url: ${t}`);return n}encode(t){const{value:n,typeUrl:r}=t;if(Ea(t))return this.encodeTxBody(n);const o=this.lookupTypeWithError(r),s=Ta(o)||Vs(o)?o.fromPartial(n):o.create(n);return o.encode(s).finish()}encodeAsAny(t){const n=this.encode(t);return yd.Any.fromPartial({typeUrl:t.typeUrl,value:n})}encodeTxBody(t){var o;const n=t.messages.map(s=>this.encodeAsAny(s)),r=Yo.TxBody.fromPartial({...t,timeoutHeight:BigInt(((o=t.timeoutHeight)==null?void 0:o.toString())??"0"),messages:n});return Yo.TxBody.encode(r).finish()}decode({typeUrl:t,value:n}){if(t===Pi.cosmosTxBody)return this.decodeTxBody(n);const o=this.lookupTypeWithError(t).decode(n);return Object.entries(o).forEach(([s,i])=>{typeof u.dist.Buffer<"u"&&typeof u.dist.Buffer.isBuffer<"u"&&u.dist.Buffer.isBuffer(i)&&(o[s]=Uint8Array.from(i))}),o}decodeTxBody(t){const n=Yo.TxBody.decode(t);return{...n,messages:n.messages.map(({typeUrl:r,value:o})=>{if(!r)throw new Error("Missing type_url in Any");if(!o)throw new Error("Missing value in Any");return this.decode({typeUrl:r,value:o})})}}}je.Registry=vd;var Qr={};Object.defineProperty(Qr,"__esModule",{value:!0});Qr.isOfflineDirectSigner=void 0;function wd(e){return e.signDirect!==void 0}Qr.isOfflineDirectSigner=wd;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.parseCoins=e.coins=e.coin=e.executeKdf=e.makeSignDoc=e.makeSignBytes=e.makeAuthInfoBytes=e.isOfflineDirectSigner=e.Registry=e.isTxBodyEncodeObject=e.isTsProtoGeneratedType=e.isPbjsGeneratedType=e.encodePubkey=e.decodePubkey=e.decodeOptionalPubkey=e.anyToSinglePubkey=e.makeCosmoshubPath=e.DirectSecp256k1Wallet=e.extractKdfConfiguration=e.DirectSecp256k1HdWallet=e.decodeTxRaw=void 0;var t=qr;Object.defineProperty(e,"decodeTxRaw",{enumerable:!0,get:function(){return t.decodeTxRaw}});var n=Vt;Object.defineProperty(e,"DirectSecp256k1HdWallet",{enumerable:!0,get:function(){return n.DirectSecp256k1HdWallet}}),Object.defineProperty(e,"extractKdfConfiguration",{enumerable:!0,get:function(){return n.extractKdfConfiguration}});var r=zr;Object.defineProperty(e,"DirectSecp256k1Wallet",{enumerable:!0,get:function(){return r.DirectSecp256k1Wallet}});var o=Kr;Object.defineProperty(e,"makeCosmoshubPath",{enumerable:!0,get:function(){return o.makeCosmoshubPath}});var s=Ke;Object.defineProperty(e,"anyToSinglePubkey",{enumerable:!0,get:function(){return s.anyToSinglePubkey}}),Object.defineProperty(e,"decodeOptionalPubkey",{enumerable:!0,get:function(){return s.decodeOptionalPubkey}}),Object.defineProperty(e,"decodePubkey",{enumerable:!0,get:function(){return s.decodePubkey}}),Object.defineProperty(e,"encodePubkey",{enumerable:!0,get:function(){return s.encodePubkey}});var i=je;Object.defineProperty(e,"isPbjsGeneratedType",{enumerable:!0,get:function(){return i.isPbjsGeneratedType}}),Object.defineProperty(e,"isTsProtoGeneratedType",{enumerable:!0,get:function(){return i.isTsProtoGeneratedType}}),Object.defineProperty(e,"isTxBodyEncodeObject",{enumerable:!0,get:function(){return i.isTxBodyEncodeObject}}),Object.defineProperty(e,"Registry",{enumerable:!0,get:function(){return i.Registry}});var c=Qr;Object.defineProperty(e,"isOfflineDirectSigner",{enumerable:!0,get:function(){return c.isOfflineDirectSigner}});var a=Ye;Object.defineProperty(e,"makeAuthInfoBytes",{enumerable:!0,get:function(){return a.makeAuthInfoBytes}}),Object.defineProperty(e,"makeSignBytes",{enumerable:!0,get:function(){return a.makeSignBytes}}),Object.defineProperty(e,"makeSignDoc",{enumerable:!0,get:function(){return a.makeSignDoc}});var l=qs;Object.defineProperty(e,"executeKdf",{enumerable:!0,get:function(){return l.executeKdf}});var d=ot;Object.defineProperty(e,"coin",{enumerable:!0,get:function(){return d.coin}}),Object.defineProperty(e,"coins",{enumerable:!0,get:function(){return d.coins}}),Object.defineProperty(e,"parseCoins",{enumerable:!0,get:function(){return d.parseCoins}})})(vt);Object.defineProperty(Wn,"__esModule",{value:!0});Wn.accountFromAny=void 0;const kd=ee,_d=vt,En=X,Ai=u.auth,lr=u.vesting;function Ti(e){return kd.Uint64.fromString(e.toString())}function $t(e){const{address:t,pubKey:n,accountNumber:r,sequence:o}=e,s=(0,_d.decodeOptionalPubkey)(n);return{address:t,pubkey:s,accountNumber:Ti(r).toNumber(),sequence:Ti(o).toNumber()}}function Sd(e){var r,o,s,i,c,a,l;const{typeUrl:t,value:n}=e;switch(t){case"/cosmos.auth.v1beta1.BaseAccount":return $t(Ai.BaseAccount.decode(n));case"/cosmos.auth.v1beta1.ModuleAccount":{const d=Ai.ModuleAccount.decode(n).baseAccount;return(0,En.assert)(d),$t(d)}case"/cosmos.vesting.v1beta1.BaseVestingAccount":{const d=(r=lr.BaseVestingAccount.decode(n))==null?void 0:r.baseAccount;return(0,En.assert)(d),$t(d)}case"/cosmos.vesting.v1beta1.ContinuousVestingAccount":{const d=(s=(o=lr.ContinuousVestingAccount.decode(n))==null?void 0:o.baseVestingAccount)==null?void 0:s.baseAccount;return(0,En.assert)(d),$t(d)}case"/cosmos.vesting.v1beta1.DelayedVestingAccount":{const d=(c=(i=lr.DelayedVestingAccount.decode(n))==null?void 0:i.baseVestingAccount)==null?void 0:c.baseAccount;return(0,En.assert)(d),$t(d)}case"/cosmos.vesting.v1beta1.PeriodicVestingAccount":{const d=(l=(a=lr.PeriodicVestingAccount.decode(n))==null?void 0:a.baseVestingAccount)==null?void 0:l.baseAccount;return(0,En.assert)(d),$t(d)}default:throw new Error(`Unsupported type: '${t}'`)}}Wn.accountFromAny=Sd;var Kn={};Object.defineProperty(Kn,"__esModule",{value:!0});Kn.AminoTypes=void 0;class Pd{constructor(t){this.register=t}toAmino({typeUrl:t,value:n}){const r=this.register[t];if(!r)throw new Error(`Type URL '${t}' does not exist in the Amino message type register. If you need support for this message type, you can pass in additional entries to the AminoTypes constructor. If you think this message type should be included by default, please open an issue at https://github.com/cosmos/cosmjs/issues.`);return{type:r.aminoType,value:r.toAmino(n)}}fromAmino({type:t,value:n}){const r=Object.entries(this.register).filter(([o,{aminoType:s}])=>s===t);switch(r.length){case 0:throw new Error(`Amino type identifier '${t}' does not exist in the Amino message type register. If you need support for this message type, you can pass in additional entries to the AminoTypes constructor. If you think this message type should be included by default, please open an issue at https://github.com/cosmos/cosmjs/issues.`);case 1:{const[o,s]=r[0];return{typeUrl:o,value:s.fromAmino(n)}}default:throw new Error(`Multiple types are registered with Amino type identifier '${t}': '`+r.map(([o,s])=>o).sort().join("', '")+"'. Thus fromAmino cannot be performed.")}}}Kn.AminoTypes=Pd;var Qn={};Object.defineProperty(Qn,"__esModule",{value:!0});Qn.fromTendermintEvent=void 0;const Ei=x;function Ad(e){return{type:e.type,attributes:e.attributes.map(t=>({key:typeof t.key=="string"?t.key:(0,Ei.fromUtf8)(t.key,!0),value:typeof t.value=="string"?t.value:(0,Ei.fromUtf8)(t.value,!0)}))}}Qn.fromTendermintEvent=Ad;var Mt={};Object.defineProperty(Mt,"__esModule",{value:!0});Mt.calculateFee=Mt.GasPrice=void 0;const Ca=ee,Td=vt;function Ed(e){if(e.length<3||e.length>128)throw new Error("Denom must be between 3 and 128 characters")}class Zr{constructor(t,n){this.amount=t,this.denom=n}static fromString(t){const n=t.match(/^([0-9.]+)([a-zA-Z][a-zA-Z0-9/:._-]*)$/);if(!n)throw new Error("Invalid gas price string");const[r,o,s]=n;Ed(s);const c=Ca.Decimal.fromUserInput(o,18);return new Zr(c,s)}toString(){return this.amount.toString()+this.denom}}Mt.GasPrice=Zr;function Cd(e,t){const n=typeof t=="string"?Zr.fromString(t):t,{denom:r,amount:o}=n,s=o.multiply(new Ca.Uint53(e)).ceil().toString();return{amount:(0,Td.coins)(s,r),gas:e.toString()}}Mt.calculateFee=Cd;var ge={};Object.defineProperty(ge,"__esModule",{value:!0});ge.findAttribute=ge.parseRawLog=ge.parseLogs=ge.parseLog=ge.parseEvent=ge.parseAttribute=void 0;const Gs=X;function ja(e){if(!(0,Gs.isNonNullObject)(e))throw new Error("Attribute must be a non-null object");const{key:t,value:n}=e;if(typeof t!="string"||!t)throw new Error("Attribute's key must be a non-empty string");if(typeof n!="string"&&typeof n<"u")throw new Error("Attribute's value must be a string or unset");return{key:t,value:n||""}}ge.parseAttribute=ja;function Ma(e){if(!(0,Gs.isNonNullObject)(e))throw new Error("Event must be a non-null object");const{type:t,attributes:n}=e;if(typeof t!="string"||t==="")throw new Error("Event type must be a non-empty string");if(!Array.isArray(n))throw new Error("Event's attributes must be an array");return{type:t,attributes:n.map(ja)}}ge.parseEvent=Ma;function Oa(e){if(!(0,Gs.isNonNullObject)(e))throw new Error("Log must be a non-null object");const{msg_index:t,log:n,events:r}=e;if(typeof t!="number")throw new Error("Log's msg_index must be a number");if(typeof n!="string")throw new Error("Log's log must be a string");if(!Array.isArray(r))throw new Error("Log's events must be an array");return{msg_index:t,log:n,events:r.map(Ma)}}ge.parseLog=Oa;function Ba(e){if(!Array.isArray(e))throw new Error("Logs must be an array");return e.map(Oa)}ge.parseLogs=Ba;function jd(e){if(!e)return[];const t=JSON.parse(e).map(({events:n},r)=>({msg_index:r,events:n,log:""}));return Ba(t)}ge.parseRawLog=jd;function Md(e,t,n){var s;const r=e.find(()=>!0),o=(s=r==null?void 0:r.events.find(i=>i.type===t))==null?void 0:s.attributes.find(i=>i.key===n);if(!o)throw new Error(`Could not find attribute '${n}' in first event of type '${t}' in first log.`);return o}ge.findAttribute=Md;var Hn={},Xr={},ae={},Yr={},Zn={},eo={};Object.defineProperty(eo,"__esModule",{value:!0});eo.concat=void 0;const Od=u.xstream;function Bd(...e){const t=new Array,n=new Array,r=new Set;let o=0;function s(){for(;t.length>0;)t.shift().unsubscribe();n.length=0,r.clear(),o=0}const i={start:c=>{e.forEach(d=>n.push([]));function a(d){for(;;){const g=n[d].shift();if(g===void 0)return;c.next(g)}}function l(){return o>=e.length}if(l()){c.complete();return}e.forEach((d,g)=>{t.push(d.subscribe({next:j=>{g===o?c.next(j):n[g].push(j)},complete:()=>{for(r.add(g);r.has(o);)a(o),o++;l()?c.complete():a(o)},error:j=>{c.error(j),s()}}))})},stop:()=>{s()}};return Od.Stream.create(i)}eo.concat=Bd;var to={};Object.defineProperty(to,"__esModule",{value:!0});to.DefaultValueProducer=void 0;class Rd{get value(){return this.internalValue}constructor(t,n){this.callbacks=n,this.internalValue=t}update(t){this.internalValue=t,this.listener&&this.listener.next(t)}error(t){this.listener&&this.listener.error(t)}start(t){this.listener=t,t.next(this.internalValue),this.callbacks&&this.callbacks.onStarted()}stop(){this.callbacks&&this.callbacks.onStop(),this.listener=void 0}}to.DefaultValueProducer=Rd;var no={};Object.defineProperty(no,"__esModule",{value:!0});no.dropDuplicates=void 0;function Id(e){return n=>{const r=new Set;return n.filter(s=>!r.has(e(s))).debug(s=>r.add(e(s)))}}no.dropDuplicates=Id;var ft={};Object.defineProperty(ft,"__esModule",{value:!0});ft.firstEvent=ft.toListPromise=ft.fromListPromise=void 0;const $d=u.xstream;function Nd(e){const t={start:n=>{e.then(r=>{for(const o of r)n.next(o);n.complete()}).catch(r=>n.error(r))},stop:()=>{}};return $d.Stream.create(t)}ft.fromListPromise=Nd;async function Ra(e,t){return new Promise((n,r)=>{if(t===0){n([]);return}const o=new Array;e.take(t).subscribe({next:s=>{o.push(s),o.length===t&&n(o)},complete:()=>{r(`Stream completed before all events could be collected. Collected ${o.length}, expected ${t}`)},error:s=>r(s)})})}ft.toListPromise=Ra;async function xd(e){return(await Ra(e,1))[0]}ft.firstEvent=xd;var Qe={};Object.defineProperty(Qe,"__esModule",{value:!0});Qe.lastValue=Qe.asArray=Qe.countStream=Qe.Reducer=void 0;class ro{constructor(t,n,r){this.stream=t,this.reducer=n,this.state=r,this.completed=new Promise((o,s)=>{const i=this.stream.subscribe({next:c=>{this.state=this.reducer(this.state,c)},complete:()=>{o(),i.unsubscribe()},error:c=>{s(c),i.unsubscribe()}})})}value(){return this.state}async finished(){return this.completed}}Qe.Reducer=ro;function Dd(e,t){return e+1}function Ud(e){return new ro(e,Dd,0)}Qe.countStream=Ud;function qd(e,t){return[...e,t]}function Hd(e){return new ro(e,qd,[])}Qe.asArray=Hd;function Vd(e,t){return t}function Gd(e){return new ro(e,Vd,void 0)}Qe.lastValue=Gd;var oo={};Object.defineProperty(oo,"__esModule",{value:!0});oo.ValueAndUpdates=void 0;const Fd=u.xstream;class Wd{get value(){return this.producer.value}constructor(t){this.producer=t,this.updates=Fd.MemoryStream.createWithMemory(this.producer)}async waitFor(t){const n=typeof t=="function"?t:r=>r===t;return new Promise((r,o)=>{const s=this.updates.subscribe({next:i=>{n(i)&&(r(i),setTimeout(()=>s.unsubscribe(),0))},complete:()=>{s.unsubscribe(),o("Update stream completed without expected value")},error:i=>{o(i)}})})}}oo.ValueAndUpdates=Wd;(function(e){var t=u.commonjsGlobal&&u.commonjsGlobal.__createBinding||(Object.create?function(a,l,d,g){g===void 0&&(g=d);var j=Object.getOwnPropertyDescriptor(l,d);(!j||("get"in j?!l.__esModule:j.writable||j.configurable))&&(j={enumerable:!0,get:function(){return l[d]}}),Object.defineProperty(a,g,j)}:function(a,l,d,g){g===void 0&&(g=d),a[g]=l[d]}),n=u.commonjsGlobal&&u.commonjsGlobal.__exportStar||function(a,l){for(var d in a)d!=="default"&&!Object.prototype.hasOwnProperty.call(l,d)&&t(l,a,d)};Object.defineProperty(e,"__esModule",{value:!0}),e.ValueAndUpdates=e.toListPromise=e.fromListPromise=e.firstEvent=e.dropDuplicates=e.DefaultValueProducer=e.concat=void 0;var r=eo;Object.defineProperty(e,"concat",{enumerable:!0,get:function(){return r.concat}});var o=to;Object.defineProperty(e,"DefaultValueProducer",{enumerable:!0,get:function(){return o.DefaultValueProducer}});var s=no;Object.defineProperty(e,"dropDuplicates",{enumerable:!0,get:function(){return s.dropDuplicates}});var i=ft;Object.defineProperty(e,"firstEvent",{enumerable:!0,get:function(){return i.firstEvent}}),Object.defineProperty(e,"fromListPromise",{enumerable:!0,get:function(){return i.fromListPromise}}),Object.defineProperty(e,"toListPromise",{enumerable:!0,get:function(){return i.toListPromise}}),n(Qe,e);var c=oo;Object.defineProperty(e,"ValueAndUpdates",{enumerable:!0,get:function(){return c.ValueAndUpdates}})})(Zn);Object.defineProperty(Yr,"__esModule",{value:!0});Yr.QueryClient=void 0;const St=u.build$3,Tt=x,Jd=Zn,fe=X;function dr(e,t,n){if(e.type!==t)throw new Error(`Op expected to be ${t}, got "${e.type}`);if(!(0,fe.arrayContentEquals)(n,e.key))throw new Error(`Proven key different than queried key.
Query: ${(0,Tt.toHex)(n)}
Proven: ${(0,Tt.toHex)(e.key)}`);return St.ics23.CommitmentProof.decode(e.data)}class Fs{static withExtensions(t,...n){const r=new Fs(t),o=n.map(s=>s(r));for(const s of o){(0,fe.assert)((0,fe.isNonNullObject)(s),"Extension must be a non-null object");for(const[i,c]of Object.entries(s)){(0,fe.assert)((0,fe.isNonNullObject)(c),`Module must be a non-null object. Found type ${typeof c} for module "${i}".`);const a=r[i]||{};r[i]={...a,...c}}}return r}constructor(t){this.cometClient=t}async queryStoreVerified(t,n,r){const{height:o,proof:s,key:i,value:c}=await this.queryRawProof(t,n,r),a=dr(s.ops[0],"ics23:iavl",n),l=dr(s.ops[1],"ics23:simple",(0,Tt.toAscii)(t));(0,fe.assert)(l.exist),(0,fe.assert)(l.exist.value),!c||c.length===0?((0,fe.assert)(a.nonexist),(0,St.verifyNonExistence)(a.nonexist,St.iavlSpec,l.exist.value,n)):((0,fe.assert)(a.exist),(0,fe.assert)(a.exist.value),(0,St.verifyExistence)(a.exist,St.iavlSpec,l.exist.value,n,c));const d=await this.getNextHeader(o);return(0,St.verifyExistence)(l.exist,St.tendermintSpec,d.appHash,(0,Tt.toAscii)(t),l.exist.value),{key:i,value:c,height:o}}async queryRawProof(t,n,r){const{key:o,value:s,height:i,proof:c,code:a,log:l}=await this.cometClient.abciQuery({path:`/store/${t}/key`,data:n,prove:!0,height:r});if(a)throw new Error(`Query failed with (${a}): ${l}`);if(!(0,fe.arrayContentEquals)(n,o))throw new Error(`Response key ${(0,Tt.toHex)(o)} doesn't match query key ${(0,Tt.toHex)(n)}`);if(!i)throw new Error("No query height returned");if(!c||c.ops.length!==2)throw new Error(`Expected 2 proof ops, got ${(c==null?void 0:c.ops.length)??0}. Are you using stargate?`);return dr(c.ops[0],"ics23:iavl",o),dr(c.ops[1],"ics23:simple",(0,Tt.toAscii)(t)),{key:o,value:s,height:i,proof:{ops:[...c.ops]}}}async queryAbci(t,n,r){const o=await this.cometClient.abciQuery({path:t,data:n,prove:!1,height:r});if(o.code)throw new Error(`Query failed with (${o.code}): ${o.log}`);if(!o.height)throw new Error("No query height returned");return{value:o.value,height:o.height}}async getNextHeader(t){if((0,fe.assertDefined)(t),t===0)throw new Error("Query returned height 0, cannot prove it");const n=t+1;let r,o;try{o=this.cometClient.subscribeNewBlockHeader()}catch{}if(o){const s=await(0,Jd.firstEvent)(o);s.height===n&&(r=s)}for(;!r;){const s=(await this.cometClient.blockchain(t,n)).blockMetas.map(i=>i.header).find(i=>i.height===n);s?r=s:await(0,fe.sleep)(1e3)}return(0,fe.assert)(r.height===n,"Got wrong header. This is a bug in the logic above."),r}}Yr.QueryClient=Fs;var Me={};Object.defineProperty(Me,"__esModule",{value:!0});Me.decodeCosmosSdkDecFromProto=Me.longify=Me.createProtobufRpcClient=Me.createPagination=Me.toAccAddress=void 0;const Ia=x,$a=ee,Ci=u.pagination;function Ld(e){return(0,Ia.fromBech32)(e).data}Me.toAccAddress=Ld;function zd(e){return e?Ci.PageRequest.fromPartial({key:e}):Ci.PageRequest.fromPartial({})}Me.createPagination=zd;function Kd(e){return{request:async(t,n,r)=>{const o=`/${t}/${n}`;return(await e.queryAbci(o,r,void 0)).value}}}Me.createProtobufRpcClient=Kd;function Qd(e){const t=$a.Uint64.fromString(e.toString());return BigInt(t.toString())}Me.longify=Qd;function Zd(e){const t=typeof e=="string"?e:(0,Ia.fromAscii)(e);return $a.Decimal.fromAtomics(t,18)}Me.decodeCosmosSdkDecFromProto=Zd;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.longify=e.decodeCosmosSdkDecFromProto=e.createProtobufRpcClient=e.createPagination=e.QueryClient=void 0;var t=Yr;Object.defineProperty(e,"QueryClient",{enumerable:!0,get:function(){return t.QueryClient}});var n=Me;Object.defineProperty(e,"createPagination",{enumerable:!0,get:function(){return n.createPagination}}),Object.defineProperty(e,"createProtobufRpcClient",{enumerable:!0,get:function(){return n.createProtobufRpcClient}}),Object.defineProperty(e,"decodeCosmosSdkDecFromProto",{enumerable:!0,get:function(){return n.decodeCosmosSdkDecFromProto}}),Object.defineProperty(e,"longify",{enumerable:!0,get:function(){return n.longify}})})(ae);Object.defineProperty(Xr,"__esModule",{value:!0});Xr.setupAuthExtension=void 0;const Xd=u.query,Yd=ae;function em(e){const t=(0,Yd.createProtobufRpcClient)(e),n=new Xd.QueryClientImpl(t);return{auth:{account:async r=>{const{account:o}=await n.Account({address:r});return o??null}}}}Xr.setupAuthExtension=em;var so={};Object.defineProperty(so,"__esModule",{value:!0});so.createAuthzAminoConverters=void 0;function tm(){return{}}so.createAuthzAminoConverters=tm;var io={};Object.defineProperty(io,"__esModule",{value:!0});io.authzTypes=void 0;const es=u.tx$2;io.authzTypes=[["/cosmos.authz.v1beta1.MsgExec",es.MsgExec],["/cosmos.authz.v1beta1.MsgGrant",es.MsgGrant],["/cosmos.authz.v1beta1.MsgRevoke",es.MsgRevoke]];var ao={};Object.defineProperty(ao,"__esModule",{value:!0});ao.setupAuthzExtension=void 0;const nm=u.query$1,mr=ae;function rm(e){const t=(0,mr.createProtobufRpcClient)(e),n=new nm.QueryClientImpl(t);return{authz:{grants:async(r,o,s,i)=>await n.Grants({granter:r,grantee:o,msgTypeUrl:s,pagination:(0,mr.createPagination)(i)}),granteeGrants:async(r,o)=>await n.GranteeGrants({grantee:r,pagination:(0,mr.createPagination)(o)}),granterGrants:async(r,o)=>await n.GranterGrants({granter:r,pagination:(0,mr.createPagination)(o)})}}}ao.setupAuthzExtension=rm;var ht={};Object.defineProperty(ht,"__esModule",{value:!0});ht.createBankAminoConverters=ht.isAminoMsgMultiSend=ht.isAminoMsgSend=void 0;function om(e){return e.type==="cosmos-sdk/MsgSend"}ht.isAminoMsgSend=om;function sm(e){return e.type==="cosmos-sdk/MsgMultiSend"}ht.isAminoMsgMultiSend=sm;function im(){return{"/cosmos.bank.v1beta1.MsgSend":{aminoType:"cosmos-sdk/MsgSend",toAmino:({fromAddress:e,toAddress:t,amount:n})=>({from_address:e,to_address:t,amount:[...n]}),fromAmino:({from_address:e,to_address:t,amount:n})=>({fromAddress:e,toAddress:t,amount:[...n]})},"/cosmos.bank.v1beta1.MsgMultiSend":{aminoType:"cosmos-sdk/MsgMultiSend",toAmino:({inputs:e,outputs:t})=>({inputs:e.map(n=>({address:n.address,coins:[...n.coins]})),outputs:t.map(n=>({address:n.address,coins:[...n.coins]}))}),fromAmino:({inputs:e,outputs:t})=>({inputs:e.map(n=>({address:n.address,coins:[...n.coins]})),outputs:t.map(n=>({address:n.address,coins:[...n.coins]}))})}}}ht.createBankAminoConverters=im;var en={};Object.defineProperty(en,"__esModule",{value:!0});en.isMsgSendEncodeObject=en.bankTypes=void 0;const ji=u.tx$1;en.bankTypes=[["/cosmos.bank.v1beta1.MsgMultiSend",ji.MsgMultiSend],["/cosmos.bank.v1beta1.MsgSend",ji.MsgSend]];function am(e){return e.typeUrl==="/cosmos.bank.v1beta1.MsgSend"}en.isMsgSendEncodeObject=am;var co={};Object.defineProperty(co,"__esModule",{value:!0});co.setupBankExtension=void 0;const ts=X,ns=u.query$2,Mi=ae;function cm(e){const t=(0,Mi.createProtobufRpcClient)(e),n=new ns.QueryClientImpl(t);return{bank:{balance:async(r,o)=>{const{balance:s}=await n.Balance({address:r,denom:o});return(0,ts.assert)(s),s},allBalances:async r=>{const{balances:o}=await n.AllBalances(ns.QueryAllBalancesRequest.fromPartial({address:r}));return o},totalSupply:async r=>await n.TotalSupply({pagination:(0,Mi.createPagination)(r)}),supplyOf:async r=>{const{amount:o}=await n.SupplyOf({denom:r});return(0,ts.assert)(o),o},denomMetadata:async r=>{const{metadata:o}=await n.DenomMetadata({denom:r});return(0,ts.assert)(o),o},denomsMetadata:async()=>{const{metadatas:r}=await n.DenomsMetadata(ns.QueryDenomsMetadataRequest.fromPartial({pagination:void 0}));return r}}}}co.setupBankExtension=cm;var tn={};Object.defineProperty(tn,"__esModule",{value:!0});tn.createCrysisAminoConverters=tn.isAminoMsgVerifyInvariant=void 0;function um(e){return e.type==="cosmos-sdk/MsgVerifyInvariant"}tn.isAminoMsgVerifyInvariant=um;function lm(){throw new Error("Not implemented")}tn.createCrysisAminoConverters=lm;var Oe={};Object.defineProperty(Oe,"__esModule",{value:!0});Oe.createDistributionAminoConverters=Oe.isAminoMsgFundCommunityPool=Oe.isAminoMsgWithdrawValidatorCommission=Oe.isAminoMsgWithdrawDelegatorReward=Oe.isAminoMsgSetWithdrawAddress=void 0;function dm(e){return e.type==="cosmos-sdk/MsgModifyWithdrawAddress"}Oe.isAminoMsgSetWithdrawAddress=dm;function mm(e){return e.type==="cosmos-sdk/MsgWithdrawDelegationReward"}Oe.isAminoMsgWithdrawDelegatorReward=mm;function fm(e){return e.type==="cosmos-sdk/MsgWithdrawValidatorCommission"}Oe.isAminoMsgWithdrawValidatorCommission=fm;function hm(e){return e.type==="cosmos-sdk/MsgFundCommunityPool"}Oe.isAminoMsgFundCommunityPool=hm;function pm(){return{"/cosmos.distribution.v1beta1.MsgFundCommunityPool":{aminoType:"cosmos-sdk/MsgFundCommunityPool",toAmino:({amount:e,depositor:t})=>({amount:[...e],depositor:t}),fromAmino:({amount:e,depositor:t})=>({amount:[...e],depositor:t})},"/cosmos.distribution.v1beta1.MsgSetWithdrawAddress":{aminoType:"cosmos-sdk/MsgModifyWithdrawAddress",toAmino:({delegatorAddress:e,withdrawAddress:t})=>({delegator_address:e,withdraw_address:t}),fromAmino:({delegator_address:e,withdraw_address:t})=>({delegatorAddress:e,withdrawAddress:t})},"/cosmos.distribution.v1beta1.MsgWithdrawDelegatorReward":{aminoType:"cosmos-sdk/MsgWithdrawDelegationReward",toAmino:({delegatorAddress:e,validatorAddress:t})=>({delegator_address:e,validator_address:t}),fromAmino:({delegator_address:e,validator_address:t})=>({delegatorAddress:e,validatorAddress:t})},"/cosmos.distribution.v1beta1.MsgWithdrawValidatorCommission":{aminoType:"cosmos-sdk/MsgWithdrawValidatorCommission",toAmino:({validatorAddress:e})=>({validator_address:e}),fromAmino:({validator_address:e})=>({validatorAddress:e})}}}Oe.createDistributionAminoConverters=pm;var nn={};Object.defineProperty(nn,"__esModule",{value:!0});nn.isMsgWithdrawDelegatorRewardEncodeObject=nn.distributionTypes=void 0;const fr=u.tx$3;nn.distributionTypes=[["/cosmos.distribution.v1beta1.MsgFundCommunityPool",fr.MsgFundCommunityPool],["/cosmos.distribution.v1beta1.MsgSetWithdrawAddress",fr.MsgSetWithdrawAddress],["/cosmos.distribution.v1beta1.MsgWithdrawDelegatorReward",fr.MsgWithdrawDelegatorReward],["/cosmos.distribution.v1beta1.MsgWithdrawValidatorCommission",fr.MsgWithdrawValidatorCommission]];function gm(e){return e.typeUrl==="/cosmos.distribution.v1beta1.MsgWithdrawDelegatorReward"}nn.isMsgWithdrawDelegatorRewardEncodeObject=gm;var uo={};Object.defineProperty(uo,"__esModule",{value:!0});uo.setupDistributionExtension=void 0;const ym=u.query$3,Oi=ae;function bm(e){const t=(0,Oi.createProtobufRpcClient)(e),n=new ym.QueryClientImpl(t);return{distribution:{communityPool:async()=>await n.CommunityPool({}),delegationRewards:async(r,o)=>await n.DelegationRewards({delegatorAddress:r,validatorAddress:o}),delegationTotalRewards:async r=>await n.DelegationTotalRewards({delegatorAddress:r}),delegatorValidators:async r=>await n.DelegatorValidators({delegatorAddress:r}),delegatorWithdrawAddress:async r=>await n.DelegatorWithdrawAddress({delegatorAddress:r}),params:async()=>await n.Params({}),validatorCommission:async r=>await n.ValidatorCommission({validatorAddress:r}),validatorOutstandingRewards:async r=>await n.ValidatorOutstandingRewards({validatorAddress:r}),validatorSlashes:async(r,o,s,i)=>await n.ValidatorSlashes({validatorAddress:r,startingHeight:BigInt(o),endingHeight:BigInt(s),pagination:(0,Oi.createPagination)(i)})}}}uo.setupDistributionExtension=bm;var rn={};Object.defineProperty(rn,"__esModule",{value:!0});rn.createEvidenceAminoConverters=rn.isAminoMsgSubmitEvidence=void 0;function vm(e){return e.type==="cosmos-sdk/MsgSubmitEvidence"}rn.isAminoMsgSubmitEvidence=vm;function wm(){throw new Error("Not implemented")}rn.createEvidenceAminoConverters=wm;var lo={};Object.defineProperty(lo,"__esModule",{value:!0});lo.createFeegrantAminoConverters=void 0;function km(){return{}}lo.createFeegrantAminoConverters=km;var mo={};Object.defineProperty(mo,"__esModule",{value:!0});mo.feegrantTypes=void 0;const Bi=u.tx$4;mo.feegrantTypes=[["/cosmos.feegrant.v1beta1.MsgGrantAllowance",Bi.MsgGrantAllowance],["/cosmos.feegrant.v1beta1.MsgRevokeAllowance",Bi.MsgRevokeAllowance]];var fo={};Object.defineProperty(fo,"__esModule",{value:!0});fo.setupFeegrantExtension=void 0;const _m=u.query$4,Ri=ae;function Sm(e){const t=(0,Ri.createProtobufRpcClient)(e),n=new _m.QueryClientImpl(t);return{feegrant:{allowance:async(r,o)=>await n.Allowance({granter:r,grantee:o}),allowances:async(r,o)=>await n.Allowances({grantee:r,pagination:(0,Ri.createPagination)(o)})}}}fo.setupFeegrantExtension=Sm;var Be={};Object.defineProperty(Be,"__esModule",{value:!0});Be.createGovAminoConverters=Be.isAminoMsgDeposit=Be.isAminoMsgVoteWeighted=Be.isAminoMsgVote=Be.isAminoMsgSubmitProposal=void 0;const Pm=ee,Cn=X,jn=u.gov,Am=u.any,Tm=ae;function Em(e){return e.type==="cosmos-sdk/MsgSubmitProposal"}Be.isAminoMsgSubmitProposal=Em;function Cm(e){return e.type==="cosmos-sdk/MsgVote"}Be.isAminoMsgVote=Cm;function jm(e){return e.type==="cosmos-sdk/MsgVoteWeighted"}Be.isAminoMsgVoteWeighted=jm;function Mm(e){return e.type==="cosmos-sdk/MsgDeposit"}Be.isAminoMsgDeposit=Mm;function Om(){return{"/cosmos.gov.v1beta1.MsgDeposit":{aminoType:"cosmos-sdk/MsgDeposit",toAmino:({amount:e,depositor:t,proposalId:n})=>({amount:e,depositor:t,proposal_id:n.toString()}),fromAmino:({amount:e,depositor:t,proposal_id:n})=>({amount:Array.from(e),depositor:t,proposalId:BigInt(n)})},"/cosmos.gov.v1beta1.MsgVote":{aminoType:"cosmos-sdk/MsgVote",toAmino:({option:e,proposalId:t,voter:n})=>({option:e,proposal_id:t.toString(),voter:n}),fromAmino:({option:e,proposal_id:t,voter:n})=>({option:(0,jn.voteOptionFromJSON)(e),proposalId:BigInt(t),voter:n})},"/cosmos.gov.v1beta1.MsgVoteWeighted":{aminoType:"cosmos-sdk/MsgVoteWeighted",toAmino:({options:e,proposalId:t,voter:n})=>({options:e.map(r=>({option:r.option,weight:(0,Tm.decodeCosmosSdkDecFromProto)(r.weight).toString().padEnd(20,"0")})),proposal_id:t.toString(),voter:n}),fromAmino:({options:e,proposal_id:t,voter:n})=>({proposalId:BigInt(t),voter:n,options:e.map(r=>({option:(0,jn.voteOptionFromJSON)(r.option),weight:Pm.Decimal.fromUserInput(r.weight,18).atomics}))})},"/cosmos.gov.v1beta1.MsgSubmitProposal":{aminoType:"cosmos-sdk/MsgSubmitProposal",toAmino:({initialDeposit:e,proposer:t,content:n})=>{(0,Cn.assertDefinedAndNotNull)(n);let r;switch(n.typeUrl){case"/cosmos.gov.v1beta1.TextProposal":{const o=jn.TextProposal.decode(n.value);r={type:"cosmos-sdk/TextProposal",value:{description:o.description,title:o.title}};break}default:throw new Error(`Unsupported proposal type: '${n.typeUrl}'`)}return{initial_deposit:e,proposer:t,content:r}},fromAmino:({initial_deposit:e,proposer:t,content:n})=>{let r;switch(n.type){case"cosmos-sdk/TextProposal":{const{value:o}=n;(0,Cn.assert)((0,Cn.isNonNullObject)(o));const{title:s,description:i}=o;(0,Cn.assert)(typeof s=="string"),(0,Cn.assert)(typeof i=="string"),r=Am.Any.fromPartial({typeUrl:"/cosmos.gov.v1beta1.TextProposal",value:jn.TextProposal.encode(jn.TextProposal.fromPartial({title:s,description:i})).finish()});break}default:throw new Error(`Unsupported proposal type: '${n.type}'`)}return{initialDeposit:Array.from(e),proposer:t,content:r}}}}}Be.createGovAminoConverters=Om;var Re={};Object.defineProperty(Re,"__esModule",{value:!0});Re.isMsgVoteWeightedEncodeObject=Re.isMsgVoteEncodeObject=Re.isMsgSubmitProposalEncodeObject=Re.isMsgDepositEncodeObject=Re.govTypes=void 0;const Mn=u.tx$5,hr=u.tx$6;Re.govTypes=[["/cosmos.gov.v1.MsgDeposit",Mn.MsgDeposit],["/cosmos.gov.v1.MsgSubmitProposal",Mn.MsgSubmitProposal],["/cosmos.gov.v1.MsgUpdateParams",Mn.MsgUpdateParams],["/cosmos.gov.v1.MsgVote",Mn.MsgVote],["/cosmos.gov.v1.MsgVoteWeighted",Mn.MsgVoteWeighted],["/cosmos.gov.v1beta1.MsgDeposit",hr.MsgDeposit],["/cosmos.gov.v1beta1.MsgSubmitProposal",hr.MsgSubmitProposal],["/cosmos.gov.v1beta1.MsgVote",hr.MsgVote],["/cosmos.gov.v1beta1.MsgVoteWeighted",hr.MsgVoteWeighted]];function Bm(e){return e.typeUrl==="/cosmos.gov.v1beta1.MsgDeposit"}Re.isMsgDepositEncodeObject=Bm;function Rm(e){return e.typeUrl==="/cosmos.gov.v1beta1.MsgSubmitProposal"}Re.isMsgSubmitProposalEncodeObject=Rm;function Im(e){return e.typeUrl==="/cosmos.gov.v1beta1.MsgVote"}Re.isMsgVoteEncodeObject=Im;function $m(e){return e.typeUrl==="/cosmos.gov.v1beta1.MsgVoteWeighted"}Re.isMsgVoteWeightedEncodeObject=$m;var ho={};Object.defineProperty(ho,"__esModule",{value:!0});ho.setupGovExtension=void 0;const Nm=u.query$5,Fe=ae;function xm(e){const t=(0,Fe.createProtobufRpcClient)(e),n=new Nm.QueryClientImpl(t);return{gov:{params:async r=>await n.Params({paramsType:r}),proposals:async(r,o,s,i)=>await n.Proposals({proposalStatus:r,depositor:o,voter:s,pagination:(0,Fe.createPagination)(i)}),proposal:async r=>await n.Proposal({proposalId:(0,Fe.longify)(r)}),deposits:async(r,o)=>await n.Deposits({proposalId:(0,Fe.longify)(r),pagination:(0,Fe.createPagination)(o)}),deposit:async(r,o)=>await n.Deposit({proposalId:(0,Fe.longify)(r),depositor:o}),tally:async r=>await n.TallyResult({proposalId:(0,Fe.longify)(r)}),votes:async(r,o)=>await n.Votes({proposalId:(0,Fe.longify)(r),pagination:(0,Fe.createPagination)(o)}),vote:async(r,o)=>await n.Vote({proposalId:(0,Fe.longify)(r),voter:o})}}}ho.setupGovExtension=xm;var po={};Object.defineProperty(po,"__esModule",{value:!0});po.createGroupAminoConverters=void 0;function Dm(){return{}}po.createGroupAminoConverters=Dm;var go={};Object.defineProperty(go,"__esModule",{value:!0});go.groupTypes=void 0;const ue=u.tx$7;go.groupTypes=[["/cosmos.group.v1.MsgCreateGroup",ue.MsgCreateGroup],["/cosmos.group.v1.MsgCreateGroupPolicy",ue.MsgCreateGroupPolicy],["/cosmos.group.v1.MsgCreateGroupWithPolicy",ue.MsgCreateGroupWithPolicy],["/cosmos.group.v1.MsgExec",ue.MsgExec],["/cosmos.group.v1.MsgLeaveGroup",ue.MsgLeaveGroup],["/cosmos.group.v1.MsgSubmitProposal",ue.MsgSubmitProposal],["/cosmos.group.v1.MsgUpdateGroupAdmin",ue.MsgUpdateGroupAdmin],["/cosmos.group.v1.MsgUpdateGroupMembers",ue.MsgUpdateGroupMembers],["/cosmos.group.v1.MsgUpdateGroupMetadata",ue.MsgUpdateGroupMetadata],["/cosmos.group.v1.MsgUpdateGroupPolicyAdmin",ue.MsgUpdateGroupPolicyAdmin],["/cosmos.group.v1.MsgUpdateGroupPolicyDecisionPolicy",ue.MsgUpdateGroupPolicyDecisionPolicy],["/cosmos.group.v1.MsgUpdateGroupPolicyMetadata",ue.MsgUpdateGroupPolicyMetadata],["/cosmos.group.v1.MsgVote",ue.MsgVote],["/cosmos.group.v1.MsgWithdrawProposal",ue.MsgWithdrawProposal]];var on={};Object.defineProperty(on,"__esModule",{value:!0});on.createIbcAminoConverters=on.isAminoMsgTransfer=void 0;const pr=ot,Um=u.tx$8;function qm(e){return e.type==="cosmos-sdk/MsgTransfer"}on.isAminoMsgTransfer=qm;function Hm(){return{"/ibc.applications.transfer.v1.MsgTransfer":{aminoType:"cosmos-sdk/MsgTransfer",toAmino:({sourcePort:e,sourceChannel:t,token:n,sender:r,receiver:o,timeoutHeight:s,timeoutTimestamp:i,memo:c})=>{var a,l,d;return{source_port:e,source_channel:t,token:n,sender:r,receiver:o,timeout_height:s?{revision_height:(a=(0,pr.omitDefault)(s.revisionHeight))==null?void 0:a.toString(),revision_number:(l=(0,pr.omitDefault)(s.revisionNumber))==null?void 0:l.toString()}:{},timeout_timestamp:(d=(0,pr.omitDefault)(i))==null?void 0:d.toString(),memo:(0,pr.omitDefault)(c)}},fromAmino:({source_port:e,source_channel:t,token:n,sender:r,receiver:o,timeout_height:s,timeout_timestamp:i,memo:c})=>Um.MsgTransfer.fromPartial({sourcePort:e,sourceChannel:t,token:n,sender:r,receiver:o,timeoutHeight:s?{revisionHeight:BigInt(s.revision_height||"0"),revisionNumber:BigInt(s.revision_number||"0")}:void 0,timeoutTimestamp:BigInt(i||"0"),memo:c??""})}}}on.createIbcAminoConverters=Hm;var sn={};Object.defineProperty(sn,"__esModule",{value:!0});sn.isMsgTransferEncodeObject=sn.ibcTypes=void 0;const Vm=u.tx$8,We=u.tx$9,gr=u.tx$10,yr=u.tx$11;sn.ibcTypes=[["/ibc.applications.transfer.v1.MsgTransfer",Vm.MsgTransfer],["/ibc.core.channel.v1.MsgAcknowledgement",We.MsgAcknowledgement],["/ibc.core.channel.v1.MsgChannelCloseConfirm",We.MsgChannelCloseConfirm],["/ibc.core.channel.v1.MsgChannelCloseInit",We.MsgChannelCloseInit],["/ibc.core.channel.v1.MsgChannelOpenAck",We.MsgChannelOpenAck],["/ibc.core.channel.v1.MsgChannelOpenConfirm",We.MsgChannelOpenConfirm],["/ibc.core.channel.v1.MsgChannelOpenInit",We.MsgChannelOpenInit],["/ibc.core.channel.v1.MsgChannelOpenTry",We.MsgChannelOpenTry],["/ibc.core.channel.v1.MsgRecvPacket",We.MsgRecvPacket],["/ibc.core.channel.v1.MsgTimeout",We.MsgTimeout],["/ibc.core.channel.v1.MsgTimeoutOnClose",We.MsgTimeoutOnClose],["/ibc.core.client.v1.MsgCreateClient",gr.MsgCreateClient],["/ibc.core.client.v1.MsgSubmitMisbehaviour",gr.MsgSubmitMisbehaviour],["/ibc.core.client.v1.MsgUpdateClient",gr.MsgUpdateClient],["/ibc.core.client.v1.MsgUpgradeClient",gr.MsgUpgradeClient],["/ibc.core.connection.v1.MsgConnectionOpenAck",yr.MsgConnectionOpenAck],["/ibc.core.connection.v1.MsgConnectionOpenConfirm",yr.MsgConnectionOpenConfirm],["/ibc.core.connection.v1.MsgConnectionOpenInit",yr.MsgConnectionOpenInit],["/ibc.core.connection.v1.MsgConnectionOpenTry",yr.MsgConnectionOpenTry]];function Gm(e){return e.typeUrl==="/ibc.applications.transfer.v1.MsgTransfer"}sn.isMsgTransferEncodeObject=Gm;var yo={};Object.defineProperty(yo,"__esModule",{value:!0});yo.setupIbcExtension=void 0;const br=x,Fm=ee,Ii=u.query$6,Wm=u.channel,kt=u.query$7,On=u.query$8,rs=u.query$9,Na=u.tendermint,K=ae;function os(e){if((e==null?void 0:e.typeUrl)!=="/ibc.lightclients.tendermint.v1.ClientState")throw new Error(`Unexpected client state type: ${e==null?void 0:e.typeUrl}`);return Na.ClientState.decode(e.value)}function Jm(e){if((e==null?void 0:e.typeUrl)!=="/ibc.lightclients.tendermint.v1.ConsensusState")throw new Error(`Unexpected client state type: ${e==null?void 0:e.typeUrl}`);return Na.ConsensusState.decode(e.value)}function Lm(e){const t=(0,K.createProtobufRpcClient)(e),n=new kt.QueryClientImpl(t),r=new On.QueryClientImpl(t),o=new rs.QueryClientImpl(t),s=new Ii.QueryClientImpl(t);return{ibc:{channel:{channel:async(i,c)=>n.Channel({portId:i,channelId:c}),channels:async i=>n.Channels({pagination:(0,K.createPagination)(i)}),allChannels:async()=>{var l;const i=[];let c,a;do c=await n.Channels({pagination:(0,K.createPagination)(a)}),i.push(...c.channels),a=(l=c.pagination)==null?void 0:l.nextKey;while(a&&a.length);return kt.QueryChannelsResponse.fromPartial({channels:i,height:c.height})},connectionChannels:async(i,c)=>n.ConnectionChannels({connection:i,pagination:(0,K.createPagination)(c)}),allConnectionChannels:async i=>{var d;const c=[];let a,l;do a=await n.ConnectionChannels({connection:i,pagination:(0,K.createPagination)(l)}),c.push(...a.channels),l=(d=a.pagination)==null?void 0:d.nextKey;while(l&&l.length);return kt.QueryConnectionChannelsResponse.fromPartial({channels:c,height:a.height})},clientState:async(i,c)=>n.ChannelClientState({portId:i,channelId:c}),consensusState:async(i,c,a,l)=>n.ChannelConsensusState({portId:i,channelId:c,revisionNumber:BigInt(a),revisionHeight:BigInt(l)}),packetCommitment:async(i,c,a)=>n.PacketCommitment({portId:i,channelId:c,sequence:(0,K.longify)(a)}),packetCommitments:async(i,c,a)=>n.PacketCommitments({channelId:c,portId:i,pagination:(0,K.createPagination)(a)}),allPacketCommitments:async(i,c)=>{var g;const a=[];let l,d;do l=await n.PacketCommitments({channelId:c,portId:i,pagination:(0,K.createPagination)(d)}),a.push(...l.commitments),d=(g=l.pagination)==null?void 0:g.nextKey;while(d&&d.length);return kt.QueryPacketCommitmentsResponse.fromPartial({commitments:a,height:l.height})},packetReceipt:async(i,c,a)=>n.PacketReceipt({portId:i,channelId:c,sequence:(0,K.longify)(a)}),packetAcknowledgement:async(i,c,a)=>n.PacketAcknowledgement({portId:i,channelId:c,sequence:(0,K.longify)(a)}),packetAcknowledgements:async(i,c,a)=>{const l=kt.QueryPacketAcknowledgementsRequest.fromPartial({portId:i,channelId:c,pagination:(0,K.createPagination)(a)});return n.PacketAcknowledgements(l)},allPacketAcknowledgements:async(i,c)=>{var g;const a=[];let l,d;do{const j=kt.QueryPacketAcknowledgementsRequest.fromPartial({channelId:c,portId:i,pagination:(0,K.createPagination)(d)});l=await n.PacketAcknowledgements(j),a.push(...l.acknowledgements),d=(g=l.pagination)==null?void 0:g.nextKey}while(d&&d.length);return kt.QueryPacketAcknowledgementsResponse.fromPartial({acknowledgements:a,height:l.height})},unreceivedPackets:async(i,c,a)=>n.UnreceivedPackets({portId:i,channelId:c,packetCommitmentSequences:a.map(l=>BigInt(l))}),unreceivedAcks:async(i,c,a)=>n.UnreceivedAcks({portId:i,channelId:c,packetAckSequences:a.map(l=>BigInt(l))}),nextSequenceReceive:async(i,c)=>n.NextSequenceReceive({portId:i,channelId:c})},client:{state:async i=>r.ClientState({clientId:i}),states:async i=>r.ClientStates({pagination:(0,K.createPagination)(i)}),allStates:async()=>{var l;const i=[];let c,a;do c=await r.ClientStates({pagination:(0,K.createPagination)(a)}),i.push(...c.clientStates),a=(l=c.pagination)==null?void 0:l.nextKey;while(a&&a.length);return On.QueryClientStatesResponse.fromPartial({clientStates:i})},consensusState:async(i,c)=>r.ConsensusState(On.QueryConsensusStateRequest.fromPartial({clientId:i,revisionHeight:c!==void 0?BigInt(c):void 0,latestHeight:c===void 0})),consensusStates:async(i,c)=>r.ConsensusStates({clientId:i,pagination:(0,K.createPagination)(c)}),allConsensusStates:async i=>{var d;const c=[];let a,l;do a=await r.ConsensusStates({clientId:i,pagination:(0,K.createPagination)(l)}),c.push(...a.consensusStates),l=(d=a.pagination)==null?void 0:d.nextKey;while(l&&l.length);return On.QueryConsensusStatesResponse.fromPartial({consensusStates:c})},params:async()=>r.ClientParams({}),stateTm:async i=>{const c=await r.ClientState({clientId:i});return os(c.clientState)},statesTm:async i=>{const{clientStates:c}=await r.ClientStates({pagination:(0,K.createPagination)(i)});return c.map(({clientState:a})=>os(a))},allStatesTm:async()=>{var l;const i=[];let c,a;do c=await r.ClientStates({pagination:(0,K.createPagination)(a)}),i.push(...c.clientStates),a=(l=c.pagination)==null?void 0:l.nextKey;while(a&&a.length);return i.map(({clientState:d})=>os(d))},consensusStateTm:async(i,c)=>{const a=await r.ConsensusState(On.QueryConsensusStateRequest.fromPartial({clientId:i,revisionHeight:c==null?void 0:c.revisionHeight,revisionNumber:c==null?void 0:c.revisionNumber,latestHeight:c===void 0}));return Jm(a.consensusState)}},connection:{connection:async i=>o.Connection({connectionId:i}),connections:async i=>o.Connections({pagination:(0,K.createPagination)(i)}),allConnections:async()=>{var l;const i=[];let c,a;do c=await o.Connections({pagination:(0,K.createPagination)(a)}),i.push(...c.connections),a=(l=c.pagination)==null?void 0:l.nextKey;while(a&&a.length);return rs.QueryConnectionsResponse.fromPartial({connections:i,height:c.height})},clientConnections:async i=>o.ClientConnections({clientId:i}),clientState:async i=>o.ConnectionClientState({connectionId:i}),consensusState:async(i,c)=>o.ConnectionConsensusState(rs.QueryConnectionConsensusStateRequest.fromPartial({connectionId:i,revisionHeight:BigInt(c)}))},transfer:{denomTrace:async i=>s.DenomTrace({hash:i}),denomTraces:async i=>s.DenomTraces({pagination:(0,K.createPagination)(i)}),allDenomTraces:async()=>{var l;const i=[];let c,a;do c=await s.DenomTraces({pagination:(0,K.createPagination)(a)}),i.push(...c.denomTraces),a=(l=c.pagination)==null?void 0:l.nextKey;while(a&&a.length);return Ii.QueryDenomTracesResponse.fromPartial({denomTraces:i})},params:async()=>s.Params({})},verified:{channel:{channel:async(i,c)=>{const a=(0,br.toAscii)(`channelEnds/ports/${i}/channels/${c}`),{value:l}=await e.queryStoreVerified("ibc",a);return l.length?Wm.Channel.decode(l):null},packetCommitment:async(i,c,a)=>{const l=(0,br.toAscii)(`commitments/ports/${i}/channels/${c}/packets/${a}`),{value:d}=await e.queryStoreVerified("ibc",l);return d},packetAcknowledgement:async(i,c,a)=>{const l=(0,br.toAscii)(`acks/ports/${i}/channels/${c}/acknowledgements/${a}`),{value:d}=await e.queryStoreVerified("ibc",l);return d},nextSequenceReceive:async(i,c)=>{const a=(0,br.toAscii)(`seqAcks/ports/${i}/channels/${c}/nextSequenceAck`),{value:l}=await e.queryStoreVerified("ibc",a);return l.length?Fm.Uint64.fromBytes(l).toNumber():null}}}}}}yo.setupIbcExtension=Lm;var bo={};Object.defineProperty(bo,"__esModule",{value:!0});bo.setupMintExtension=void 0;const zm=X,Km=u.query$10,_t=ae;function Qm(e){const t=(0,_t.createProtobufRpcClient)(e),n=new Km.QueryClientImpl(t);return{mint:{params:async()=>{const{params:r}=await n.Params({});return(0,zm.assert)(r),{blocksPerYear:r.blocksPerYear,goalBonded:(0,_t.decodeCosmosSdkDecFromProto)(r.goalBonded),inflationMin:(0,_t.decodeCosmosSdkDecFromProto)(r.inflationMin),inflationMax:(0,_t.decodeCosmosSdkDecFromProto)(r.inflationMax),inflationRateChange:(0,_t.decodeCosmosSdkDecFromProto)(r.inflationRateChange),mintDenom:r.mintDenom}},inflation:async()=>{const{inflation:r}=await n.Inflation({});return(0,_t.decodeCosmosSdkDecFromProto)(r)},annualProvisions:async()=>{const{annualProvisions:r}=await n.AnnualProvisions({});return(0,_t.decodeCosmosSdkDecFromProto)(r)}}}}bo.setupMintExtension=Qm;var an={};Object.defineProperty(an,"__esModule",{value:!0});an.createSlashingAminoConverters=an.isAminoMsgUnjail=void 0;function Zm(e){return e.type==="cosmos-sdk/MsgUnjail"}an.isAminoMsgUnjail=Zm;function Xm(){throw new Error("Not implemented")}an.createSlashingAminoConverters=Xm;var vo={};Object.defineProperty(vo,"__esModule",{value:!0});vo.setupSlashingExtension=void 0;const Ym=u.query$11,$i=ae;function ef(e){const t=(0,$i.createProtobufRpcClient)(e),n=new Ym.QueryClientImpl(t);return{slashing:{signingInfo:async r=>await n.SigningInfo({consAddress:r}),signingInfos:async r=>await n.SigningInfos({pagination:(0,$i.createPagination)(r)}),params:async()=>await n.Params({})}}}vo.setupSlashingExtension=ef;var oe={};Object.defineProperty(oe,"__esModule",{value:!0});oe.createStakingAminoConverters=oe.isAminoMsgUndelegate=oe.isAminoMsgBeginRedelegate=oe.isAminoMsgDelegate=oe.isAminoMsgEditValidator=oe.isAminoMsgCreateValidator=oe.protoDecimalToJson=void 0;const xa=ee,Ni=vt,ct=X;function $n(e){const t=xa.Decimal.fromAtomics(e,18),[n,r]=t.toString().split(".");return`${n}.${(r??"").padEnd(18,"0")}`}oe.protoDecimalToJson=$n;function vr(e){return xa.Decimal.fromUserInput(e,18).atomics}function tf(e){return e.type==="cosmos-sdk/MsgCreateValidator"}oe.isAminoMsgCreateValidator=tf;function nf(e){return e.type==="cosmos-sdk/MsgEditValidator"}oe.isAminoMsgEditValidator=nf;function rf(e){return e.type==="cosmos-sdk/MsgDelegate"}oe.isAminoMsgDelegate=rf;function of(e){return e.type==="cosmos-sdk/MsgBeginRedelegate"}oe.isAminoMsgBeginRedelegate=of;function sf(e){return e.type==="cosmos-sdk/MsgUndelegate"}oe.isAminoMsgUndelegate=sf;function af(){return{"/cosmos.staking.v1beta1.MsgBeginRedelegate":{aminoType:"cosmos-sdk/MsgBeginRedelegate",toAmino:({delegatorAddress:e,validatorSrcAddress:t,validatorDstAddress:n,amount:r})=>((0,ct.assertDefinedAndNotNull)(r,"missing amount"),{delegator_address:e,validator_src_address:t,validator_dst_address:n,amount:r}),fromAmino:({delegator_address:e,validator_src_address:t,validator_dst_address:n,amount:r})=>({delegatorAddress:e,validatorSrcAddress:t,validatorDstAddress:n,amount:r})},"/cosmos.staking.v1beta1.MsgCreateValidator":{aminoType:"cosmos-sdk/MsgCreateValidator",toAmino:({description:e,commission:t,minSelfDelegation:n,delegatorAddress:r,validatorAddress:o,pubkey:s,value:i})=>((0,ct.assertDefinedAndNotNull)(e,"missing description"),(0,ct.assertDefinedAndNotNull)(t,"missing commission"),(0,ct.assertDefinedAndNotNull)(s,"missing pubkey"),(0,ct.assertDefinedAndNotNull)(i,"missing value"),{description:{moniker:e.moniker,identity:e.identity,website:e.website,security_contact:e.securityContact,details:e.details},commission:{rate:$n(t.rate),max_rate:$n(t.maxRate),max_change_rate:$n(t.maxChangeRate)},min_self_delegation:n,delegator_address:r,validator_address:o,pubkey:(0,Ni.decodePubkey)(s),value:i}),fromAmino:({description:e,commission:t,min_self_delegation:n,delegator_address:r,validator_address:o,pubkey:s,value:i})=>({description:{moniker:e.moniker,identity:e.identity,website:e.website,securityContact:e.security_contact,details:e.details},commission:{rate:vr(t.rate),maxRate:vr(t.max_rate),maxChangeRate:vr(t.max_change_rate)},minSelfDelegation:n,delegatorAddress:r,validatorAddress:o,pubkey:(0,Ni.encodePubkey)(s),value:i})},"/cosmos.staking.v1beta1.MsgDelegate":{aminoType:"cosmos-sdk/MsgDelegate",toAmino:({delegatorAddress:e,validatorAddress:t,amount:n})=>((0,ct.assertDefinedAndNotNull)(n,"missing amount"),{delegator_address:e,validator_address:t,amount:n}),fromAmino:({delegator_address:e,validator_address:t,amount:n})=>({delegatorAddress:e,validatorAddress:t,amount:n})},"/cosmos.staking.v1beta1.MsgEditValidator":{aminoType:"cosmos-sdk/MsgEditValidator",toAmino:({description:e,commissionRate:t,minSelfDelegation:n,validatorAddress:r})=>((0,ct.assertDefinedAndNotNull)(e,"missing description"),{description:{moniker:e.moniker,identity:e.identity,website:e.website,security_contact:e.securityContact,details:e.details},commission_rate:t?$n(t):void 0,min_self_delegation:n||void 0,validator_address:r}),fromAmino:({description:e,commission_rate:t,min_self_delegation:n,validator_address:r})=>({description:{moniker:e.moniker,identity:e.identity,website:e.website,securityContact:e.security_contact,details:e.details},commissionRate:t?vr(t):"",minSelfDelegation:n??"",validatorAddress:r})},"/cosmos.staking.v1beta1.MsgUndelegate":{aminoType:"cosmos-sdk/MsgUndelegate",toAmino:({delegatorAddress:e,validatorAddress:t,amount:n})=>((0,ct.assertDefinedAndNotNull)(n,"missing amount"),{delegator_address:e,validator_address:t,amount:n}),fromAmino:({delegator_address:e,validator_address:t,amount:n})=>({delegatorAddress:e,validatorAddress:t,amount:n})}}}oe.createStakingAminoConverters=af;var ye={};Object.defineProperty(ye,"__esModule",{value:!0});ye.isMsgUndelegateEncodeObject=ye.isMsgEditValidatorEncodeObject=ye.isMsgDelegateEncodeObject=ye.isMsgCreateValidatorEncodeObject=ye.isMsgBeginRedelegateEncodeObject=ye.stakingTypes=void 0;const Bn=u.tx$12;ye.stakingTypes=[["/cosmos.staking.v1beta1.MsgBeginRedelegate",Bn.MsgBeginRedelegate],["/cosmos.staking.v1beta1.MsgCreateValidator",Bn.MsgCreateValidator],["/cosmos.staking.v1beta1.MsgDelegate",Bn.MsgDelegate],["/cosmos.staking.v1beta1.MsgEditValidator",Bn.MsgEditValidator],["/cosmos.staking.v1beta1.MsgUndelegate",Bn.MsgUndelegate]];function cf(e){return e.typeUrl==="/cosmos.staking.v1beta1.MsgBeginRedelegate"}ye.isMsgBeginRedelegateEncodeObject=cf;function uf(e){return e.typeUrl==="/cosmos.staking.v1beta1.MsgCreateValidator"}ye.isMsgCreateValidatorEncodeObject=uf;function lf(e){return e.typeUrl==="/cosmos.staking.v1beta1.MsgDelegate"}ye.isMsgDelegateEncodeObject=lf;function df(e){return e.typeUrl==="/cosmos.staking.v1beta1.MsgEditValidator"}ye.isMsgEditValidatorEncodeObject=df;function mf(e){return e.typeUrl==="/cosmos.staking.v1beta1.MsgUndelegate"}ye.isMsgUndelegateEncodeObject=mf;var wo={};Object.defineProperty(wo,"__esModule",{value:!0});wo.setupStakingExtension=void 0;const ff=u.query$12,ut=ae;function hf(e){const t=(0,ut.createProtobufRpcClient)(e),n=new ff.QueryClientImpl(t);return{staking:{delegation:async(r,o)=>await n.Delegation({delegatorAddr:r,validatorAddr:o}),delegatorDelegations:async(r,o)=>await n.DelegatorDelegations({delegatorAddr:r,pagination:(0,ut.createPagination)(o)}),delegatorUnbondingDelegations:async(r,o)=>await n.DelegatorUnbondingDelegations({delegatorAddr:r,pagination:(0,ut.createPagination)(o)}),delegatorValidator:async(r,o)=>await n.DelegatorValidator({delegatorAddr:r,validatorAddr:o}),delegatorValidators:async(r,o)=>await n.DelegatorValidators({delegatorAddr:r,pagination:(0,ut.createPagination)(o)}),historicalInfo:async r=>await n.HistoricalInfo({height:BigInt(r)}),params:async()=>await n.Params({}),pool:async()=>await n.Pool({}),redelegations:async(r,o,s,i)=>await n.Redelegations({delegatorAddr:r,srcValidatorAddr:o,dstValidatorAddr:s,pagination:(0,ut.createPagination)(i)}),unbondingDelegation:async(r,o)=>await n.UnbondingDelegation({delegatorAddr:r,validatorAddr:o}),validator:async r=>await n.Validator({validatorAddr:r}),validatorDelegations:async(r,o)=>await n.ValidatorDelegations({validatorAddr:r,pagination:(0,ut.createPagination)(o)}),validators:async(r,o)=>await n.Validators({status:r,pagination:(0,ut.createPagination)(o)}),validatorUnbondingDelegations:async(r,o)=>await n.ValidatorUnbondingDelegations({validatorAddr:r,pagination:(0,ut.createPagination)(o)})}}}wo.setupStakingExtension=hf;var ko={};Object.defineProperty(ko,"__esModule",{value:!0});ko.setupTxExtension=void 0;const pf=vt,gf=u.signing,xi=u.service,Rn=u.tx,yf=ae;function bf(e){const t=(0,yf.createProtobufRpcClient)(e),n=new xi.ServiceClientImpl(t);return{tx:{getTx:async r=>{const o={hash:r};return await n.GetTx(o)},simulate:async(r,o,s,i)=>{const c=Rn.Tx.fromPartial({authInfo:Rn.AuthInfo.fromPartial({fee:Rn.Fee.fromPartial({}),signerInfos:[{publicKey:(0,pf.encodePubkey)(s),sequence:BigInt(i),modeInfo:{single:{mode:gf.SignMode.SIGN_MODE_UNSPECIFIED}}}]}),body:Rn.TxBody.fromPartial({messages:Array.from(r),memo:o}),signatures:[new Uint8Array]}),a=xi.SimulateRequest.fromPartial({txBytes:Rn.Tx.encode(c).finish()});return await n.Simulate(a)}}}}ko.setupTxExtension=bf;var cn={};Object.defineProperty(cn,"__esModule",{value:!0});cn.createVestingAminoConverters=cn.isAminoMsgCreateVestingAccount=void 0;function vf(e){return e.type==="cosmos-sdk/MsgCreateVestingAccount"}cn.isAminoMsgCreateVestingAccount=vf;function wf(){return{"/cosmos.vesting.v1beta1.MsgCreateVestingAccount":{aminoType:"cosmos-sdk/MsgCreateVestingAccount",toAmino:({fromAddress:e,toAddress:t,amount:n,endTime:r,delayed:o})=>({from_address:e,to_address:t,amount:[...n],end_time:r.toString(),delayed:o}),fromAmino:({from_address:e,to_address:t,amount:n,end_time:r,delayed:o})=>({fromAddress:e,toAddress:t,amount:[...n],endTime:BigInt(r),delayed:o})}}}cn.createVestingAminoConverters=wf;var _o={};Object.defineProperty(_o,"__esModule",{value:!0});_o.vestingTypes=void 0;const kf=u.tx$13;_o.vestingTypes=[["/cosmos.vesting.v1beta1.MsgCreateVestingAccount",kf.MsgCreateVestingAccount]];(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isAminoMsgCreateValidator=e.isAminoMsgBeginRedelegate=e.createStakingAminoConverters=e.setupSlashingExtension=e.isAminoMsgUnjail=e.createSlashingAminoConverters=e.setupMintExtension=e.setupIbcExtension=e.isMsgTransferEncodeObject=e.ibcTypes=e.isAminoMsgTransfer=e.createIbcAminoConverters=e.groupTypes=e.createGroupAminoConverters=e.setupGovExtension=e.isMsgVoteWeightedEncodeObject=e.isMsgVoteEncodeObject=e.isMsgSubmitProposalEncodeObject=e.isMsgDepositEncodeObject=e.govTypes=e.isAminoMsgVoteWeighted=e.isAminoMsgVote=e.isAminoMsgSubmitProposal=e.isAminoMsgDeposit=e.createGovAminoConverters=e.setupFeegrantExtension=e.feegrantTypes=e.createFeegrantAminoConverters=e.isAminoMsgSubmitEvidence=e.createEvidenceAminoConverters=e.setupDistributionExtension=e.isMsgWithdrawDelegatorRewardEncodeObject=e.distributionTypes=e.isAminoMsgWithdrawValidatorCommission=e.isAminoMsgWithdrawDelegatorReward=e.isAminoMsgSetWithdrawAddress=e.isAminoMsgFundCommunityPool=e.createDistributionAminoConverters=e.isAminoMsgVerifyInvariant=e.createCrysisAminoConverters=e.setupBankExtension=e.isMsgSendEncodeObject=e.bankTypes=e.isAminoMsgSend=e.isAminoMsgMultiSend=e.createBankAminoConverters=e.setupAuthzExtension=e.authzTypes=e.createAuthzAminoConverters=e.setupAuthExtension=void 0,e.vestingTypes=e.isAminoMsgCreateVestingAccount=e.createVestingAminoConverters=e.setupTxExtension=e.setupStakingExtension=e.stakingTypes=e.isMsgUndelegateEncodeObject=e.isMsgEditValidatorEncodeObject=e.isMsgDelegateEncodeObject=e.isMsgCreateValidatorEncodeObject=e.isMsgBeginRedelegateEncodeObject=e.isAminoMsgUndelegate=e.isAminoMsgEditValidator=e.isAminoMsgDelegate=void 0;var t=Xr;Object.defineProperty(e,"setupAuthExtension",{enumerable:!0,get:function(){return t.setupAuthExtension}});var n=so;Object.defineProperty(e,"createAuthzAminoConverters",{enumerable:!0,get:function(){return n.createAuthzAminoConverters}});var r=io;Object.defineProperty(e,"authzTypes",{enumerable:!0,get:function(){return r.authzTypes}});var o=ao;Object.defineProperty(e,"setupAuthzExtension",{enumerable:!0,get:function(){return o.setupAuthzExtension}});var s=ht;Object.defineProperty(e,"createBankAminoConverters",{enumerable:!0,get:function(){return s.createBankAminoConverters}}),Object.defineProperty(e,"isAminoMsgMultiSend",{enumerable:!0,get:function(){return s.isAminoMsgMultiSend}}),Object.defineProperty(e,"isAminoMsgSend",{enumerable:!0,get:function(){return s.isAminoMsgSend}});var i=en;Object.defineProperty(e,"bankTypes",{enumerable:!0,get:function(){return i.bankTypes}}),Object.defineProperty(e,"isMsgSendEncodeObject",{enumerable:!0,get:function(){return i.isMsgSendEncodeObject}});var c=co;Object.defineProperty(e,"setupBankExtension",{enumerable:!0,get:function(){return c.setupBankExtension}});var a=tn;Object.defineProperty(e,"createCrysisAminoConverters",{enumerable:!0,get:function(){return a.createCrysisAminoConverters}}),Object.defineProperty(e,"isAminoMsgVerifyInvariant",{enumerable:!0,get:function(){return a.isAminoMsgVerifyInvariant}});var l=Oe;Object.defineProperty(e,"createDistributionAminoConverters",{enumerable:!0,get:function(){return l.createDistributionAminoConverters}}),Object.defineProperty(e,"isAminoMsgFundCommunityPool",{enumerable:!0,get:function(){return l.isAminoMsgFundCommunityPool}}),Object.defineProperty(e,"isAminoMsgSetWithdrawAddress",{enumerable:!0,get:function(){return l.isAminoMsgSetWithdrawAddress}}),Object.defineProperty(e,"isAminoMsgWithdrawDelegatorReward",{enumerable:!0,get:function(){return l.isAminoMsgWithdrawDelegatorReward}}),Object.defineProperty(e,"isAminoMsgWithdrawValidatorCommission",{enumerable:!0,get:function(){return l.isAminoMsgWithdrawValidatorCommission}});var d=nn;Object.defineProperty(e,"distributionTypes",{enumerable:!0,get:function(){return d.distributionTypes}}),Object.defineProperty(e,"isMsgWithdrawDelegatorRewardEncodeObject",{enumerable:!0,get:function(){return d.isMsgWithdrawDelegatorRewardEncodeObject}});var g=uo;Object.defineProperty(e,"setupDistributionExtension",{enumerable:!0,get:function(){return g.setupDistributionExtension}});var j=rn;Object.defineProperty(e,"createEvidenceAminoConverters",{enumerable:!0,get:function(){return j.createEvidenceAminoConverters}}),Object.defineProperty(e,"isAminoMsgSubmitEvidence",{enumerable:!0,get:function(){return j.isAminoMsgSubmitEvidence}});var k=lo;Object.defineProperty(e,"createFeegrantAminoConverters",{enumerable:!0,get:function(){return k.createFeegrantAminoConverters}});var G=mo;Object.defineProperty(e,"feegrantTypes",{enumerable:!0,get:function(){return G.feegrantTypes}});var y=fo;Object.defineProperty(e,"setupFeegrantExtension",{enumerable:!0,get:function(){return y.setupFeegrantExtension}});var p=Be;Object.defineProperty(e,"createGovAminoConverters",{enumerable:!0,get:function(){return p.createGovAminoConverters}}),Object.defineProperty(e,"isAminoMsgDeposit",{enumerable:!0,get:function(){return p.isAminoMsgDeposit}}),Object.defineProperty(e,"isAminoMsgSubmitProposal",{enumerable:!0,get:function(){return p.isAminoMsgSubmitProposal}}),Object.defineProperty(e,"isAminoMsgVote",{enumerable:!0,get:function(){return p.isAminoMsgVote}}),Object.defineProperty(e,"isAminoMsgVoteWeighted",{enumerable:!0,get:function(){return p.isAminoMsgVoteWeighted}});var v=Re;Object.defineProperty(e,"govTypes",{enumerable:!0,get:function(){return v.govTypes}}),Object.defineProperty(e,"isMsgDepositEncodeObject",{enumerable:!0,get:function(){return v.isMsgDepositEncodeObject}}),Object.defineProperty(e,"isMsgSubmitProposalEncodeObject",{enumerable:!0,get:function(){return v.isMsgSubmitProposalEncodeObject}}),Object.defineProperty(e,"isMsgVoteEncodeObject",{enumerable:!0,get:function(){return v.isMsgVoteEncodeObject}}),Object.defineProperty(e,"isMsgVoteWeightedEncodeObject",{enumerable:!0,get:function(){return v.isMsgVoteWeightedEncodeObject}});var q=ho;Object.defineProperty(e,"setupGovExtension",{enumerable:!0,get:function(){return q.setupGovExtension}});var D=po;Object.defineProperty(e,"createGroupAminoConverters",{enumerable:!0,get:function(){return D.createGroupAminoConverters}});var ce=go;Object.defineProperty(e,"groupTypes",{enumerable:!0,get:function(){return ce.groupTypes}});var b=on;Object.defineProperty(e,"createIbcAminoConverters",{enumerable:!0,get:function(){return b.createIbcAminoConverters}}),Object.defineProperty(e,"isAminoMsgTransfer",{enumerable:!0,get:function(){return b.isAminoMsgTransfer}});var _=sn;Object.defineProperty(e,"ibcTypes",{enumerable:!0,get:function(){return _.ibcTypes}}),Object.defineProperty(e,"isMsgTransferEncodeObject",{enumerable:!0,get:function(){return _.isMsgTransferEncodeObject}});var w=yo;Object.defineProperty(e,"setupIbcExtension",{enumerable:!0,get:function(){return w.setupIbcExtension}});var U=bo;Object.defineProperty(e,"setupMintExtension",{enumerable:!0,get:function(){return U.setupMintExtension}});var H=an;Object.defineProperty(e,"createSlashingAminoConverters",{enumerable:!0,get:function(){return H.createSlashingAminoConverters}}),Object.defineProperty(e,"isAminoMsgUnjail",{enumerable:!0,get:function(){return H.isAminoMsgUnjail}});var V=vo;Object.defineProperty(e,"setupSlashingExtension",{enumerable:!0,get:function(){return V.setupSlashingExtension}});var F=oe;Object.defineProperty(e,"createStakingAminoConverters",{enumerable:!0,get:function(){return F.createStakingAminoConverters}}),Object.defineProperty(e,"isAminoMsgBeginRedelegate",{enumerable:!0,get:function(){return F.isAminoMsgBeginRedelegate}}),Object.defineProperty(e,"isAminoMsgCreateValidator",{enumerable:!0,get:function(){return F.isAminoMsgCreateValidator}}),Object.defineProperty(e,"isAminoMsgDelegate",{enumerable:!0,get:function(){return F.isAminoMsgDelegate}}),Object.defineProperty(e,"isAminoMsgEditValidator",{enumerable:!0,get:function(){return F.isAminoMsgEditValidator}}),Object.defineProperty(e,"isAminoMsgUndelegate",{enumerable:!0,get:function(){return F.isAminoMsgUndelegate}});var z=ye;Object.defineProperty(e,"isMsgBeginRedelegateEncodeObject",{enumerable:!0,get:function(){return z.isMsgBeginRedelegateEncodeObject}}),Object.defineProperty(e,"isMsgCreateValidatorEncodeObject",{enumerable:!0,get:function(){return z.isMsgCreateValidatorEncodeObject}}),Object.defineProperty(e,"isMsgDelegateEncodeObject",{enumerable:!0,get:function(){return z.isMsgDelegateEncodeObject}}),Object.defineProperty(e,"isMsgEditValidatorEncodeObject",{enumerable:!0,get:function(){return z.isMsgEditValidatorEncodeObject}}),Object.defineProperty(e,"isMsgUndelegateEncodeObject",{enumerable:!0,get:function(){return z.isMsgUndelegateEncodeObject}}),Object.defineProperty(e,"stakingTypes",{enumerable:!0,get:function(){return z.stakingTypes}});var Z=wo;Object.defineProperty(e,"setupStakingExtension",{enumerable:!0,get:function(){return Z.setupStakingExtension}});var Se=ko;Object.defineProperty(e,"setupTxExtension",{enumerable:!0,get:function(){return Se.setupTxExtension}});var it=cn;Object.defineProperty(e,"createVestingAminoConverters",{enumerable:!0,get:function(){return it.createVestingAminoConverters}}),Object.defineProperty(e,"isAminoMsgCreateVestingAccount",{enumerable:!0,get:function(){return it.isAminoMsgCreateVestingAccount}});var vn=_o;Object.defineProperty(e,"vestingTypes",{enumerable:!0,get:function(){return vn.vestingTypes}})})(Hn);var pt={};Object.defineProperty(pt,"__esModule",{value:!0});pt.makeMultisignedTxBytes=pt.makeMultisignedTx=pt.makeCompactBitArray=void 0;const _f=ot,Sf=x,Pf=vt,Ss=u.multisig,Af=u.signing,Di=u.tx,Da=u.tx;function Ua(e){const t=Math.ceil(e.length/8),n=e.length-Math.floor(e.length/8)*8,r=new Uint8Array(t);return e.forEach((o,s)=>{const i=Math.floor(s/8),c=s%8;o&&(r[i]|=1<<7-c)}),Ss.CompactBitArray.fromPartial({elems:r,extraBitsStored:n})}pt.makeCompactBitArray=Ua;function qa(e,t,n,r,o){const s=Array.from(o.keys()),i=(0,Sf.fromBech32)(s[0]).prefix,c=Array(e.value.pubkeys.length).fill(!1),a=new Array;for(let k=0;k<e.value.pubkeys.length;k++){const G=(0,_f.pubkeyToAddress)(e.value.pubkeys[k],i),y=o.get(G);y&&(c[k]=!0,a.push(y))}const l={publicKey:(0,Pf.encodePubkey)(e),modeInfo:{multi:{bitarray:Ua(c),modeInfos:a.map(k=>({single:{mode:Af.SignMode.SIGN_MODE_LEGACY_AMINO_JSON}}))}},sequence:BigInt(t)},d=Di.AuthInfo.fromPartial({signerInfos:[l],fee:{amount:[...n.amount],gasLimit:BigInt(n.gas)}}),g=Di.AuthInfo.encode(d).finish();return Da.TxRaw.fromPartial({bodyBytes:r,authInfoBytes:g,signatures:[Ss.MultiSignature.encode(Ss.MultiSignature.fromPartial({signatures:a})).finish()]})}pt.makeMultisignedTx=qa;function Tf(e,t,n,r,o){const s=qa(e,t,n,r,o);return Uint8Array.from(Da.TxRaw.encode(s).finish())}pt.makeMultisignedTxBytes=Tf;var Xn={};Object.defineProperty(Xn,"__esModule",{value:!0});Xn.isSearchTxQueryArray=void 0;function Ef(e){return Array.isArray(e)}Xn.isSearchTxQueryArray=Ef;var Ha={},Ws={},Ze={};Object.defineProperty(Ze,"__esModule",{value:!0});Ze.pubkeyToAddress=Ze.pubkeyToRawAddress=Ze.rawSecp256k1PubkeyToRawAddress=Ze.rawEd25519PubkeyToRawAddress=void 0;const Ps=_e,Cf=x;function Va(e){if(e.length!==32)throw new Error(`Invalid Ed25519 pubkey length: ${e.length}`);return(0,Ps.sha256)(e).slice(0,20)}Ze.rawEd25519PubkeyToRawAddress=Va;function Ga(e){if(e.length!==33)throw new Error(`Invalid Secp256k1 pubkey length (compressed): ${e.length}`);return(0,Ps.ripemd160)((0,Ps.sha256)(e))}Ze.rawSecp256k1PubkeyToRawAddress=Ga;function Fa(e,t){switch(e){case"ed25519":return Va(t);case"secp256k1":return Ga(t);default:throw new Error(`Pubkey type ${e} not supported`)}}Ze.pubkeyToRawAddress=Fa;function jf(e,t){return(0,Cf.toHex)(Fa(e,t)).toUpperCase()}Ze.pubkeyToAddress=jf;var ie={};Object.defineProperty(ie,"__esModule",{value:!0});ie.DateTime=ie.toSeconds=ie.fromSeconds=ie.toRfc3339WithNanoseconds=ie.fromRfc3339WithNanoseconds=void 0;const Mf=x,Of=ee;function Wa(e){const t=(0,Mf.fromRfc3339)(e),n=e.match(/\.(\d+)Z$/),r=n?n[1].slice(3):"";return t.nanoseconds=parseInt(r.padEnd(6,"0"),10),t}ie.fromRfc3339WithNanoseconds=Wa;function Ja(e){var r;const t=e.toISOString(),n=((r=e.nanoseconds)==null?void 0:r.toString())??"";return`${t.slice(0,-1)}${n.padStart(6,"0")}Z`}ie.toRfc3339WithNanoseconds=Ja;function Bf(e,t=0){const n=new Of.Uint32(t).toNumber();if(n>999999999)throw new Error("Nano seconds must not exceed 999999999");const r=new Date(e*1e3+Math.floor(n/1e6));return r.nanoseconds=n%1e6,r}ie.fromSeconds=Bf;function Rf(e){return{seconds:Math.floor(e.getTime()/1e3),nanos:e.getTime()%1e3*1e6+(e.nanoseconds??0)}}ie.toSeconds=Rf;class If{static decode(t){return Wa(t)}static encode(t){return Ja(t)}}ie.DateTime=If;var Br={},So={},st={};Object.defineProperty(st,"__esModule",{value:!0});st.createJsonRpcRequest=void 0;const Ui="123456789";function $f(){return Ui[Math.floor(Math.random()*Ui.length)]}function Nf(){return parseInt(Array.from({length:12}).map(()=>$f()).join(""),10)}function xf(e,t){const n=t?{...t}:{};return{jsonrpc:"2.0",id:Nf(),method:e,params:n}}st.createJsonRpcRequest=xf;var Yn={},Po={},Ao={},To={};Object.defineProperty(To,"__esModule",{value:!0});To.makeJsonRpcId=void 0;let Df=1e4;function Uf(){return Df+=1}To.makeJsonRpcId=Uf;var Eo={},nt={};Object.defineProperty(nt,"__esModule",{value:!0});nt.jsonRpcCode=nt.isJsonRpcSuccessResponse=nt.isJsonRpcErrorResponse=void 0;function La(e){return typeof e.error=="object"}nt.isJsonRpcErrorResponse=La;function qf(e){return!La(e)}nt.isJsonRpcSuccessResponse=qf;nt.jsonRpcCode={parseError:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internalError:-32603,serverError:{default:-32e3}};Object.defineProperty(Eo,"__esModule",{value:!0});Eo.JsonRpcClient=void 0;const Hf=Zn,Vf=nt;class Gf{constructor(t){this.connection=t}async run(t){const n=this.connection.responseStream.filter(s=>s.id===t.id),r=(0,Hf.firstEvent)(n);this.connection.sendRequest(t);const o=await r;if((0,Vf.isJsonRpcErrorResponse)(o)){const s=o.error;throw new Error(`JSON RPC error: code=${s.code}; message='${s.message}'`)}return o}}Eo.JsonRpcClient=Gf;var Ie={},gt={};Object.defineProperty(gt,"__esModule",{value:!0});gt.isJsonCompatibleDictionary=gt.isJsonCompatibleArray=gt.isJsonCompatibleValue=void 0;function Js(e){return!!(typeof e=="string"||typeof e=="number"||typeof e=="boolean"||e===null||za(e)||Ka(e))}gt.isJsonCompatibleValue=Js;function za(e){if(!Array.isArray(e))return!1;for(const t of e)if(!Js(t))return!1;return!0}gt.isJsonCompatibleArray=za;function Ka(e){return typeof e!="object"||e===null||Object.prototype.toString.call(e)!=="[object Object]"?!1:Object.values(e).every(Js)}gt.isJsonCompatibleDictionary=Ka;Object.defineProperty(Ie,"__esModule",{value:!0});Ie.parseJsonRpcResponse=Ie.parseJsonRpcSuccessResponse=Ie.parseJsonRpcErrorResponse=Ie.parseJsonRpcRequest=Ie.parseJsonRpcId=void 0;const yt=gt;function Qa(e){if(!(0,yt.isJsonCompatibleDictionary)(e))throw new Error("Data must be JSON compatible dictionary");const t=e.id;return typeof t!="number"&&typeof t!="string"?null:t}Ie.parseJsonRpcId=Qa;function Ff(e){if(!(0,yt.isJsonCompatibleDictionary)(e))throw new Error("Data must be JSON compatible dictionary");if(e.jsonrpc!=="2.0")throw new Error(`Got unexpected jsonrpc version: ${e.jsonrpc}`);const t=Qa(e);if(t===null)throw new Error("Invalid id field");const n=e.method;if(typeof n!="string")throw new Error("Invalid method field");if(!(0,yt.isJsonCompatibleArray)(e.params)&&!(0,yt.isJsonCompatibleDictionary)(e.params))throw new Error("Invalid params field");return{jsonrpc:"2.0",id:t,method:n,params:e.params}}Ie.parseJsonRpcRequest=Ff;function Wf(e){if(typeof e.code!="number")throw new Error("Error property 'code' is not a number");if(typeof e.message!="string")throw new Error("Error property 'message' is not a string");let t;if(e.data===void 0)t=void 0;else if((0,yt.isJsonCompatibleValue)(e.data))t=e.data;else throw new Error("Error property 'data' is defined but not a JSON compatible value.");return{code:e.code,message:e.message,...t!==void 0?{data:t}:{}}}function Za(e){if(!(0,yt.isJsonCompatibleDictionary)(e))throw new Error("Data must be JSON compatible dictionary");if(e.jsonrpc!=="2.0")throw new Error(`Got unexpected jsonrpc version: ${JSON.stringify(e)}`);const t=e.id;if(typeof t!="number"&&typeof t!="string"&&t!==null)throw new Error("Invalid id field");if(typeof e.error>"u"||!(0,yt.isJsonCompatibleDictionary)(e.error))throw new Error("Invalid error field");return{jsonrpc:"2.0",id:t,error:Wf(e.error)}}Ie.parseJsonRpcErrorResponse=Za;function Xa(e){if(!(0,yt.isJsonCompatibleDictionary)(e))throw new Error("Data must be JSON compatible dictionary");if(e.jsonrpc!=="2.0")throw new Error(`Got unexpected jsonrpc version: ${JSON.stringify(e)}`);const t=e.id;if(typeof t!="number"&&typeof t!="string")throw new Error("Invalid id field");if(typeof e.result>"u")throw new Error("Invalid result field");const n=e.result;return{jsonrpc:"2.0",id:t,result:n}}Ie.parseJsonRpcSuccessResponse=Xa;function Jf(e){let t;try{t=Za(e)}catch{t=Xa(e)}return t}Ie.parseJsonRpcResponse=Jf;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.jsonRpcCode=e.isJsonRpcSuccessResponse=e.isJsonRpcErrorResponse=e.parseJsonRpcSuccessResponse=e.parseJsonRpcResponse=e.parseJsonRpcRequest=e.parseJsonRpcId=e.parseJsonRpcErrorResponse=e.JsonRpcClient=e.makeJsonRpcId=void 0;var t=To;Object.defineProperty(e,"makeJsonRpcId",{enumerable:!0,get:function(){return t.makeJsonRpcId}});var n=Eo;Object.defineProperty(e,"JsonRpcClient",{enumerable:!0,get:function(){return n.JsonRpcClient}});var r=Ie;Object.defineProperty(e,"parseJsonRpcErrorResponse",{enumerable:!0,get:function(){return r.parseJsonRpcErrorResponse}}),Object.defineProperty(e,"parseJsonRpcId",{enumerable:!0,get:function(){return r.parseJsonRpcId}}),Object.defineProperty(e,"parseJsonRpcRequest",{enumerable:!0,get:function(){return r.parseJsonRpcRequest}}),Object.defineProperty(e,"parseJsonRpcResponse",{enumerable:!0,get:function(){return r.parseJsonRpcResponse}}),Object.defineProperty(e,"parseJsonRpcSuccessResponse",{enumerable:!0,get:function(){return r.parseJsonRpcSuccessResponse}});var o=nt;Object.defineProperty(e,"isJsonRpcErrorResponse",{enumerable:!0,get:function(){return o.isJsonRpcErrorResponse}}),Object.defineProperty(e,"isJsonRpcSuccessResponse",{enumerable:!0,get:function(){return o.isJsonRpcSuccessResponse}}),Object.defineProperty(e,"jsonRpcCode",{enumerable:!0,get:function(){return o.jsonRpcCode}})})(Ao);var er={},Lf=u.commonjsGlobal&&u.commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(er,"__esModule",{value:!0});er.http=void 0;const zf=Lf(u.require$$0$3);function Kf(e){if(e.status>=400)throw new Error(`Bad status on response: ${e.status}`);return e}function Qf(e){return e.toString().includes("emitExperimentalWarning")}async function Zf(e,t,n,r){if(typeof fetch=="function"&&!Qf(fetch)){const o={method:e,body:r?JSON.stringify(r):void 0,headers:{"Content-Type":"application/json",...n}};return fetch(t,o).then(Kf).then(s=>s.json())}else return zf.default.request({url:t,method:e,data:r,headers:n}).then(o=>o.data)}er.http=Zf;var rt={};Object.defineProperty(rt,"__esModule",{value:!0});rt.hasProtocol=rt.instanceOfRpcStreamingClient=void 0;function Xf(e){return typeof e.listen=="function"}rt.instanceOfRpcStreamingClient=Xf;function Yf(e){return e.search("://")!==-1}rt.hasProtocol=Yf;Object.defineProperty(Po,"__esModule",{value:!0});Po.HttpBatchClient=void 0;const qi=Ao,eh=er,th=rt,Hi={dispatchInterval:20,batchSizeLimit:20};class nh{constructor(t,n={}){if(this.queue=[],this.options={batchSizeLimit:n.batchSizeLimit??Hi.batchSizeLimit,dispatchInterval:n.dispatchInterval??Hi.dispatchInterval},typeof t=="string"){if(!(0,th.hasProtocol)(t))throw new Error("Endpoint URL is missing a protocol. Expected 'https://' or 'http://'.");this.url=t}else this.url=t.url,this.headers=t.headers;this.timer=setInterval(()=>this.tick(),n.dispatchInterval),this.validate()}disconnect(){this.timer&&clearInterval(this.timer),this.timer=void 0}async execute(t){return new Promise((n,r)=>{this.queue.push({request:t,resolve:n,reject:r}),this.queue.length>=this.options.batchSizeLimit&&this.tick()})}validate(){if(!this.options.batchSizeLimit||!Number.isSafeInteger(this.options.batchSizeLimit)||this.options.batchSizeLimit<1)throw new Error("batchSizeLimit must be a safe integer >= 1")}tick(){const t=this.queue.splice(0,this.options.batchSizeLimit);if(!t.length)return;const n=t.map(o=>o.request),r=n.map(o=>o.id);(0,eh.http)("POST",this.url,this.headers,n).then(o=>{(Array.isArray(o)?o:[o]).forEach(i=>{const c=t.find(g=>g.request.id===i.id);if(!c)return;const{reject:a,resolve:l}=c,d=(0,qi.parseJsonRpcResponse)(i);(0,qi.isJsonRpcErrorResponse)(d)?a(new Error(JSON.stringify(d.error))):l(d)})},o=>{for(const s of r){const i=t.find(c=>c.request.id===s);if(!i)return;i.reject(o)}})}}Po.HttpBatchClient=nh;var Co={};Object.defineProperty(Co,"__esModule",{value:!0});Co.HttpClient=void 0;const Vi=Ao,rh=er,oh=rt;class sh{constructor(t){if(typeof t=="string"){if(!(0,oh.hasProtocol)(t))throw new Error("Endpoint URL is missing a protocol. Expected 'https://' or 'http://'.");this.url=t}else this.url=t.url,this.headers=t.headers}disconnect(){}async execute(t){const n=(0,Vi.parseJsonRpcResponse)(await(0,rh.http)("POST",this.url,this.headers,t));if((0,Vi.isJsonRpcErrorResponse)(n))throw new Error(JSON.stringify(n.error));return n}}Co.HttpClient=sh;var jo={},Ya={},Ls={},tr={},nr={},ih=u.commonjsGlobal&&u.commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(nr,"__esModule",{value:!0});nr.SocketWrapper=void 0;const Nt=ih(u.browser);function ah(){return typeof u.dist.process<"u"&&typeof u.dist.process.versions<"u"&&typeof u.dist.process.versions.node<"u"}class ch{constructor(t,n,r,o,s,i=1e4){this.closed=!1,this.connected=new Promise((c,a)=>{this.connectedResolver=c,this.connectedRejecter=a}),this.url=t,this.messageHandler=n,this.errorHandler=r,this.openHandler=o,this.closeHandler=s,this.timeout=i}connect(){const t=new Nt.default(this.url);t.onerror=r=>{this.clearTimeout(),this.errorHandler&&this.errorHandler(r)},t.onmessage=r=>{this.messageHandler({type:r.type,data:r.data})},t.onopen=r=>{this.clearTimeout(),this.connectedResolver(),this.openHandler&&this.openHandler()},t.onclose=r=>{this.closed=!0,this.closeHandler&&this.closeHandler(r)};const n=Date.now();this.timeoutId=setTimeout(()=>{t.onmessage=()=>0,t.onerror=()=>0,t.onopen=()=>0,t.onclose=()=>0,t.close(),this.socket=void 0;const r=Math.floor(Date.now()-n);this.connectedRejecter(`Connection attempt timed out after ${r} ms`)},this.timeout),this.socket=t}disconnect(){if(!this.socket)throw new Error("Socket undefined. This must be called after connecting.");switch(this.clearTimeout(),this.socket.readyState){case Nt.default.OPEN:this.socket.close(1e3);break;case Nt.default.CLOSED:break;case Nt.default.CONNECTING:this.socket.onopen=()=>0,this.socket.onclose=()=>0,this.socket.onerror=()=>0,this.socket.onmessage=()=>0,this.socket=void 0,this.closeHandler&&this.closeHandler({wasClean:!1,code:4001});break;case Nt.default.CLOSING:break;default:throw new Error(`Unknown readyState: ${this.socket.readyState}`)}}async send(t){return new Promise((n,r)=>{if(!this.socket)throw new Error("Socket undefined. This must be called after connecting.");if(this.closed)throw new Error("Socket was closed, so no data can be sent anymore.");if(this.socket.readyState!==Nt.default.OPEN)throw new Error("Websocket is not open");ah()?this.socket.send(t,o=>o?r(o):n()):(this.socket.send(t),n())})}clearTimeout(){if(!this.timeoutId)throw new Error("Timeout ID not set. This should not happen and usually means connect() was not called.");clearTimeout(this.timeoutId)}}nr.SocketWrapper=ch;Object.defineProperty(tr,"__esModule",{value:!0});tr.StreamingSocket=void 0;const uh=u.xstream,lh=nr;class dh{constructor(t,n=1e4){this.socket=new lh.SocketWrapper(t,o=>{this.eventProducerListener&&this.eventProducerListener.next(o)},o=>{this.eventProducerListener&&this.eventProducerListener.error(o)},()=>{},o=>{this.eventProducerListener&&(o.wasClean?this.eventProducerListener.complete():this.eventProducerListener.error("Socket was closed unclean"))},n),this.connected=this.socket.connected;const r={start:o=>this.eventProducerListener=o,stop:()=>this.eventProducerListener=void 0};this.events=uh.Stream.create(r)}connect(){this.socket.connect()}disconnect(){this.socket.disconnect()}async send(t){return this.socket.send(t)}}tr.StreamingSocket=dh;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.QueueingStreamingSocket=e.ConnectionStatus=void 0;const t=Zn,n=u.xstream,r=tr;var o;(function(i){i[i.Unconnected=0]="Unconnected",i[i.Connecting=1]="Connecting",i[i.Connected=2]="Connected",i[i.Disconnected=3]="Disconnected"})(o=e.ConnectionStatus||(e.ConnectionStatus={}));class s{constructor(c,a=1e4,l){this.queue=[],this.isProcessingQueue=!1,this.url=c,this.timeout=a,this.reconnectedHandler=l;const d={start:g=>this.eventProducerListener=g,stop:()=>this.eventProducerListener=void 0};this.events=n.Stream.create(d),this.connectionStatusProducer=new t.DefaultValueProducer(o.Unconnected),this.connectionStatus=new t.ValueAndUpdates(this.connectionStatusProducer),this.socket=new r.StreamingSocket(this.url,this.timeout),this.socket.events.subscribe({next:g=>{if(!this.eventProducerListener)throw new Error("No event producer listener set");this.eventProducerListener.next(g)},error:()=>this.connectionStatusProducer.update(o.Disconnected)})}connect(){this.connectionStatusProducer.update(o.Connecting),this.socket.connected.then(async()=>(this.connectionStatusProducer.update(o.Connected),this.processQueue()),()=>this.connectionStatusProducer.update(o.Disconnected)),this.socket.connect()}disconnect(){this.connectionStatusProducer.update(o.Disconnected),this.socket.disconnect()}reconnect(){this.socket=new r.StreamingSocket(this.url,this.timeout),this.socket.events.subscribe({next:c=>{if(!this.eventProducerListener)throw new Error("No event producer listener set");this.eventProducerListener.next(c)},error:()=>this.connectionStatusProducer.update(o.Disconnected)}),this.socket.connected.then(()=>{this.reconnectedHandler&&this.reconnectedHandler()}),this.connect()}getQueueLength(){return this.queue.length}queueRequest(c){this.queue.push(c),this.processQueue()}async processQueue(){if(this.isProcessingQueue||this.connectionStatus.value!==o.Connected)return;this.isProcessingQueue=!0;let c;for(;c=this.queue.shift();)try{await this.socket.send(c),this.isProcessingQueue=!1}catch{this.queue.unshift(c),this.isProcessingQueue=!1;return}}}e.QueueingStreamingSocket=s})(Ls);var Mo={};Object.defineProperty(Mo,"__esModule",{value:!0});Mo.ReconnectingSocket=void 0;const mh=u.xstream,ss=Ls;class zs{static calculateTimeout(t){return Math.min(2**t*100,5e3)}constructor(t,n=1e4,r){this.unconnected=!0,this.disconnected=!1,this.timeoutIndex=0,this.reconnectTimeout=null;const o={start:s=>this.eventProducerListener=s,stop:()=>this.eventProducerListener=void 0};this.events=mh.Stream.create(o),this.socket=new ss.QueueingStreamingSocket(t,n,r),this.socket.events.subscribe({next:s=>{this.eventProducerListener&&this.eventProducerListener.next(s)},error:s=>{this.eventProducerListener&&this.eventProducerListener.error(s)}}),this.connectionStatus=this.socket.connectionStatus,this.connectionStatus.updates.subscribe({next:s=>{s===ss.ConnectionStatus.Connected&&(this.timeoutIndex=0),s===ss.ConnectionStatus.Disconnected&&(this.reconnectTimeout&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null),this.reconnectTimeout=setTimeout(()=>this.socket.reconnect(),zs.calculateTimeout(this.timeoutIndex++)))}})}connect(){if(!this.unconnected)throw new Error("Cannot connect: socket has already connected");this.socket.connect(),this.unconnected=!1}disconnect(){if(this.unconnected)throw new Error("Cannot disconnect: socket has not yet connected");this.socket.disconnect(),this.eventProducerListener&&this.eventProducerListener.complete(),this.disconnected=!0}queueRequest(t){if(this.disconnected)throw new Error("Cannot queue request: socket has disconnected");this.socket.queueRequest(t)}}Mo.ReconnectingSocket=zs;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.StreamingSocket=e.SocketWrapper=e.ReconnectingSocket=e.QueueingStreamingSocket=e.ConnectionStatus=void 0;var t=Ls;Object.defineProperty(e,"ConnectionStatus",{enumerable:!0,get:function(){return t.ConnectionStatus}}),Object.defineProperty(e,"QueueingStreamingSocket",{enumerable:!0,get:function(){return t.QueueingStreamingSocket}});var n=Mo;Object.defineProperty(e,"ReconnectingSocket",{enumerable:!0,get:function(){return n.ReconnectingSocket}});var r=nr;Object.defineProperty(e,"SocketWrapper",{enumerable:!0,get:function(){return r.SocketWrapper}});var o=tr;Object.defineProperty(e,"StreamingSocket",{enumerable:!0,get:function(){return o.StreamingSocket}})})(Ya);Object.defineProperty(jo,"__esModule",{value:!0});jo.WebsocketClient=void 0;const Rr=Ao,Gi=Ya,fh=Zn,hh=u.xstream,ph=rt;function gh(e){throw e}function ec(e){if(e.type!=="message")throw new Error(`Unexcepted message type on websocket: ${e.type}`);return(0,Rr.parseJsonRpcResponse)(JSON.parse(e.data))}class yh{constructor(t,n){this.running=!1,this.subscriptions=[],this.request=t,this.socket=n}start(t){if(this.running)throw Error("Already started. Please stop first before restarting.");this.running=!0,this.connectToClient(t),this.socket.queueRequest(JSON.stringify(this.request))}stop(){this.running=!1;const t={...this.request,method:"unsubscribe"};try{this.socket.queueRequest(JSON.stringify(t))}catch(n){if(!(n instanceof Error&&n.message.match(/socket has disconnected/i)))throw n}}connectToClient(t){const n=this.socket.events.map(ec),r=n.filter(i=>i.id===this.request.id).subscribe({next:i=>{(0,Rr.isJsonRpcErrorResponse)(i)&&(this.closeSubscriptions(),t.error(JSON.stringify(i.error))),r.unsubscribe()}}),o=n.filter(i=>i.id===this.request.id).subscribe({next:i=>{(0,Rr.isJsonRpcErrorResponse)(i)?(this.closeSubscriptions(),t.error(JSON.stringify(i.error))):t.next(i.result)}}),s=n.subscribe({error:i=>{this.closeSubscriptions(),t.error(i)},complete:()=>{this.closeSubscriptions(),t.complete()}});this.subscriptions.push(r,o,s)}closeSubscriptions(){for(const t of this.subscriptions)t.unsubscribe();this.subscriptions=[]}}class bh{constructor(t,n=gh){if(this.subscriptionStreams=new Map,!(0,ph.hasProtocol)(t))throw new Error("Base URL is missing a protocol. Expected 'ws://' or 'wss://'.");const r=t.endsWith("/")?"websocket":"/websocket";this.url=t+r,this.socket=new Gi.ReconnectingSocket(this.url);const o=this.socket.events.subscribe({error:s=>{n(s),o.unsubscribe()}});this.jsonRpcResponseStream=this.socket.events.map(ec),this.socket.connect()}async execute(t){const n=this.responseForRequestId(t.id);this.socket.queueRequest(JSON.stringify(t));const r=await n;if((0,Rr.isJsonRpcErrorResponse)(r))throw new Error(JSON.stringify(r.error));return r}listen(t){if(t.method!=="subscribe")throw new Error('Request method must be "subscribe" to start event listening');const n=t.params.query;if(typeof n!="string")throw new Error("request.params.query must be a string");if(!this.subscriptionStreams.has(n)){const r=new yh(t,this.socket),o=hh.Stream.create(r);this.subscriptionStreams.set(n,o)}return this.subscriptionStreams.get(n).filter(r=>r.query!==void 0)}async connected(){await this.socket.connectionStatus.waitFor(Gi.ConnectionStatus.Connected)}disconnect(){this.socket.disconnect()}async responseForRequestId(t){return(0,fh.firstEvent)(this.jsonRpcResponseStream.filter(n=>n.id===t))}}jo.WebsocketClient=bh;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WebsocketClient=e.instanceOfRpcStreamingClient=e.HttpClient=e.HttpBatchClient=void 0;var t=Po;Object.defineProperty(e,"HttpBatchClient",{enumerable:!0,get:function(){return t.HttpBatchClient}});var n=Co;Object.defineProperty(e,"HttpClient",{enumerable:!0,get:function(){return n.HttpClient}});var r=rt;Object.defineProperty(e,"instanceOfRpcStreamingClient",{enumerable:!0,get:function(){return r.instanceOfRpcStreamingClient}});var o=jo;Object.defineProperty(e,"WebsocketClient",{enumerable:!0,get:function(){return o.WebsocketClient}})})(Yn);var tc={},Oo={},Te={},R={};Object.defineProperty(R,"__esModule",{value:!0});R.encodeBlockId=R.encodeVersion=R.encodeBytes=R.encodeTime=R.encodeUvarint=R.encodeString=R.dictionaryToStringMap=R.may=R.assertNotEmpty=R.assertObject=R.assertArray=R.assertNumber=R.assertString=R.assertBoolean=R.assertSet=void 0;const vh=x;function Ot(e){if(e===void 0)throw new Error("Value must not be undefined");if(e===null)throw new Error("Value must not be null");return e}R.assertSet=Ot;function wh(e){if(Ot(e),typeof e!="boolean")throw new Error("Value must be a boolean");return e}R.assertBoolean=wh;function kh(e){if(Ot(e),typeof e!="string")throw new Error("Value must be a string");return e}R.assertString=kh;function _h(e){if(Ot(e),typeof e!="number")throw new Error("Value must be a number");return e}R.assertNumber=_h;function Sh(e){if(Ot(e),!Array.isArray(e))throw new Error("Value must be a an array");return e}R.assertArray=Sh;function Ph(e){if(Ot(e),typeof e!="object")throw new Error("Value must be an object");if(Object.prototype.toString.call(e)!=="[object Object]")throw new Error("Value must be a simple object");return e}R.assertObject=Ph;function Ah(e){if(Ot(e),typeof e=="number"&&e===0)throw new Error("must provide a non-zero value");if(e.length===0)throw new Error("must provide a non-empty value");return e}R.assertNotEmpty=Ah;function Th(e,t){return t==null?void 0:e(t)}R.may=Th;function Eh(e){const t=new Map;for(const n of Object.keys(e)){const r=e[n];if(typeof r!="string")throw new Error("Found dictionary value of type other than string");t.set(n,r)}return t}R.dictionaryToStringMap=Eh;function Ch(e){const t=(0,vh.toUtf8)(e);return Uint8Array.from([t.length,...t])}R.encodeString=Ch;function un(e){return e>=128?Uint8Array.from([e&255|128,...un(e>>7)]):Uint8Array.from([e&255])}R.encodeUvarint=un;function jh(e){const t=e.getTime(),n=Math.floor(t/1e3),r=n?[8,...un(n)]:new Uint8Array,o=(e.nanoseconds||0)+t%1e3*1e6,s=o?[16,...un(o)]:new Uint8Array;return Uint8Array.from([...r,...s])}R.encodeTime=jh;function Mh(e){if(e.length>=128)throw new Error("Not implemented for byte arrays of length 128 or more");return e.length?Uint8Array.from([e.length,...e]):new Uint8Array}R.encodeBytes=Mh;function Oh(e){const t=e.block?Uint8Array.from([8,...un(e.block)]):new Uint8Array,n=e.app?Uint8Array.from([16,...un(e.app)]):new Uint8Array;return Uint8Array.from([...t,...n])}R.encodeVersion=Oh;function Bh(e){return Uint8Array.from([10,e.hash.length,...e.hash,18,e.parts.hash.length+4,8,e.parts.total,18,e.parts.hash.length,...e.parts.hash])}R.encodeBlockId=Bh;Object.defineProperty(Te,"__esModule",{value:!0});Te.smallIntToApi=Te.apiToBigInt=Te.apiToSmallInt=void 0;const As=ee,Rh=R;function Ih(e){return(typeof e=="number"?new As.Int53(e):As.Int53.fromString(e)).toNumber()}Te.apiToSmallInt=Ih;function $h(e){if((0,Rh.assertString)(e),!e.match(/^-?[0-9]+$/))throw new Error("Invalid string format");return BigInt(e)}Te.apiToBigInt=$h;function Nh(e){return new As.Int53(e).toString()}Te.smallIntToApi=Nh;var $={};Object.defineProperty($,"__esModule",{value:!0});$.encodeBlockId=$.encodeVersion=$.encodeBytes=$.encodeTime=$.encodeUvarint=$.encodeString=$.dictionaryToStringMap=$.may=$.assertNotEmpty=$.assertObject=$.assertArray=$.assertNumber=$.assertString=$.assertBoolean=$.assertSet=void 0;const xh=x;function Bt(e){if(e===void 0)throw new Error("Value must not be undefined");if(e===null)throw new Error("Value must not be null");return e}$.assertSet=Bt;function Dh(e){if(Bt(e),typeof e!="boolean")throw new Error("Value must be a boolean");return e}$.assertBoolean=Dh;function Uh(e){if(Bt(e),typeof e!="string")throw new Error("Value must be a string");return e}$.assertString=Uh;function qh(e){if(Bt(e),typeof e!="number")throw new Error("Value must be a number");return e}$.assertNumber=qh;function Hh(e){if(Bt(e),!Array.isArray(e))throw new Error("Value must be a an array");return e}$.assertArray=Hh;function Vh(e){if(Bt(e),typeof e!="object")throw new Error("Value must be an object");if(Object.prototype.toString.call(e)!=="[object Object]")throw new Error("Value must be a simple object");return e}$.assertObject=Vh;function Gh(e){if(Bt(e),typeof e=="number"&&e===0)throw new Error("must provide a non-zero value");if(e.length===0)throw new Error("must provide a non-empty value");return e}$.assertNotEmpty=Gh;function Fh(e,t){return t==null?void 0:e(t)}$.may=Fh;function Wh(e){const t=new Map;for(const n of Object.keys(e)){const r=e[n];if(typeof r!="string")throw new Error("Found dictionary value of type other than string");t.set(n,r)}return t}$.dictionaryToStringMap=Wh;function Jh(e){const t=(0,xh.toUtf8)(e);return Uint8Array.from([t.length,...t])}$.encodeString=Jh;function ln(e){return e>=128?Uint8Array.from([e&255|128,...ln(e>>7)]):Uint8Array.from([e&255])}$.encodeUvarint=ln;function Lh(e){const t=e.getTime(),n=Math.floor(t/1e3),r=n?[8,...ln(n)]:new Uint8Array,o=(e.nanoseconds||0)+t%1e3*1e6,s=o?[16,...ln(o)]:new Uint8Array;return Uint8Array.from([...r,...s])}$.encodeTime=Lh;function zh(e){if(e.length>=128)throw new Error("Not implemented for byte arrays of length 128 or more");return e.length?Uint8Array.from([e.length,...e]):new Uint8Array}$.encodeBytes=zh;function Kh(e){const t=e.block?Uint8Array.from([8,...ln(e.block)]):new Uint8Array,n=e.app?Uint8Array.from([16,...ln(e.app)]):new Uint8Array;return Uint8Array.from([...t,...n])}$.encodeVersion=Kh;function Qh(e){return Uint8Array.from([10,e.hash.length,...e.hash,18,e.parts.hash.length+4,8,e.parts.total,18,e.parts.hash.length,...e.parts.hash])}$.encodeBlockId=Qh;var Bo={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.buildQuery=e.SubscriptionEventType=e.Method=void 0,function(n){n.AbciInfo="abci_info",n.AbciQuery="abci_query",n.Block="block",n.Blockchain="blockchain",n.BlockResults="block_results",n.BlockSearch="block_search",n.BroadcastTxAsync="broadcast_tx_async",n.BroadcastTxSync="broadcast_tx_sync",n.BroadcastTxCommit="broadcast_tx_commit",n.Commit="commit",n.Genesis="genesis",n.Health="health",n.NumUnconfirmedTxs="num_unconfirmed_txs",n.Status="status",n.Subscribe="subscribe",n.Tx="tx",n.TxSearch="tx_search",n.Validators="validators",n.Unsubscribe="unsubscribe"}(e.Method||(e.Method={})),function(n){n.NewBlock="NewBlock",n.NewBlockHeader="NewBlockHeader",n.Tx="Tx"}(e.SubscriptionEventType||(e.SubscriptionEventType={}));function t(n){const o=(n.tags?n.tags:[]).map(i=>`${i.key}='${i.value}'`),s=n.raw?[n.raw]:[];return[...o,...s].join(" AND ")}e.buildQuery=t})(Bo);var Zh=u.commonjsGlobal&&u.commonjsGlobal.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Xh=u.commonjsGlobal&&u.commonjsGlobal.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Yh=u.commonjsGlobal&&u.commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&Zh(t,e,n);return Xh(t,e),t};Object.defineProperty(Oo,"__esModule",{value:!0});Oo.Params=void 0;const Ks=x,He=Te,te=st,ve=$,ep=Yh(Bo);function is(e){return{height:(0,ve.may)(He.smallIntToApi,e.height)}}function tp(e){return{minHeight:(0,ve.may)(He.smallIntToApi,e.minHeight),maxHeight:(0,ve.may)(He.smallIntToApi,e.maxHeight)}}function np(e){return{query:e.query,page:(0,ve.may)(He.smallIntToApi,e.page),per_page:(0,ve.may)(He.smallIntToApi,e.per_page),order_by:e.order_by}}function rp(e){return{path:(0,ve.assertNotEmpty)(e.path),data:(0,Ks.toHex)(e.data),height:(0,ve.may)(He.smallIntToApi,e.height),prove:e.prove}}function op(e){return{tx:(0,Ks.toBase64)((0,ve.assertNotEmpty)(e.tx))}}function sp(e){return{hash:(0,Ks.toBase64)((0,ve.assertNotEmpty)(e.hash)),prove:e.prove}}function ip(e){return{query:e.query,prove:e.prove,page:(0,ve.may)(He.smallIntToApi,e.page),per_page:(0,ve.may)(He.smallIntToApi,e.per_page),order_by:e.order_by}}function ap(e){return{height:(0,ve.may)(He.smallIntToApi,e.height),page:(0,ve.may)(He.smallIntToApi,e.page),per_page:(0,ve.may)(He.smallIntToApi,e.per_page)}}let cp=class{static encodeAbciInfo(t){return(0,te.createJsonRpcRequest)(t.method)}static encodeAbciQuery(t){return(0,te.createJsonRpcRequest)(t.method,rp(t.params))}static encodeBlock(t){return(0,te.createJsonRpcRequest)(t.method,is(t.params))}static encodeBlockchain(t){return(0,te.createJsonRpcRequest)(t.method,tp(t.params))}static encodeBlockResults(t){return(0,te.createJsonRpcRequest)(t.method,is(t.params))}static encodeBlockSearch(t){return(0,te.createJsonRpcRequest)(t.method,np(t.params))}static encodeBroadcastTx(t){return(0,te.createJsonRpcRequest)(t.method,op(t.params))}static encodeCommit(t){return(0,te.createJsonRpcRequest)(t.method,is(t.params))}static encodeGenesis(t){return(0,te.createJsonRpcRequest)(t.method)}static encodeHealth(t){return(0,te.createJsonRpcRequest)(t.method)}static encodeNumUnconfirmedTxs(t){return(0,te.createJsonRpcRequest)(t.method)}static encodeStatus(t){return(0,te.createJsonRpcRequest)(t.method)}static encodeSubscribe(t){const n={key:"tm.event",value:t.query.type},r=ep.buildQuery({tags:[n],raw:t.query.raw});return(0,te.createJsonRpcRequest)("subscribe",{query:r})}static encodeTx(t){return(0,te.createJsonRpcRequest)(t.method,sp(t.params))}static encodeTxSearch(t){return(0,te.createJsonRpcRequest)(t.method,ip(t.params))}static encodeValidators(t){return(0,te.createJsonRpcRequest)(t.method,ap(t.params))}};Oo.Params=cp;var $e={},rr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.BlockIdFlag=void 0,function(t){t[t.Unknown=0]="Unknown",t[t.Absent=1]="Absent",t[t.Commit=2]="Commit",t[t.Nil=3]="Nil",t[t.Unrecognized=-1]="Unrecognized"}(e.BlockIdFlag||(e.BlockIdFlag={}))})(rr);var dn={};Object.defineProperty(dn,"__esModule",{value:!0});dn.hashBlock=dn.hashTx=void 0;const Qs=_e,le=$;function up(e){return(0,Qs.sha256)(e)}dn.hashTx=up;function lp(e){if(e<1)throw new Error("Cannot split an empty tree");const t=2**Math.floor(Math.log2(e));return t<e?t:t/2}function dp(e){const t=new Qs.Sha256(Uint8Array.from([0]));return t.update(e),t.digest()}function mp(e,t){const n=new Qs.Sha256(Uint8Array.from([1]));return n.update(e),n.update(t),n.digest()}function Ts(e){switch(e.length){case 0:throw new Error("Cannot hash empty tree");case 1:return dp(e[0]);default:{const t=lp(e.length),n=Ts(e.slice(0,t)),r=Ts(e.slice(t));return mp(n,r)}}}function fp(e){if(!e.lastBlockId)throw new Error("Hashing a block header with no last block ID (i.e. header at height 1) is not supported. If you need this, contributions are welcome. Please add documentation and test vectors for this case.");const t=[(0,le.encodeVersion)(e.version),(0,le.encodeString)(e.chainId),(0,le.encodeUvarint)(e.height),(0,le.encodeTime)(e.time),(0,le.encodeBlockId)(e.lastBlockId),(0,le.encodeBytes)(e.lastCommitHash),(0,le.encodeBytes)(e.dataHash),(0,le.encodeBytes)(e.validatorsHash),(0,le.encodeBytes)(e.nextValidatorsHash),(0,le.encodeBytes)(e.consensusHash),(0,le.encodeBytes)(e.appHash),(0,le.encodeBytes)(e.lastResultsHash),(0,le.encodeBytes)(e.evidenceHash),(0,le.encodeBytes)(e.proposerAddress)];return Ts(t)}dn.hashBlock=fp;Object.defineProperty($e,"__esModule",{value:!0});$e.Responses=$e.decodeValidatorInfo=$e.decodeValidatorGenesis=$e.decodeValidatorUpdate=$e.decodeEvent=void 0;const E=x,nc=X,Vn=ie,P=Te,hp=rr,h=$,pp=dn;function gp(e){return{data:e.data,lastBlockHeight:(0,h.may)(P.apiToSmallInt,e.last_block_height),lastBlockAppHash:(0,h.may)(E.fromBase64,e.last_block_app_hash)}}function yp(e){return{ops:e.ops.map(t=>({type:t.type,key:(0,E.fromBase64)(t.key),data:(0,E.fromBase64)(t.data)}))}}function bp(e){return{key:(0,E.fromBase64)((0,h.assertString)(e.key??"")),value:(0,E.fromBase64)((0,h.assertString)(e.value??"")),proof:(0,h.may)(yp,e.proofOps),height:(0,h.may)(P.apiToSmallInt,e.height),code:(0,h.may)(P.apiToSmallInt,e.code),codespace:(0,h.assertString)(e.codespace??""),index:(0,h.may)(P.apiToSmallInt,e.index),log:e.log,info:(0,h.assertString)(e.info??"")}}function vp(e){return{key:(0,h.assertNotEmpty)(e.key),value:e.value??""}}function wp(e){return(0,h.assertArray)(e).map(vp)}function rc(e){return{type:e.type,attributes:e.attributes?wp(e.attributes):[]}}$e.decodeEvent=rc;function Es(e){return(0,h.assertArray)(e).map(rc)}function mn(e){return{code:(0,P.apiToSmallInt)((0,h.assertNumber)(e.code??0)),codespace:e.codespace,log:e.log,data:(0,h.may)(E.fromBase64,e.data),events:e.events?Es(e.events):[],gasWanted:(0,P.apiToBigInt)(e.gas_wanted??"0"),gasUsed:(0,P.apiToBigInt)(e.gas_used??"0")}}function Zs(e){if("Sum"in e){const[[t,n]]=Object.entries(e.Sum.value);return(0,nc.assert)(t==="ed25519"||t==="secp256k1",`unknown pubkey type: ${t}`),{algorithm:t,data:(0,E.fromBase64)((0,h.assertNotEmpty)(n))}}else switch(e.type){case"tendermint/PubKeyEd25519":return{algorithm:"ed25519",data:(0,E.fromBase64)((0,h.assertNotEmpty)(e.value))};case"tendermint/PubKeySecp256k1":return{algorithm:"secp256k1",data:(0,E.fromBase64)((0,h.assertNotEmpty)(e.value))};default:throw new Error(`unknown pubkey type: ${e.type}`)}}function kp(e){return{maxBytes:(0,P.apiToSmallInt)((0,h.assertNotEmpty)(e.max_bytes)),maxGas:(0,P.apiToSmallInt)((0,h.assertNotEmpty)(e.max_gas))}}function _p(e){return{maxAgeNumBlocks:(0,P.apiToSmallInt)((0,h.assertNotEmpty)(e.max_age_num_blocks)),maxAgeDuration:(0,P.apiToSmallInt)((0,h.assertNotEmpty)(e.max_age_duration))}}function oc(e){return{block:kp((0,h.assertObject)(e.block)),evidence:_p((0,h.assertObject)(e.evidence))}}function sc(e){return{pubkey:Zs((0,h.assertObject)(e.pub_key)),votingPower:(0,P.apiToBigInt)(e.power??"0")}}$e.decodeValidatorUpdate=sc;function Sp(e){return{height:(0,P.apiToSmallInt)((0,h.assertNotEmpty)(e.height)),results:(e.txs_results||[]).map(mn),validatorUpdates:(e.validator_updates||[]).map(sc),consensusUpdates:(0,h.may)(oc,e.consensus_param_updates),beginBlockEvents:Es(e.begin_block_events||[]),endBlockEvents:Es(e.end_block_events||[])}}function Ro(e){return{hash:(0,E.fromHex)((0,h.assertNotEmpty)(e.hash)),parts:{total:(0,h.assertNotEmpty)(e.parts.total),hash:(0,E.fromHex)((0,h.assertNotEmpty)(e.parts.hash))}}}function Pp(e){return{block:(0,P.apiToSmallInt)(e.block),app:(0,P.apiToSmallInt)(e.app??0)}}function Io(e){return{version:Pp(e.version),chainId:(0,h.assertNotEmpty)(e.chain_id),height:(0,P.apiToSmallInt)((0,h.assertNotEmpty)(e.height)),time:(0,Vn.fromRfc3339WithNanoseconds)((0,h.assertNotEmpty)(e.time)),lastBlockId:e.last_block_id.hash?Ro(e.last_block_id):null,lastCommitHash:(0,E.fromHex)((0,h.assertSet)(e.last_commit_hash)),dataHash:(0,E.fromHex)((0,h.assertSet)(e.data_hash)),validatorsHash:(0,E.fromHex)((0,h.assertSet)(e.validators_hash)),nextValidatorsHash:(0,E.fromHex)((0,h.assertSet)(e.next_validators_hash)),consensusHash:(0,E.fromHex)((0,h.assertSet)(e.consensus_hash)),appHash:(0,E.fromHex)((0,h.assertSet)(e.app_hash)),lastResultsHash:(0,E.fromHex)((0,h.assertSet)(e.last_results_hash)),evidenceHash:(0,E.fromHex)((0,h.assertSet)(e.evidence_hash)),proposerAddress:(0,E.fromHex)((0,h.assertNotEmpty)(e.proposer_address))}}function Ap(e){return{blockId:Ro(e.block_id),blockSize:(0,P.apiToSmallInt)((0,h.assertNotEmpty)(e.block_size)),header:Io(e.header),numTxs:(0,P.apiToSmallInt)((0,h.assertNotEmpty)(e.num_txs))}}function Tp(e){return{lastHeight:(0,P.apiToSmallInt)((0,h.assertNotEmpty)(e.last_height)),blockMetas:(0,h.assertArray)(e.block_metas).map(Ap)}}function Ep(e){return{...mn(e),hash:(0,E.fromHex)((0,h.assertNotEmpty)(e.hash))}}function Cp(e){const t=e.tx_result?mn(e.tx_result):void 0;return{height:(0,P.apiToSmallInt)(e.height),hash:(0,E.fromHex)((0,h.assertNotEmpty)(e.hash)),checkTx:mn((0,h.assertObject)(e.check_tx)),deliverTx:t,txResult:t}}function jp(e){return(0,nc.assert)(e in hp.BlockIdFlag),e}function Mp(e){return{blockIdFlag:jp(e.block_id_flag),validatorAddress:e.validator_address?(0,E.fromHex)(e.validator_address):void 0,timestamp:e.timestamp?(0,Vn.fromRfc3339WithNanoseconds)(e.timestamp):void 0,signature:e.signature?(0,E.fromBase64)(e.signature):void 0}}function ic(e){return{blockId:Ro((0,h.assertObject)(e.block_id)),height:(0,P.apiToSmallInt)((0,h.assertNotEmpty)(e.height)),round:(0,P.apiToSmallInt)(e.round),signatures:(0,h.assertArray)(e.signatures).map(Mp)}}function Op(e){return{canonical:(0,h.assertBoolean)(e.canonical),header:Io(e.signed_header.header),commit:ic(e.signed_header.commit)}}function ac(e){return{address:(0,E.fromHex)((0,h.assertNotEmpty)(e.address)),pubkey:Zs((0,h.assertObject)(e.pub_key)),votingPower:(0,P.apiToBigInt)((0,h.assertNotEmpty)(e.power))}}$e.decodeValidatorGenesis=ac;function Bp(e){return{genesisTime:(0,Vn.fromRfc3339WithNanoseconds)((0,h.assertNotEmpty)(e.genesis_time)),chainId:(0,h.assertNotEmpty)(e.chain_id),consensusParams:oc(e.consensus_params),validators:e.validators?(0,h.assertArray)(e.validators).map(ac):[],appHash:(0,E.fromHex)((0,h.assertSet)(e.app_hash)),appState:e.app_state}}function Xs(e){return{pubkey:Zs((0,h.assertObject)(e.pub_key)),votingPower:(0,P.apiToBigInt)((0,h.assertNotEmpty)(e.voting_power)),address:(0,E.fromHex)((0,h.assertNotEmpty)(e.address)),proposerPriority:e.proposer_priority?(0,P.apiToSmallInt)(e.proposer_priority):void 0}}$e.decodeValidatorInfo=Xs;function Rp(e){return{id:(0,E.fromHex)((0,h.assertNotEmpty)(e.id)),listenAddr:(0,h.assertNotEmpty)(e.listen_addr),network:(0,h.assertNotEmpty)(e.network),version:(0,h.assertString)(e.version),channels:(0,h.assertNotEmpty)(e.channels),moniker:(0,h.assertNotEmpty)(e.moniker),other:(0,h.dictionaryToStringMap)(e.other),protocolVersion:{app:(0,P.apiToSmallInt)((0,h.assertNotEmpty)(e.protocol_version.app)),block:(0,P.apiToSmallInt)((0,h.assertNotEmpty)(e.protocol_version.block)),p2p:(0,P.apiToSmallInt)((0,h.assertNotEmpty)(e.protocol_version.p2p))}}}function Ip(e){const t=e.earliest_block_height?(0,P.apiToSmallInt)(e.earliest_block_height):void 0,n=e.earliest_block_time?(0,Vn.fromRfc3339WithNanoseconds)(e.earliest_block_time):void 0;return{earliestAppHash:e.earliest_app_hash?(0,E.fromHex)(e.earliest_app_hash):void 0,earliestBlockHash:e.earliest_block_hash?(0,E.fromHex)(e.earliest_block_hash):void 0,earliestBlockHeight:t||void 0,earliestBlockTime:n!=null&&n.getTime()?n:void 0,latestBlockHash:(0,E.fromHex)((0,h.assertNotEmpty)(e.latest_block_hash)),latestAppHash:(0,E.fromHex)((0,h.assertNotEmpty)(e.latest_app_hash)),latestBlockTime:(0,Vn.fromRfc3339WithNanoseconds)((0,h.assertNotEmpty)(e.latest_block_time)),latestBlockHeight:(0,P.apiToSmallInt)((0,h.assertNotEmpty)(e.latest_block_height)),catchingUp:(0,h.assertBoolean)(e.catching_up)}}function $p(e){return{nodeInfo:Rp(e.node_info),syncInfo:Ip(e.sync_info),validatorInfo:Xs(e.validator_info)}}function Np(e){return{data:(0,E.fromBase64)((0,h.assertNotEmpty)(e.data)),rootHash:(0,E.fromHex)((0,h.assertNotEmpty)(e.root_hash)),proof:{total:(0,P.apiToSmallInt)((0,h.assertNotEmpty)(e.proof.total)),index:(0,P.apiToSmallInt)((0,h.assertNotEmpty)(e.proof.index)),leafHash:(0,E.fromBase64)((0,h.assertNotEmpty)(e.proof.leaf_hash)),aunts:(0,h.assertArray)(e.proof.aunts).map(E.fromBase64)}}}function cc(e){return{tx:(0,E.fromBase64)((0,h.assertNotEmpty)(e.tx)),result:mn((0,h.assertObject)(e.tx_result)),height:(0,P.apiToSmallInt)((0,h.assertNotEmpty)(e.height)),index:(0,P.apiToSmallInt)((0,h.assertNumber)(e.index)),hash:(0,E.fromHex)((0,h.assertNotEmpty)(e.hash)),proof:(0,h.may)(Np,e.proof)}}function xp(e){return{totalCount:(0,P.apiToSmallInt)((0,h.assertNotEmpty)(e.total_count)),txs:(0,h.assertArray)(e.txs).map(cc)}}function Dp(e){const t=(0,E.fromBase64)((0,h.assertNotEmpty)(e.tx));return{tx:t,hash:(0,pp.hashTx)(t),result:mn(e.result),height:(0,P.apiToSmallInt)((0,h.assertNotEmpty)(e.height))}}function Up(e){return{blockHeight:(0,P.apiToSmallInt)((0,h.assertNotEmpty)(e.block_height)),validators:(0,h.assertArray)(e.validators).map(Xs),count:(0,P.apiToSmallInt)((0,h.assertNotEmpty)(e.count)),total:(0,P.apiToSmallInt)((0,h.assertNotEmpty)(e.total))}}function uc(e){var t;return{header:Io((0,h.assertObject)(e.header)),lastCommit:e.last_commit.block_id.hash?ic((0,h.assertObject)(e.last_commit)):null,txs:e.data.txs?(0,h.assertArray)(e.data.txs).map(E.fromBase64):[],evidence:((t=e.evidence)==null?void 0:t.evidence)??[]}}function lc(e){return{blockId:Ro(e.block_id),block:uc(e.block)}}function qp(e){return{totalCount:(0,P.apiToSmallInt)((0,h.assertNotEmpty)(e.total_count)),blocks:(0,h.assertArray)(e.blocks).map(lc)}}function Hp(e){return{total:(0,P.apiToSmallInt)((0,h.assertNotEmpty)(e.total)),totalBytes:(0,P.apiToSmallInt)((0,h.assertNotEmpty)(e.total_bytes))}}let Vp=class dc{static decodeAbciInfo(t){return gp((0,h.assertObject)(t.result.response))}static decodeAbciQuery(t){return bp((0,h.assertObject)(t.result.response))}static decodeBlock(t){return lc(t.result)}static decodeBlockResults(t){return Sp(t.result)}static decodeBlockSearch(t){return qp(t.result)}static decodeBlockchain(t){return Tp(t.result)}static decodeBroadcastTxSync(t){return Ep(t.result)}static decodeBroadcastTxAsync(t){return dc.decodeBroadcastTxSync(t)}static decodeBroadcastTxCommit(t){return Cp(t.result)}static decodeCommit(t){return Op(t.result)}static decodeGenesis(t){return Bp((0,h.assertObject)(t.result.genesis))}static decodeHealth(){return null}static decodeNumUnconfirmedTxs(t){return Hp(t.result)}static decodeStatus(t){return $p(t.result)}static decodeNewBlockEvent(t){return uc(t.data.value.block)}static decodeNewBlockHeaderEvent(t){return Io(t.data.value.header)}static decodeTxEvent(t){return Dp(t.data.value.TxResult)}static decodeTx(t){return cc(t.result)}static decodeTxSearch(t){return xp(t.result)}static decodeValidators(t){return Up(t.result)}};$e.Responses=Vp;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Responses=e.Params=void 0;var t=Oo;Object.defineProperty(e,"Params",{enumerable:!0,get:function(){return t.Params}});var n=$e;Object.defineProperty(e,"Responses",{enumerable:!0,get:function(){return n.Responses}})})(tc);var Gp=u.commonjsGlobal&&u.commonjsGlobal.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Fp=u.commonjsGlobal&&u.commonjsGlobal.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Wp=u.commonjsGlobal&&u.commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&Gp(t,e,n);return Fp(t,e),t};Object.defineProperty(So,"__esModule",{value:!0});So.Comet38Client=void 0;const Jp=st,wr=Yn,M=tc,W=Wp(Bo);class Ir{static async connect(t){let n;return typeof t=="object"?n=new wr.HttpClient(t):n=t.startsWith("http://")||t.startsWith("https://")?new wr.HttpClient(t):new wr.WebsocketClient(t),await this.detectVersion(n),Ir.create(n)}static async create(t){return new Ir(t)}static async detectVersion(t){const n=(0,Jp.createJsonRpcRequest)(W.Method.Status),o=(await t.execute(n)).result;if(!o||!o.node_info)throw new Error("Unrecognized format for status response");const s=o.node_info.version;if(typeof s!="string")throw new Error("Unrecognized version format: must be string");return s}constructor(t){this.client=t}disconnect(){this.client.disconnect()}async abciInfo(){const t={method:W.Method.AbciInfo};return this.doCall(t,M.Params.encodeAbciInfo,M.Responses.decodeAbciInfo)}async abciQuery(t){const n={params:t,method:W.Method.AbciQuery};return this.doCall(n,M.Params.encodeAbciQuery,M.Responses.decodeAbciQuery)}async block(t){const n={method:W.Method.Block,params:{height:t}};return this.doCall(n,M.Params.encodeBlock,M.Responses.decodeBlock)}async blockResults(t){const n={method:W.Method.BlockResults,params:{height:t}};return this.doCall(n,M.Params.encodeBlockResults,M.Responses.decodeBlockResults)}async blockSearch(t){const n={params:t,method:W.Method.BlockSearch},r=await this.doCall(n,M.Params.encodeBlockSearch,M.Responses.decodeBlockSearch);return{...r,blocks:[...r.blocks].sort((o,s)=>o.block.header.height-s.block.header.height)}}async blockSearchAll(t){let n=t.page||1;const r=[];let o=!1;for(;!o;){const s=await this.blockSearch({...t,page:n});r.push(...s.blocks),r.length<s.totalCount?n++:o=!0}return r.sort((s,i)=>s.block.header.height-i.block.header.height),{totalCount:r.length,blocks:r}}async blockchain(t,n){const r={method:W.Method.Blockchain,params:{minHeight:t,maxHeight:n}};return this.doCall(r,M.Params.encodeBlockchain,M.Responses.decodeBlockchain)}async broadcastTxSync(t){const n={params:t,method:W.Method.BroadcastTxSync};return this.doCall(n,M.Params.encodeBroadcastTx,M.Responses.decodeBroadcastTxSync)}async broadcastTxAsync(t){const n={params:t,method:W.Method.BroadcastTxAsync};return this.doCall(n,M.Params.encodeBroadcastTx,M.Responses.decodeBroadcastTxAsync)}async broadcastTxCommit(t){const n={params:t,method:W.Method.BroadcastTxCommit};return this.doCall(n,M.Params.encodeBroadcastTx,M.Responses.decodeBroadcastTxCommit)}async commit(t){const n={method:W.Method.Commit,params:{height:t}};return this.doCall(n,M.Params.encodeCommit,M.Responses.decodeCommit)}async genesis(){const t={method:W.Method.Genesis};return this.doCall(t,M.Params.encodeGenesis,M.Responses.decodeGenesis)}async health(){const t={method:W.Method.Health};return this.doCall(t,M.Params.encodeHealth,M.Responses.decodeHealth)}async numUnconfirmedTxs(){const t={method:W.Method.NumUnconfirmedTxs};return this.doCall(t,M.Params.encodeNumUnconfirmedTxs,M.Responses.decodeNumUnconfirmedTxs)}async status(){const t={method:W.Method.Status};return this.doCall(t,M.Params.encodeStatus,M.Responses.decodeStatus)}subscribeNewBlock(){const t={method:W.Method.Subscribe,query:{type:W.SubscriptionEventType.NewBlock}};return this.subscribe(t,M.Responses.decodeNewBlockEvent)}subscribeNewBlockHeader(){const t={method:W.Method.Subscribe,query:{type:W.SubscriptionEventType.NewBlockHeader}};return this.subscribe(t,M.Responses.decodeNewBlockHeaderEvent)}subscribeTx(t){const n={method:W.Method.Subscribe,query:{type:W.SubscriptionEventType.Tx,raw:t}};return this.subscribe(n,M.Responses.decodeTxEvent)}async tx(t){const n={params:t,method:W.Method.Tx};return this.doCall(n,M.Params.encodeTx,M.Responses.decodeTx)}async txSearch(t){const n={params:t,method:W.Method.TxSearch};return this.doCall(n,M.Params.encodeTxSearch,M.Responses.decodeTxSearch)}async txSearchAll(t){let n=t.page||1;const r=[];let o=!1;for(;!o;){const s=await this.txSearch({...t,page:n});r.push(...s.txs),r.length<s.totalCount?n++:o=!0}return{totalCount:r.length,txs:r}}async validators(t){const n={method:W.Method.Validators,params:t};return this.doCall(n,M.Params.encodeValidators,M.Responses.decodeValidators)}async validatorsAll(t){const n=[];let r=1,o=!1,s=t;for(;!o;){const i=await this.validators({per_page:50,height:s,page:r});n.push(...i.validators),s=s||i.blockHeight,n.length<i.total?r++:o=!0}return{blockHeight:s??0,count:n.length,total:n.length,validators:n}}async doCall(t,n,r){const o=n(t),s=await this.client.execute(o);return r(s)}subscribe(t,n){if(!(0,wr.instanceOfRpcStreamingClient)(this.client))throw new Error("This RPC client type cannot subscribe to events");const r=M.Params.encodeSubscribe(t);return this.client.listen(r).map(s=>n(s))}}So.Comet38Client=Ir;var mc={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.VoteType=e.broadcastTxCommitSuccess=e.broadcastTxSyncSuccess=void 0;function t(r){return r.code===0}e.broadcastTxSyncSuccess=t;function n(r){return r.checkTx.code===0&&!!r.deliverTx&&r.deliverTx.code===0}e.broadcastTxCommitSuccess=n,function(r){r[r.PreVote=1]="PreVote",r[r.PreCommit=2]="PreCommit"}(e.VoteType||(e.VoteType={}))})(mc);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.VoteType=e.broadcastTxSyncSuccess=e.broadcastTxCommitSuccess=e.SubscriptionEventType=e.Method=e.Comet38Client=void 0;var t=So;Object.defineProperty(e,"Comet38Client",{enumerable:!0,get:function(){return t.Comet38Client}});var n=Bo;Object.defineProperty(e,"Method",{enumerable:!0,get:function(){return n.Method}}),Object.defineProperty(e,"SubscriptionEventType",{enumerable:!0,get:function(){return n.SubscriptionEventType}});var r=mc;Object.defineProperty(e,"broadcastTxCommitSuccess",{enumerable:!0,get:function(){return r.broadcastTxCommitSuccess}}),Object.defineProperty(e,"broadcastTxSyncSuccess",{enumerable:!0,get:function(){return r.broadcastTxSyncSuccess}}),Object.defineProperty(e,"VoteType",{enumerable:!0,get:function(){return r.VoteType}})})(Br);var Dn={},$o={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.buildQuery=e.SubscriptionEventType=e.Method=void 0,function(n){n.AbciInfo="abci_info",n.AbciQuery="abci_query",n.Block="block",n.Blockchain="blockchain",n.BlockResults="block_results",n.BlockSearch="block_search",n.BroadcastTxAsync="broadcast_tx_async",n.BroadcastTxSync="broadcast_tx_sync",n.BroadcastTxCommit="broadcast_tx_commit",n.Commit="commit",n.Genesis="genesis",n.Health="health",n.NumUnconfirmedTxs="num_unconfirmed_txs",n.Status="status",n.Subscribe="subscribe",n.Tx="tx",n.TxSearch="tx_search",n.Validators="validators",n.Unsubscribe="unsubscribe"}(e.Method||(e.Method={})),function(n){n.NewBlock="NewBlock",n.NewBlockHeader="NewBlockHeader",n.Tx="Tx"}(e.SubscriptionEventType||(e.SubscriptionEventType={}));function t(n){const o=(n.tags?n.tags:[]).map(i=>`${i.key}='${i.value}'`),s=n.raw?[n.raw]:[];return[...o,...s].join(" AND ")}e.buildQuery=t})($o);var fc={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.VoteType=e.broadcastTxCommitSuccess=e.broadcastTxSyncSuccess=void 0;function t(r){return r.code===0}e.broadcastTxSyncSuccess=t;function n(r){return r.checkTx.code===0&&!!r.deliverTx&&r.deliverTx.code===0}e.broadcastTxCommitSuccess=n,function(r){r[r.PreVote=1]="PreVote",r[r.PreCommit=2]="PreCommit"}(e.VoteType||(e.VoteType={}))})(fc);var No={},hc={},xo={},Lp=u.commonjsGlobal&&u.commonjsGlobal.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),zp=u.commonjsGlobal&&u.commonjsGlobal.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Kp=u.commonjsGlobal&&u.commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&Lp(t,e,n);return zp(t,e),t};Object.defineProperty(xo,"__esModule",{value:!0});xo.Params=void 0;const Ys=x,Ve=Te,ne=st,we=R,Qp=Kp($o);function as(e){return{height:(0,we.may)(Ve.smallIntToApi,e.height)}}function Zp(e){return{minHeight:(0,we.may)(Ve.smallIntToApi,e.minHeight),maxHeight:(0,we.may)(Ve.smallIntToApi,e.maxHeight)}}function Xp(e){return{query:e.query,page:(0,we.may)(Ve.smallIntToApi,e.page),per_page:(0,we.may)(Ve.smallIntToApi,e.per_page),order_by:e.order_by}}function Yp(e){return{path:(0,we.assertNotEmpty)(e.path),data:(0,Ys.toHex)(e.data),height:(0,we.may)(Ve.smallIntToApi,e.height),prove:e.prove}}function eg(e){return{tx:(0,Ys.toBase64)((0,we.assertNotEmpty)(e.tx))}}function tg(e){return{hash:(0,Ys.toBase64)((0,we.assertNotEmpty)(e.hash)),prove:e.prove}}function ng(e){return{query:e.query,prove:e.prove,page:(0,we.may)(Ve.smallIntToApi,e.page),per_page:(0,we.may)(Ve.smallIntToApi,e.per_page),order_by:e.order_by}}function rg(e){return{height:(0,we.may)(Ve.smallIntToApi,e.height),page:(0,we.may)(Ve.smallIntToApi,e.page),per_page:(0,we.may)(Ve.smallIntToApi,e.per_page)}}let og=class{static encodeAbciInfo(t){return(0,ne.createJsonRpcRequest)(t.method)}static encodeAbciQuery(t){return(0,ne.createJsonRpcRequest)(t.method,Yp(t.params))}static encodeBlock(t){return(0,ne.createJsonRpcRequest)(t.method,as(t.params))}static encodeBlockchain(t){return(0,ne.createJsonRpcRequest)(t.method,Zp(t.params))}static encodeBlockResults(t){return(0,ne.createJsonRpcRequest)(t.method,as(t.params))}static encodeBlockSearch(t){return(0,ne.createJsonRpcRequest)(t.method,Xp(t.params))}static encodeBroadcastTx(t){return(0,ne.createJsonRpcRequest)(t.method,eg(t.params))}static encodeCommit(t){return(0,ne.createJsonRpcRequest)(t.method,as(t.params))}static encodeGenesis(t){return(0,ne.createJsonRpcRequest)(t.method)}static encodeHealth(t){return(0,ne.createJsonRpcRequest)(t.method)}static encodeNumUnconfirmedTxs(t){return(0,ne.createJsonRpcRequest)(t.method)}static encodeStatus(t){return(0,ne.createJsonRpcRequest)(t.method)}static encodeSubscribe(t){const n={key:"tm.event",value:t.query.type},r=Qp.buildQuery({tags:[n],raw:t.query.raw});return(0,ne.createJsonRpcRequest)("subscribe",{query:r})}static encodeTx(t){return(0,ne.createJsonRpcRequest)(t.method,tg(t.params))}static encodeTxSearch(t){return(0,ne.createJsonRpcRequest)(t.method,ng(t.params))}static encodeValidators(t){return(0,ne.createJsonRpcRequest)(t.method,rg(t.params))}};xo.Params=og;var Ne={},fn={};Object.defineProperty(fn,"__esModule",{value:!0});fn.hashBlock=fn.hashTx=void 0;const ei=_e,de=R;function sg(e){return(0,ei.sha256)(e)}fn.hashTx=sg;function ig(e){if(e<1)throw new Error("Cannot split an empty tree");const t=2**Math.floor(Math.log2(e));return t<e?t:t/2}function ag(e){const t=new ei.Sha256(Uint8Array.from([0]));return t.update(e),t.digest()}function cg(e,t){const n=new ei.Sha256(Uint8Array.from([1]));return n.update(e),n.update(t),n.digest()}function Cs(e){switch(e.length){case 0:throw new Error("Cannot hash empty tree");case 1:return ag(e[0]);default:{const t=ig(e.length),n=Cs(e.slice(0,t)),r=Cs(e.slice(t));return cg(n,r)}}}function ug(e){if(!e.lastBlockId)throw new Error("Hashing a block header with no last block ID (i.e. header at height 1) is not supported. If you need this, contributions are welcome. Please add documentation and test vectors for this case.");const t=[(0,de.encodeVersion)(e.version),(0,de.encodeString)(e.chainId),(0,de.encodeUvarint)(e.height),(0,de.encodeTime)(e.time),(0,de.encodeBlockId)(e.lastBlockId),(0,de.encodeBytes)(e.lastCommitHash),(0,de.encodeBytes)(e.dataHash),(0,de.encodeBytes)(e.validatorsHash),(0,de.encodeBytes)(e.nextValidatorsHash),(0,de.encodeBytes)(e.consensusHash),(0,de.encodeBytes)(e.appHash),(0,de.encodeBytes)(e.lastResultsHash),(0,de.encodeBytes)(e.evidenceHash),(0,de.encodeBytes)(e.proposerAddress)];return Cs(t)}fn.hashBlock=ug;Object.defineProperty(Ne,"__esModule",{value:!0});Ne.Responses=Ne.decodeValidatorInfo=Ne.decodeValidatorGenesis=Ne.decodeValidatorUpdate=Ne.decodeEvent=void 0;const S=x,pc=X,Gn=ie,A=Te,lg=rr,m=R,dg=fn;function mg(e){return{data:e.data,lastBlockHeight:(0,m.may)(A.apiToSmallInt,e.last_block_height),lastBlockAppHash:(0,m.may)(S.fromBase64,e.last_block_app_hash)}}function fg(e){return{ops:e.ops.map(t=>({type:t.type,key:(0,S.fromBase64)(t.key),data:(0,S.fromBase64)(t.data)}))}}function hg(e){return{key:(0,S.fromBase64)((0,m.assertString)(e.key??"")),value:(0,S.fromBase64)((0,m.assertString)(e.value??"")),proof:(0,m.may)(fg,e.proofOps),height:(0,m.may)(A.apiToSmallInt,e.height),code:(0,m.may)(A.apiToSmallInt,e.code),codespace:(0,m.assertString)(e.codespace??""),index:(0,m.may)(A.apiToSmallInt,e.index),log:e.log,info:(0,m.assertString)(e.info??"")}}function pg(e){return{key:(0,S.fromBase64)((0,m.assertNotEmpty)(e.key)),value:(0,S.fromBase64)((0,m.assertString)(e.value??""))}}function gg(e){return(0,m.assertArray)(e).map(pg)}function gc(e){return{type:e.type,attributes:e.attributes?gg(e.attributes):[]}}Ne.decodeEvent=gc;function js(e){return(0,m.assertArray)(e).map(gc)}function hn(e){return{code:(0,A.apiToSmallInt)((0,m.assertNumber)(e.code??0)),codespace:e.codespace,log:e.log,data:(0,m.may)(S.fromBase64,e.data),events:e.events?js(e.events):[],gasWanted:(0,A.apiToBigInt)(e.gas_wanted??"0"),gasUsed:(0,A.apiToBigInt)(e.gas_used??"0")}}function ti(e){if("Sum"in e){const[[t,n]]=Object.entries(e.Sum.value);return(0,pc.assert)(t==="ed25519"||t==="secp256k1",`unknown pubkey type: ${t}`),{algorithm:t,data:(0,S.fromBase64)((0,m.assertNotEmpty)(n))}}else switch(e.type){case"tendermint/PubKeyEd25519":return{algorithm:"ed25519",data:(0,S.fromBase64)((0,m.assertNotEmpty)(e.value))};case"tendermint/PubKeySecp256k1":return{algorithm:"secp256k1",data:(0,S.fromBase64)((0,m.assertNotEmpty)(e.value))};default:throw new Error(`unknown pubkey type: ${e.type}`)}}function yg(e){return{maxBytes:(0,A.apiToSmallInt)((0,m.assertNotEmpty)(e.max_bytes)),maxGas:(0,A.apiToSmallInt)((0,m.assertNotEmpty)(e.max_gas))}}function bg(e){return{maxAgeNumBlocks:(0,A.apiToSmallInt)((0,m.assertNotEmpty)(e.max_age_num_blocks)),maxAgeDuration:(0,A.apiToSmallInt)((0,m.assertNotEmpty)(e.max_age_duration))}}function yc(e){return{block:yg((0,m.assertObject)(e.block)),evidence:bg((0,m.assertObject)(e.evidence))}}function bc(e){return{pubkey:ti((0,m.assertObject)(e.pub_key)),votingPower:(0,A.apiToBigInt)(e.power??"0")}}Ne.decodeValidatorUpdate=bc;function vg(e){return{height:(0,A.apiToSmallInt)((0,m.assertNotEmpty)(e.height)),results:(e.txs_results||[]).map(hn),validatorUpdates:(e.validator_updates||[]).map(bc),consensusUpdates:(0,m.may)(yc,e.consensus_param_updates),beginBlockEvents:js(e.begin_block_events||[]),endBlockEvents:js(e.end_block_events||[])}}function Do(e){return{hash:(0,S.fromHex)((0,m.assertNotEmpty)(e.hash)),parts:{total:(0,m.assertNotEmpty)(e.parts.total),hash:(0,S.fromHex)((0,m.assertNotEmpty)(e.parts.hash))}}}function wg(e){return{block:(0,A.apiToSmallInt)(e.block),app:(0,A.apiToSmallInt)(e.app??0)}}function Uo(e){return{version:wg(e.version),chainId:(0,m.assertNotEmpty)(e.chain_id),height:(0,A.apiToSmallInt)((0,m.assertNotEmpty)(e.height)),time:(0,Gn.fromRfc3339WithNanoseconds)((0,m.assertNotEmpty)(e.time)),lastBlockId:e.last_block_id.hash?Do(e.last_block_id):null,lastCommitHash:(0,S.fromHex)((0,m.assertSet)(e.last_commit_hash)),dataHash:(0,S.fromHex)((0,m.assertSet)(e.data_hash)),validatorsHash:(0,S.fromHex)((0,m.assertSet)(e.validators_hash)),nextValidatorsHash:(0,S.fromHex)((0,m.assertSet)(e.next_validators_hash)),consensusHash:(0,S.fromHex)((0,m.assertSet)(e.consensus_hash)),appHash:(0,S.fromHex)((0,m.assertSet)(e.app_hash)),lastResultsHash:(0,S.fromHex)((0,m.assertSet)(e.last_results_hash)),evidenceHash:(0,S.fromHex)((0,m.assertSet)(e.evidence_hash)),proposerAddress:(0,S.fromHex)((0,m.assertNotEmpty)(e.proposer_address))}}function kg(e){return{blockId:Do(e.block_id),blockSize:(0,A.apiToSmallInt)((0,m.assertNotEmpty)(e.block_size)),header:Uo(e.header),numTxs:(0,A.apiToSmallInt)((0,m.assertNotEmpty)(e.num_txs))}}function _g(e){return{lastHeight:(0,A.apiToSmallInt)((0,m.assertNotEmpty)(e.last_height)),blockMetas:(0,m.assertArray)(e.block_metas).map(kg)}}function Sg(e){return{...hn(e),hash:(0,S.fromHex)((0,m.assertNotEmpty)(e.hash))}}function Pg(e){return{height:(0,A.apiToSmallInt)(e.height),hash:(0,S.fromHex)((0,m.assertNotEmpty)(e.hash)),checkTx:hn((0,m.assertObject)(e.check_tx)),deliverTx:(0,m.may)(hn,e.deliver_tx)}}function Ag(e){return(0,pc.assert)(e in lg.BlockIdFlag),e}function Tg(e){return{blockIdFlag:Ag(e.block_id_flag),validatorAddress:e.validator_address?(0,S.fromHex)(e.validator_address):void 0,timestamp:e.timestamp?(0,Gn.fromRfc3339WithNanoseconds)(e.timestamp):void 0,signature:e.signature?(0,S.fromBase64)(e.signature):void 0}}function vc(e){return{blockId:Do((0,m.assertObject)(e.block_id)),height:(0,A.apiToSmallInt)((0,m.assertNotEmpty)(e.height)),round:(0,A.apiToSmallInt)(e.round),signatures:(0,m.assertArray)(e.signatures).map(Tg)}}function Eg(e){return{canonical:(0,m.assertBoolean)(e.canonical),header:Uo(e.signed_header.header),commit:vc(e.signed_header.commit)}}function wc(e){return{address:(0,S.fromHex)((0,m.assertNotEmpty)(e.address)),pubkey:ti((0,m.assertObject)(e.pub_key)),votingPower:(0,A.apiToBigInt)((0,m.assertNotEmpty)(e.power))}}Ne.decodeValidatorGenesis=wc;function Cg(e){return{genesisTime:(0,Gn.fromRfc3339WithNanoseconds)((0,m.assertNotEmpty)(e.genesis_time)),chainId:(0,m.assertNotEmpty)(e.chain_id),consensusParams:yc(e.consensus_params),validators:e.validators?(0,m.assertArray)(e.validators).map(wc):[],appHash:(0,S.fromHex)((0,m.assertSet)(e.app_hash)),appState:e.app_state}}function ni(e){return{pubkey:ti((0,m.assertObject)(e.pub_key)),votingPower:(0,A.apiToBigInt)((0,m.assertNotEmpty)(e.voting_power)),address:(0,S.fromHex)((0,m.assertNotEmpty)(e.address)),proposerPriority:e.proposer_priority?(0,A.apiToSmallInt)(e.proposer_priority):void 0}}Ne.decodeValidatorInfo=ni;function jg(e){return{id:(0,S.fromHex)((0,m.assertNotEmpty)(e.id)),listenAddr:(0,m.assertNotEmpty)(e.listen_addr),network:(0,m.assertNotEmpty)(e.network),version:(0,m.assertString)(e.version),channels:(0,m.assertNotEmpty)(e.channels),moniker:(0,m.assertNotEmpty)(e.moniker),other:(0,m.dictionaryToStringMap)(e.other),protocolVersion:{app:(0,A.apiToSmallInt)((0,m.assertNotEmpty)(e.protocol_version.app)),block:(0,A.apiToSmallInt)((0,m.assertNotEmpty)(e.protocol_version.block)),p2p:(0,A.apiToSmallInt)((0,m.assertNotEmpty)(e.protocol_version.p2p))}}}function Mg(e){const t=e.earliest_block_height?(0,A.apiToSmallInt)(e.earliest_block_height):void 0,n=e.earliest_block_time?(0,Gn.fromRfc3339WithNanoseconds)(e.earliest_block_time):void 0;return{earliestAppHash:e.earliest_app_hash?(0,S.fromHex)(e.earliest_app_hash):void 0,earliestBlockHash:e.earliest_block_hash?(0,S.fromHex)(e.earliest_block_hash):void 0,earliestBlockHeight:t||void 0,earliestBlockTime:n!=null&&n.getTime()?n:void 0,latestBlockHash:(0,S.fromHex)((0,m.assertNotEmpty)(e.latest_block_hash)),latestAppHash:(0,S.fromHex)((0,m.assertNotEmpty)(e.latest_app_hash)),latestBlockTime:(0,Gn.fromRfc3339WithNanoseconds)((0,m.assertNotEmpty)(e.latest_block_time)),latestBlockHeight:(0,A.apiToSmallInt)((0,m.assertNotEmpty)(e.latest_block_height)),catchingUp:(0,m.assertBoolean)(e.catching_up)}}function Og(e){return{nodeInfo:jg(e.node_info),syncInfo:Mg(e.sync_info),validatorInfo:ni(e.validator_info)}}function Bg(e){return{data:(0,S.fromBase64)((0,m.assertNotEmpty)(e.data)),rootHash:(0,S.fromHex)((0,m.assertNotEmpty)(e.root_hash)),proof:{total:(0,A.apiToSmallInt)((0,m.assertNotEmpty)(e.proof.total)),index:(0,A.apiToSmallInt)((0,m.assertNotEmpty)(e.proof.index)),leafHash:(0,S.fromBase64)((0,m.assertNotEmpty)(e.proof.leaf_hash)),aunts:(0,m.assertArray)(e.proof.aunts).map(S.fromBase64)}}}function kc(e){return{tx:(0,S.fromBase64)((0,m.assertNotEmpty)(e.tx)),result:hn((0,m.assertObject)(e.tx_result)),height:(0,A.apiToSmallInt)((0,m.assertNotEmpty)(e.height)),index:(0,A.apiToSmallInt)((0,m.assertNumber)(e.index)),hash:(0,S.fromHex)((0,m.assertNotEmpty)(e.hash)),proof:(0,m.may)(Bg,e.proof)}}function Rg(e){return{totalCount:(0,A.apiToSmallInt)((0,m.assertNotEmpty)(e.total_count)),txs:(0,m.assertArray)(e.txs).map(kc)}}function Ig(e){const t=(0,S.fromBase64)((0,m.assertNotEmpty)(e.tx));return{tx:t,hash:(0,dg.hashTx)(t),result:hn(e.result),height:(0,A.apiToSmallInt)((0,m.assertNotEmpty)(e.height))}}function $g(e){return{blockHeight:(0,A.apiToSmallInt)((0,m.assertNotEmpty)(e.block_height)),validators:(0,m.assertArray)(e.validators).map(ni),count:(0,A.apiToSmallInt)((0,m.assertNotEmpty)(e.count)),total:(0,A.apiToSmallInt)((0,m.assertNotEmpty)(e.total))}}function _c(e){var t;return{header:Uo((0,m.assertObject)(e.header)),lastCommit:e.last_commit.block_id.hash?vc((0,m.assertObject)(e.last_commit)):null,txs:e.data.txs?(0,m.assertArray)(e.data.txs).map(S.fromBase64):[],evidence:((t=e.evidence)==null?void 0:t.evidence)??[]}}function Sc(e){return{blockId:Do(e.block_id),block:_c(e.block)}}function Ng(e){return{totalCount:(0,A.apiToSmallInt)((0,m.assertNotEmpty)(e.total_count)),blocks:(0,m.assertArray)(e.blocks).map(Sc)}}function xg(e){return{total:(0,A.apiToSmallInt)((0,m.assertNotEmpty)(e.total)),totalBytes:(0,A.apiToSmallInt)((0,m.assertNotEmpty)(e.total_bytes))}}let Dg=class Pc{static decodeAbciInfo(t){return mg((0,m.assertObject)(t.result.response))}static decodeAbciQuery(t){return hg((0,m.assertObject)(t.result.response))}static decodeBlock(t){return Sc(t.result)}static decodeBlockResults(t){return vg(t.result)}static decodeBlockSearch(t){return Ng(t.result)}static decodeBlockchain(t){return _g(t.result)}static decodeBroadcastTxSync(t){return Sg(t.result)}static decodeBroadcastTxAsync(t){return Pc.decodeBroadcastTxSync(t)}static decodeBroadcastTxCommit(t){return Pg(t.result)}static decodeCommit(t){return Eg(t.result)}static decodeGenesis(t){return Cg((0,m.assertObject)(t.result.genesis))}static decodeHealth(){return null}static decodeNumUnconfirmedTxs(t){return xg(t.result)}static decodeStatus(t){return Og(t.result)}static decodeNewBlockEvent(t){return _c(t.data.value.block)}static decodeNewBlockHeaderEvent(t){return Uo(t.data.value.header)}static decodeTxEvent(t){return Ig(t.data.value.TxResult)}static decodeTx(t){return kc(t.result)}static decodeTxSearch(t){return Rg(t.result)}static decodeValidators(t){return $g(t.result)}};Ne.Responses=Dg;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Responses=e.Params=void 0;var t=xo;Object.defineProperty(e,"Params",{enumerable:!0,get:function(){return t.Params}});var n=Ne;Object.defineProperty(e,"Responses",{enumerable:!0,get:function(){return n.Responses}})})(hc);var Ug=u.commonjsGlobal&&u.commonjsGlobal.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),qg=u.commonjsGlobal&&u.commonjsGlobal.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Hg=u.commonjsGlobal&&u.commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&Ug(t,e,n);return qg(t,e),t};Object.defineProperty(No,"__esModule",{value:!0});No.Tendermint34Client=void 0;const Vg=st,kr=Yn,O=hc,J=Hg($o);class $r{static async connect(t){let n;return typeof t=="object"?n=new kr.HttpClient(t):n=t.startsWith("http://")||t.startsWith("https://")?new kr.HttpClient(t):new kr.WebsocketClient(t),await this.detectVersion(n),$r.create(n)}static async create(t){return new $r(t)}static async detectVersion(t){const n=(0,Vg.createJsonRpcRequest)(J.Method.Status),o=(await t.execute(n)).result;if(!o||!o.node_info)throw new Error("Unrecognized format for status response");const s=o.node_info.version;if(typeof s!="string")throw new Error("Unrecognized version format: must be string");return s}constructor(t){this.client=t}disconnect(){this.client.disconnect()}async abciInfo(){const t={method:J.Method.AbciInfo};return this.doCall(t,O.Params.encodeAbciInfo,O.Responses.decodeAbciInfo)}async abciQuery(t){const n={params:t,method:J.Method.AbciQuery};return this.doCall(n,O.Params.encodeAbciQuery,O.Responses.decodeAbciQuery)}async block(t){const n={method:J.Method.Block,params:{height:t}};return this.doCall(n,O.Params.encodeBlock,O.Responses.decodeBlock)}async blockResults(t){const n={method:J.Method.BlockResults,params:{height:t}};return this.doCall(n,O.Params.encodeBlockResults,O.Responses.decodeBlockResults)}async blockSearch(t){const n={params:t,method:J.Method.BlockSearch},r=await this.doCall(n,O.Params.encodeBlockSearch,O.Responses.decodeBlockSearch);return{...r,blocks:[...r.blocks].sort((o,s)=>o.block.header.height-s.block.header.height)}}async blockSearchAll(t){let n=t.page||1;const r=[];let o=!1;for(;!o;){const s=await this.blockSearch({...t,page:n});r.push(...s.blocks),r.length<s.totalCount?n++:o=!0}return r.sort((s,i)=>s.block.header.height-i.block.header.height),{totalCount:r.length,blocks:r}}async blockchain(t,n){const r={method:J.Method.Blockchain,params:{minHeight:t,maxHeight:n}};return this.doCall(r,O.Params.encodeBlockchain,O.Responses.decodeBlockchain)}async broadcastTxSync(t){const n={params:t,method:J.Method.BroadcastTxSync};return this.doCall(n,O.Params.encodeBroadcastTx,O.Responses.decodeBroadcastTxSync)}async broadcastTxAsync(t){const n={params:t,method:J.Method.BroadcastTxAsync};return this.doCall(n,O.Params.encodeBroadcastTx,O.Responses.decodeBroadcastTxAsync)}async broadcastTxCommit(t){const n={params:t,method:J.Method.BroadcastTxCommit};return this.doCall(n,O.Params.encodeBroadcastTx,O.Responses.decodeBroadcastTxCommit)}async commit(t){const n={method:J.Method.Commit,params:{height:t}};return this.doCall(n,O.Params.encodeCommit,O.Responses.decodeCommit)}async genesis(){const t={method:J.Method.Genesis};return this.doCall(t,O.Params.encodeGenesis,O.Responses.decodeGenesis)}async health(){const t={method:J.Method.Health};return this.doCall(t,O.Params.encodeHealth,O.Responses.decodeHealth)}async numUnconfirmedTxs(){const t={method:J.Method.NumUnconfirmedTxs};return this.doCall(t,O.Params.encodeNumUnconfirmedTxs,O.Responses.decodeNumUnconfirmedTxs)}async status(){const t={method:J.Method.Status};return this.doCall(t,O.Params.encodeStatus,O.Responses.decodeStatus)}subscribeNewBlock(){const t={method:J.Method.Subscribe,query:{type:J.SubscriptionEventType.NewBlock}};return this.subscribe(t,O.Responses.decodeNewBlockEvent)}subscribeNewBlockHeader(){const t={method:J.Method.Subscribe,query:{type:J.SubscriptionEventType.NewBlockHeader}};return this.subscribe(t,O.Responses.decodeNewBlockHeaderEvent)}subscribeTx(t){const n={method:J.Method.Subscribe,query:{type:J.SubscriptionEventType.Tx,raw:t}};return this.subscribe(n,O.Responses.decodeTxEvent)}async tx(t){const n={params:t,method:J.Method.Tx};return this.doCall(n,O.Params.encodeTx,O.Responses.decodeTx)}async txSearch(t){const n={params:t,method:J.Method.TxSearch};return this.doCall(n,O.Params.encodeTxSearch,O.Responses.decodeTxSearch)}async txSearchAll(t){let n=t.page||1;const r=[];let o=!1;for(;!o;){const s=await this.txSearch({...t,page:n});r.push(...s.txs),r.length<s.totalCount?n++:o=!0}return{totalCount:r.length,txs:r}}async validators(t){const n={method:J.Method.Validators,params:t};return this.doCall(n,O.Params.encodeValidators,O.Responses.decodeValidators)}async validatorsAll(t){const n=[];let r=1,o=!1,s=t;for(;!o;){const i=await this.validators({per_page:50,height:s,page:r});n.push(...i.validators),s=s||i.blockHeight,n.length<i.total?r++:o=!0}return{blockHeight:s??0,count:n.length,total:n.length,validators:n}}async doCall(t,n,r){const o=n(t),s=await this.client.execute(o);return r(s)}subscribe(t,n){if(!(0,kr.instanceOfRpcStreamingClient)(this.client))throw new Error("This RPC client type cannot subscribe to events");const r=O.Params.encodeSubscribe(t);return this.client.listen(r).map(s=>n(s))}}No.Tendermint34Client=$r;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Tendermint34Client=e.VoteType=e.broadcastTxSyncSuccess=e.broadcastTxCommitSuccess=e.SubscriptionEventType=e.Method=void 0;var t=$o;Object.defineProperty(e,"Method",{enumerable:!0,get:function(){return t.Method}}),Object.defineProperty(e,"SubscriptionEventType",{enumerable:!0,get:function(){return t.SubscriptionEventType}});var n=fc;Object.defineProperty(e,"broadcastTxCommitSuccess",{enumerable:!0,get:function(){return n.broadcastTxCommitSuccess}}),Object.defineProperty(e,"broadcastTxSyncSuccess",{enumerable:!0,get:function(){return n.broadcastTxSyncSuccess}}),Object.defineProperty(e,"VoteType",{enumerable:!0,get:function(){return n.VoteType}});var r=No;Object.defineProperty(e,"Tendermint34Client",{enumerable:!0,get:function(){return r.Tendermint34Client}})})(Dn);var Nr={},qo={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.buildQuery=e.SubscriptionEventType=e.Method=void 0,function(n){n.AbciInfo="abci_info",n.AbciQuery="abci_query",n.Block="block",n.Blockchain="blockchain",n.BlockResults="block_results",n.BlockSearch="block_search",n.BroadcastTxAsync="broadcast_tx_async",n.BroadcastTxSync="broadcast_tx_sync",n.BroadcastTxCommit="broadcast_tx_commit",n.Commit="commit",n.Genesis="genesis",n.Health="health",n.NumUnconfirmedTxs="num_unconfirmed_txs",n.Status="status",n.Subscribe="subscribe",n.Tx="tx",n.TxSearch="tx_search",n.Validators="validators",n.Unsubscribe="unsubscribe"}(e.Method||(e.Method={})),function(n){n.NewBlock="NewBlock",n.NewBlockHeader="NewBlockHeader",n.Tx="Tx"}(e.SubscriptionEventType||(e.SubscriptionEventType={}));function t(n){const o=(n.tags?n.tags:[]).map(i=>`${i.key}='${i.value}'`),s=n.raw?[n.raw]:[];return[...o,...s].join(" AND ")}e.buildQuery=t})(qo);var Ac={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.VoteType=e.broadcastTxCommitSuccess=e.broadcastTxSyncSuccess=void 0;function t(r){return r.code===0}e.broadcastTxSyncSuccess=t;function n(r){return r.checkTx.code===0&&!!r.deliverTx&&r.deliverTx.code===0}e.broadcastTxCommitSuccess=n,function(r){r[r.PreVote=1]="PreVote",r[r.PreCommit=2]="PreCommit"}(e.VoteType||(e.VoteType={}))})(Ac);var Ho={},Tc={},Vo={},N={};Object.defineProperty(N,"__esModule",{value:!0});N.encodeBlockId=N.encodeVersion=N.encodeBytes=N.encodeTime=N.encodeUvarint=N.encodeString=N.dictionaryToStringMap=N.may=N.assertNotEmpty=N.assertObject=N.assertArray=N.assertNumber=N.assertString=N.assertBoolean=N.assertSet=void 0;const Gg=x;function Rt(e){if(e===void 0)throw new Error("Value must not be undefined");if(e===null)throw new Error("Value must not be null");return e}N.assertSet=Rt;function Fg(e){if(Rt(e),typeof e!="boolean")throw new Error("Value must be a boolean");return e}N.assertBoolean=Fg;function Wg(e){if(Rt(e),typeof e!="string")throw new Error("Value must be a string");return e}N.assertString=Wg;function Jg(e){if(Rt(e),typeof e!="number")throw new Error("Value must be a number");return e}N.assertNumber=Jg;function Lg(e){if(Rt(e),!Array.isArray(e))throw new Error("Value must be a an array");return e}N.assertArray=Lg;function zg(e){if(Rt(e),typeof e!="object")throw new Error("Value must be an object");if(Object.prototype.toString.call(e)!=="[object Object]")throw new Error("Value must be a simple object");return e}N.assertObject=zg;function Kg(e){if(Rt(e),typeof e=="number"&&e===0)throw new Error("must provide a non-zero value");if(e.length===0)throw new Error("must provide a non-empty value");return e}N.assertNotEmpty=Kg;function Qg(e,t){return t==null?void 0:e(t)}N.may=Qg;function Zg(e){const t=new Map;for(const n of Object.keys(e)){const r=e[n];if(typeof r!="string")throw new Error("Found dictionary value of type other than string");t.set(n,r)}return t}N.dictionaryToStringMap=Zg;function Xg(e){const t=(0,Gg.toUtf8)(e);return Uint8Array.from([t.length,...t])}N.encodeString=Xg;function pn(e){return e>=128?Uint8Array.from([e&255|128,...pn(e>>7)]):Uint8Array.from([e&255])}N.encodeUvarint=pn;function Yg(e){const t=e.getTime(),n=Math.floor(t/1e3),r=n?[8,...pn(n)]:new Uint8Array,o=(e.nanoseconds||0)+t%1e3*1e6,s=o?[16,...pn(o)]:new Uint8Array;return Uint8Array.from([...r,...s])}N.encodeTime=Yg;function ey(e){if(e.length>=128)throw new Error("Not implemented for byte arrays of length 128 or more");return e.length?Uint8Array.from([e.length,...e]):new Uint8Array}N.encodeBytes=ey;function ty(e){const t=e.block?Uint8Array.from([8,...pn(e.block)]):new Uint8Array,n=e.app?Uint8Array.from([16,...pn(e.app)]):new Uint8Array;return Uint8Array.from([...t,...n])}N.encodeVersion=ty;function ny(e){return Uint8Array.from([10,e.hash.length,...e.hash,18,e.parts.hash.length+4,8,e.parts.total,18,e.parts.hash.length,...e.parts.hash])}N.encodeBlockId=ny;var ry=u.commonjsGlobal&&u.commonjsGlobal.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),oy=u.commonjsGlobal&&u.commonjsGlobal.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),sy=u.commonjsGlobal&&u.commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&ry(t,e,n);return oy(t,e),t};Object.defineProperty(Vo,"__esModule",{value:!0});Vo.Params=void 0;const ri=x,Ge=Te,re=st,ke=N,iy=sy(qo);function cs(e){return{height:(0,ke.may)(Ge.smallIntToApi,e.height)}}function ay(e){return{minHeight:(0,ke.may)(Ge.smallIntToApi,e.minHeight),maxHeight:(0,ke.may)(Ge.smallIntToApi,e.maxHeight)}}function cy(e){return{query:e.query,page:(0,ke.may)(Ge.smallIntToApi,e.page),per_page:(0,ke.may)(Ge.smallIntToApi,e.per_page),order_by:e.order_by}}function uy(e){return{path:(0,ke.assertNotEmpty)(e.path),data:(0,ri.toHex)(e.data),height:(0,ke.may)(Ge.smallIntToApi,e.height),prove:e.prove}}function ly(e){return{tx:(0,ri.toBase64)((0,ke.assertNotEmpty)(e.tx))}}function dy(e){return{hash:(0,ri.toBase64)((0,ke.assertNotEmpty)(e.hash)),prove:e.prove}}function my(e){return{query:e.query,prove:e.prove,page:(0,ke.may)(Ge.smallIntToApi,e.page),per_page:(0,ke.may)(Ge.smallIntToApi,e.per_page),order_by:e.order_by}}function fy(e){return{height:(0,ke.may)(Ge.smallIntToApi,e.height),page:(0,ke.may)(Ge.smallIntToApi,e.page),per_page:(0,ke.may)(Ge.smallIntToApi,e.per_page)}}class hy{static encodeAbciInfo(t){return(0,re.createJsonRpcRequest)(t.method)}static encodeAbciQuery(t){return(0,re.createJsonRpcRequest)(t.method,uy(t.params))}static encodeBlock(t){return(0,re.createJsonRpcRequest)(t.method,cs(t.params))}static encodeBlockchain(t){return(0,re.createJsonRpcRequest)(t.method,ay(t.params))}static encodeBlockResults(t){return(0,re.createJsonRpcRequest)(t.method,cs(t.params))}static encodeBlockSearch(t){return(0,re.createJsonRpcRequest)(t.method,cy(t.params))}static encodeBroadcastTx(t){return(0,re.createJsonRpcRequest)(t.method,ly(t.params))}static encodeCommit(t){return(0,re.createJsonRpcRequest)(t.method,cs(t.params))}static encodeGenesis(t){return(0,re.createJsonRpcRequest)(t.method)}static encodeHealth(t){return(0,re.createJsonRpcRequest)(t.method)}static encodeNumUnconfirmedTxs(t){return(0,re.createJsonRpcRequest)(t.method)}static encodeStatus(t){return(0,re.createJsonRpcRequest)(t.method)}static encodeSubscribe(t){const n={key:"tm.event",value:t.query.type},r=iy.buildQuery({tags:[n],raw:t.query.raw});return(0,re.createJsonRpcRequest)("subscribe",{query:r})}static encodeTx(t){return(0,re.createJsonRpcRequest)(t.method,dy(t.params))}static encodeTxSearch(t){return(0,re.createJsonRpcRequest)(t.method,my(t.params))}static encodeValidators(t){return(0,re.createJsonRpcRequest)(t.method,fy(t.params))}}Vo.Params=hy;var xe={},gn={};Object.defineProperty(gn,"__esModule",{value:!0});gn.hashBlock=gn.hashTx=void 0;const oi=_e,me=N;function py(e){return(0,oi.sha256)(e)}gn.hashTx=py;function gy(e){if(e<1)throw new Error("Cannot split an empty tree");const t=2**Math.floor(Math.log2(e));return t<e?t:t/2}function yy(e){const t=new oi.Sha256(Uint8Array.from([0]));return t.update(e),t.digest()}function by(e,t){const n=new oi.Sha256(Uint8Array.from([1]));return n.update(e),n.update(t),n.digest()}function Ms(e){switch(e.length){case 0:throw new Error("Cannot hash empty tree");case 1:return yy(e[0]);default:{const t=gy(e.length),n=Ms(e.slice(0,t)),r=Ms(e.slice(t));return by(n,r)}}}function vy(e){if(!e.lastBlockId)throw new Error("Hashing a block header with no last block ID (i.e. header at height 1) is not supported. If you need this, contributions are welcome. Please add documentation and test vectors for this case.");const t=[(0,me.encodeVersion)(e.version),(0,me.encodeString)(e.chainId),(0,me.encodeUvarint)(e.height),(0,me.encodeTime)(e.time),(0,me.encodeBlockId)(e.lastBlockId),(0,me.encodeBytes)(e.lastCommitHash),(0,me.encodeBytes)(e.dataHash),(0,me.encodeBytes)(e.validatorsHash),(0,me.encodeBytes)(e.nextValidatorsHash),(0,me.encodeBytes)(e.consensusHash),(0,me.encodeBytes)(e.appHash),(0,me.encodeBytes)(e.lastResultsHash),(0,me.encodeBytes)(e.evidenceHash),(0,me.encodeBytes)(e.proposerAddress)];return Ms(t)}gn.hashBlock=vy;Object.defineProperty(xe,"__esModule",{value:!0});xe.Responses=xe.decodeValidatorInfo=xe.decodeValidatorGenesis=xe.decodeValidatorUpdate=xe.decodeEvent=void 0;const C=x,Ec=X,Fn=ie,T=Te,wy=rr,f=N,ky=gn;function _y(e){return{data:e.data,lastBlockHeight:(0,f.may)(T.apiToSmallInt,e.last_block_height),lastBlockAppHash:(0,f.may)(C.fromBase64,e.last_block_app_hash)}}function Sy(e){return{ops:e.ops.map(t=>({type:t.type,key:(0,C.fromBase64)(t.key),data:(0,C.fromBase64)(t.data)}))}}function Py(e){return{key:(0,C.fromBase64)((0,f.assertString)(e.key??"")),value:(0,C.fromBase64)((0,f.assertString)(e.value??"")),proof:(0,f.may)(Sy,e.proofOps),height:(0,f.may)(T.apiToSmallInt,e.height),code:(0,f.may)(T.apiToSmallInt,e.code),codespace:(0,f.assertString)(e.codespace??""),index:(0,f.may)(T.apiToSmallInt,e.index),log:e.log,info:(0,f.assertString)(e.info??"")}}function Ay(e){return{key:(0,f.assertNotEmpty)(e.key),value:e.value??""}}function Ty(e){return(0,f.assertArray)(e).map(Ay)}function Cc(e){return{type:e.type,attributes:e.attributes?Ty(e.attributes):[]}}xe.decodeEvent=Cc;function Os(e){return(0,f.assertArray)(e).map(Cc)}function yn(e){return{code:(0,T.apiToSmallInt)((0,f.assertNumber)(e.code??0)),codespace:e.codespace,log:e.log,data:(0,f.may)(C.fromBase64,e.data),events:e.events?Os(e.events):[],gasWanted:(0,T.apiToBigInt)(e.gas_wanted??"0"),gasUsed:(0,T.apiToBigInt)(e.gas_used??"0")}}function si(e){if("Sum"in e){const[[t,n]]=Object.entries(e.Sum.value);return(0,Ec.assert)(t==="ed25519"||t==="secp256k1",`unknown pubkey type: ${t}`),{algorithm:t,data:(0,C.fromBase64)((0,f.assertNotEmpty)(n))}}else switch(e.type){case"tendermint/PubKeyEd25519":return{algorithm:"ed25519",data:(0,C.fromBase64)((0,f.assertNotEmpty)(e.value))};case"tendermint/PubKeySecp256k1":return{algorithm:"secp256k1",data:(0,C.fromBase64)((0,f.assertNotEmpty)(e.value))};default:throw new Error(`unknown pubkey type: ${e.type}`)}}function Ey(e){return{maxBytes:(0,T.apiToSmallInt)((0,f.assertNotEmpty)(e.max_bytes)),maxGas:(0,T.apiToSmallInt)((0,f.assertNotEmpty)(e.max_gas))}}function Cy(e){return{maxAgeNumBlocks:(0,T.apiToSmallInt)((0,f.assertNotEmpty)(e.max_age_num_blocks)),maxAgeDuration:(0,T.apiToSmallInt)((0,f.assertNotEmpty)(e.max_age_duration))}}function jc(e){return{block:Ey((0,f.assertObject)(e.block)),evidence:Cy((0,f.assertObject)(e.evidence))}}function Mc(e){return{pubkey:si((0,f.assertObject)(e.pub_key)),votingPower:(0,T.apiToBigInt)(e.power??"0")}}xe.decodeValidatorUpdate=Mc;function jy(e){return{height:(0,T.apiToSmallInt)((0,f.assertNotEmpty)(e.height)),results:(e.txs_results||[]).map(yn),validatorUpdates:(e.validator_updates||[]).map(Mc),consensusUpdates:(0,f.may)(jc,e.consensus_param_updates),beginBlockEvents:Os(e.begin_block_events||[]),endBlockEvents:Os(e.end_block_events||[])}}function Go(e){return{hash:(0,C.fromHex)((0,f.assertNotEmpty)(e.hash)),parts:{total:(0,f.assertNotEmpty)(e.parts.total),hash:(0,C.fromHex)((0,f.assertNotEmpty)(e.parts.hash))}}}function My(e){return{block:(0,T.apiToSmallInt)(e.block),app:(0,T.apiToSmallInt)(e.app??0)}}function Fo(e){return{version:My(e.version),chainId:(0,f.assertNotEmpty)(e.chain_id),height:(0,T.apiToSmallInt)((0,f.assertNotEmpty)(e.height)),time:(0,Fn.fromRfc3339WithNanoseconds)((0,f.assertNotEmpty)(e.time)),lastBlockId:e.last_block_id.hash?Go(e.last_block_id):null,lastCommitHash:(0,C.fromHex)((0,f.assertSet)(e.last_commit_hash)),dataHash:(0,C.fromHex)((0,f.assertSet)(e.data_hash)),validatorsHash:(0,C.fromHex)((0,f.assertSet)(e.validators_hash)),nextValidatorsHash:(0,C.fromHex)((0,f.assertSet)(e.next_validators_hash)),consensusHash:(0,C.fromHex)((0,f.assertSet)(e.consensus_hash)),appHash:(0,C.fromHex)((0,f.assertSet)(e.app_hash)),lastResultsHash:(0,C.fromHex)((0,f.assertSet)(e.last_results_hash)),evidenceHash:(0,C.fromHex)((0,f.assertSet)(e.evidence_hash)),proposerAddress:(0,C.fromHex)((0,f.assertNotEmpty)(e.proposer_address))}}function Oy(e){return{blockId:Go(e.block_id),blockSize:(0,T.apiToSmallInt)((0,f.assertNotEmpty)(e.block_size)),header:Fo(e.header),numTxs:(0,T.apiToSmallInt)((0,f.assertNotEmpty)(e.num_txs))}}function By(e){return{lastHeight:(0,T.apiToSmallInt)((0,f.assertNotEmpty)(e.last_height)),blockMetas:(0,f.assertArray)(e.block_metas).map(Oy)}}function Ry(e){return{...yn(e),hash:(0,C.fromHex)((0,f.assertNotEmpty)(e.hash))}}function Iy(e){return{height:(0,T.apiToSmallInt)(e.height),hash:(0,C.fromHex)((0,f.assertNotEmpty)(e.hash)),checkTx:yn((0,f.assertObject)(e.check_tx)),deliverTx:(0,f.may)(yn,e.deliver_tx)}}function $y(e){return(0,Ec.assert)(e in wy.BlockIdFlag),e}function Ny(e){return{blockIdFlag:$y(e.block_id_flag),validatorAddress:e.validator_address?(0,C.fromHex)(e.validator_address):void 0,timestamp:e.timestamp?(0,Fn.fromRfc3339WithNanoseconds)(e.timestamp):void 0,signature:e.signature?(0,C.fromBase64)(e.signature):void 0}}function Oc(e){return{blockId:Go((0,f.assertObject)(e.block_id)),height:(0,T.apiToSmallInt)((0,f.assertNotEmpty)(e.height)),round:(0,T.apiToSmallInt)(e.round),signatures:(0,f.assertArray)(e.signatures).map(Ny)}}function xy(e){return{canonical:(0,f.assertBoolean)(e.canonical),header:Fo(e.signed_header.header),commit:Oc(e.signed_header.commit)}}function Bc(e){return{address:(0,C.fromHex)((0,f.assertNotEmpty)(e.address)),pubkey:si((0,f.assertObject)(e.pub_key)),votingPower:(0,T.apiToBigInt)((0,f.assertNotEmpty)(e.power))}}xe.decodeValidatorGenesis=Bc;function Dy(e){return{genesisTime:(0,Fn.fromRfc3339WithNanoseconds)((0,f.assertNotEmpty)(e.genesis_time)),chainId:(0,f.assertNotEmpty)(e.chain_id),consensusParams:jc(e.consensus_params),validators:e.validators?(0,f.assertArray)(e.validators).map(Bc):[],appHash:(0,C.fromHex)((0,f.assertSet)(e.app_hash)),appState:e.app_state}}function ii(e){return{pubkey:si((0,f.assertObject)(e.pub_key)),votingPower:(0,T.apiToBigInt)((0,f.assertNotEmpty)(e.voting_power)),address:(0,C.fromHex)((0,f.assertNotEmpty)(e.address)),proposerPriority:e.proposer_priority?(0,T.apiToSmallInt)(e.proposer_priority):void 0}}xe.decodeValidatorInfo=ii;function Uy(e){return{id:(0,C.fromHex)((0,f.assertNotEmpty)(e.id)),listenAddr:(0,f.assertNotEmpty)(e.listen_addr),network:(0,f.assertNotEmpty)(e.network),version:(0,f.assertString)(e.version),channels:(0,f.assertNotEmpty)(e.channels),moniker:(0,f.assertNotEmpty)(e.moniker),other:(0,f.dictionaryToStringMap)(e.other),protocolVersion:{app:(0,T.apiToSmallInt)((0,f.assertNotEmpty)(e.protocol_version.app)),block:(0,T.apiToSmallInt)((0,f.assertNotEmpty)(e.protocol_version.block)),p2p:(0,T.apiToSmallInt)((0,f.assertNotEmpty)(e.protocol_version.p2p))}}}function qy(e){const t=e.earliest_block_height?(0,T.apiToSmallInt)(e.earliest_block_height):void 0,n=e.earliest_block_time?(0,Fn.fromRfc3339WithNanoseconds)(e.earliest_block_time):void 0;return{earliestAppHash:e.earliest_app_hash?(0,C.fromHex)(e.earliest_app_hash):void 0,earliestBlockHash:e.earliest_block_hash?(0,C.fromHex)(e.earliest_block_hash):void 0,earliestBlockHeight:t||void 0,earliestBlockTime:n!=null&&n.getTime()?n:void 0,latestBlockHash:(0,C.fromHex)((0,f.assertNotEmpty)(e.latest_block_hash)),latestAppHash:(0,C.fromHex)((0,f.assertNotEmpty)(e.latest_app_hash)),latestBlockTime:(0,Fn.fromRfc3339WithNanoseconds)((0,f.assertNotEmpty)(e.latest_block_time)),latestBlockHeight:(0,T.apiToSmallInt)((0,f.assertNotEmpty)(e.latest_block_height)),catchingUp:(0,f.assertBoolean)(e.catching_up)}}function Hy(e){return{nodeInfo:Uy(e.node_info),syncInfo:qy(e.sync_info),validatorInfo:ii(e.validator_info)}}function Vy(e){return{data:(0,C.fromBase64)((0,f.assertNotEmpty)(e.data)),rootHash:(0,C.fromHex)((0,f.assertNotEmpty)(e.root_hash)),proof:{total:(0,T.apiToSmallInt)((0,f.assertNotEmpty)(e.proof.total)),index:(0,T.apiToSmallInt)((0,f.assertNotEmpty)(e.proof.index)),leafHash:(0,C.fromBase64)((0,f.assertNotEmpty)(e.proof.leaf_hash)),aunts:(0,f.assertArray)(e.proof.aunts).map(C.fromBase64)}}}function Rc(e){return{tx:(0,C.fromBase64)((0,f.assertNotEmpty)(e.tx)),result:yn((0,f.assertObject)(e.tx_result)),height:(0,T.apiToSmallInt)((0,f.assertNotEmpty)(e.height)),index:(0,T.apiToSmallInt)((0,f.assertNumber)(e.index)),hash:(0,C.fromHex)((0,f.assertNotEmpty)(e.hash)),proof:(0,f.may)(Vy,e.proof)}}function Gy(e){return{totalCount:(0,T.apiToSmallInt)((0,f.assertNotEmpty)(e.total_count)),txs:(0,f.assertArray)(e.txs).map(Rc)}}function Fy(e){const t=(0,C.fromBase64)((0,f.assertNotEmpty)(e.tx));return{tx:t,hash:(0,ky.hashTx)(t),result:yn(e.result),height:(0,T.apiToSmallInt)((0,f.assertNotEmpty)(e.height))}}function Wy(e){return{blockHeight:(0,T.apiToSmallInt)((0,f.assertNotEmpty)(e.block_height)),validators:(0,f.assertArray)(e.validators).map(ii),count:(0,T.apiToSmallInt)((0,f.assertNotEmpty)(e.count)),total:(0,T.apiToSmallInt)((0,f.assertNotEmpty)(e.total))}}function Ic(e){var t;return{header:Fo((0,f.assertObject)(e.header)),lastCommit:e.last_commit.block_id.hash?Oc((0,f.assertObject)(e.last_commit)):null,txs:e.data.txs?(0,f.assertArray)(e.data.txs).map(C.fromBase64):[],evidence:((t=e.evidence)==null?void 0:t.evidence)??[]}}function $c(e){return{blockId:Go(e.block_id),block:Ic(e.block)}}function Jy(e){return{totalCount:(0,T.apiToSmallInt)((0,f.assertNotEmpty)(e.total_count)),blocks:(0,f.assertArray)(e.blocks).map($c)}}function Ly(e){return{total:(0,T.apiToSmallInt)((0,f.assertNotEmpty)(e.total)),totalBytes:(0,T.apiToSmallInt)((0,f.assertNotEmpty)(e.total_bytes))}}class ai{static decodeAbciInfo(t){return _y((0,f.assertObject)(t.result.response))}static decodeAbciQuery(t){return Py((0,f.assertObject)(t.result.response))}static decodeBlock(t){return $c(t.result)}static decodeBlockResults(t){return jy(t.result)}static decodeBlockSearch(t){return Jy(t.result)}static decodeBlockchain(t){return By(t.result)}static decodeBroadcastTxSync(t){return Ry(t.result)}static decodeBroadcastTxAsync(t){return ai.decodeBroadcastTxSync(t)}static decodeBroadcastTxCommit(t){return Iy(t.result)}static decodeCommit(t){return xy(t.result)}static decodeGenesis(t){return Dy((0,f.assertObject)(t.result.genesis))}static decodeHealth(){return null}static decodeNumUnconfirmedTxs(t){return Ly(t.result)}static decodeStatus(t){return Hy(t.result)}static decodeNewBlockEvent(t){return Ic(t.data.value.block)}static decodeNewBlockHeaderEvent(t){return Fo(t.data.value.header)}static decodeTxEvent(t){return Fy(t.data.value.TxResult)}static decodeTx(t){return Rc(t.result)}static decodeTxSearch(t){return Gy(t.result)}static decodeValidators(t){return Wy(t.result)}}xe.Responses=ai;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Responses=e.Params=void 0;var t=Vo;Object.defineProperty(e,"Params",{enumerable:!0,get:function(){return t.Params}});var n=xe;Object.defineProperty(e,"Responses",{enumerable:!0,get:function(){return n.Responses}})})(Tc);var zy=u.commonjsGlobal&&u.commonjsGlobal.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Ky=u.commonjsGlobal&&u.commonjsGlobal.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Qy=u.commonjsGlobal&&u.commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&zy(t,e,n);return Ky(t,e),t};Object.defineProperty(Ho,"__esModule",{value:!0});Ho.Tendermint37Client=void 0;const Zy=st,_r=Yn,B=Tc,L=Qy(qo);class xr{static async connect(t){let n;return typeof t=="object"?n=new _r.HttpClient(t):n=t.startsWith("http://")||t.startsWith("https://")?new _r.HttpClient(t):new _r.WebsocketClient(t),await this.detectVersion(n),xr.create(n)}static async create(t){return new xr(t)}static async detectVersion(t){const n=(0,Zy.createJsonRpcRequest)(L.Method.Status),o=(await t.execute(n)).result;if(!o||!o.node_info)throw new Error("Unrecognized format for status response");const s=o.node_info.version;if(typeof s!="string")throw new Error("Unrecognized version format: must be string");return s}constructor(t){this.client=t}disconnect(){this.client.disconnect()}async abciInfo(){const t={method:L.Method.AbciInfo};return this.doCall(t,B.Params.encodeAbciInfo,B.Responses.decodeAbciInfo)}async abciQuery(t){const n={params:t,method:L.Method.AbciQuery};return this.doCall(n,B.Params.encodeAbciQuery,B.Responses.decodeAbciQuery)}async block(t){const n={method:L.Method.Block,params:{height:t}};return this.doCall(n,B.Params.encodeBlock,B.Responses.decodeBlock)}async blockResults(t){const n={method:L.Method.BlockResults,params:{height:t}};return this.doCall(n,B.Params.encodeBlockResults,B.Responses.decodeBlockResults)}async blockSearch(t){const n={params:t,method:L.Method.BlockSearch},r=await this.doCall(n,B.Params.encodeBlockSearch,B.Responses.decodeBlockSearch);return{...r,blocks:[...r.blocks].sort((o,s)=>o.block.header.height-s.block.header.height)}}async blockSearchAll(t){let n=t.page||1;const r=[];let o=!1;for(;!o;){const s=await this.blockSearch({...t,page:n});r.push(...s.blocks),r.length<s.totalCount?n++:o=!0}return r.sort((s,i)=>s.block.header.height-i.block.header.height),{totalCount:r.length,blocks:r}}async blockchain(t,n){const r={method:L.Method.Blockchain,params:{minHeight:t,maxHeight:n}};return this.doCall(r,B.Params.encodeBlockchain,B.Responses.decodeBlockchain)}async broadcastTxSync(t){const n={params:t,method:L.Method.BroadcastTxSync};return this.doCall(n,B.Params.encodeBroadcastTx,B.Responses.decodeBroadcastTxSync)}async broadcastTxAsync(t){const n={params:t,method:L.Method.BroadcastTxAsync};return this.doCall(n,B.Params.encodeBroadcastTx,B.Responses.decodeBroadcastTxAsync)}async broadcastTxCommit(t){const n={params:t,method:L.Method.BroadcastTxCommit};return this.doCall(n,B.Params.encodeBroadcastTx,B.Responses.decodeBroadcastTxCommit)}async commit(t){const n={method:L.Method.Commit,params:{height:t}};return this.doCall(n,B.Params.encodeCommit,B.Responses.decodeCommit)}async genesis(){const t={method:L.Method.Genesis};return this.doCall(t,B.Params.encodeGenesis,B.Responses.decodeGenesis)}async health(){const t={method:L.Method.Health};return this.doCall(t,B.Params.encodeHealth,B.Responses.decodeHealth)}async numUnconfirmedTxs(){const t={method:L.Method.NumUnconfirmedTxs};return this.doCall(t,B.Params.encodeNumUnconfirmedTxs,B.Responses.decodeNumUnconfirmedTxs)}async status(){const t={method:L.Method.Status};return this.doCall(t,B.Params.encodeStatus,B.Responses.decodeStatus)}subscribeNewBlock(){const t={method:L.Method.Subscribe,query:{type:L.SubscriptionEventType.NewBlock}};return this.subscribe(t,B.Responses.decodeNewBlockEvent)}subscribeNewBlockHeader(){const t={method:L.Method.Subscribe,query:{type:L.SubscriptionEventType.NewBlockHeader}};return this.subscribe(t,B.Responses.decodeNewBlockHeaderEvent)}subscribeTx(t){const n={method:L.Method.Subscribe,query:{type:L.SubscriptionEventType.Tx,raw:t}};return this.subscribe(n,B.Responses.decodeTxEvent)}async tx(t){const n={params:t,method:L.Method.Tx};return this.doCall(n,B.Params.encodeTx,B.Responses.decodeTx)}async txSearch(t){const n={params:t,method:L.Method.TxSearch};return this.doCall(n,B.Params.encodeTxSearch,B.Responses.decodeTxSearch)}async txSearchAll(t){let n=t.page||1;const r=[];let o=!1;for(;!o;){const s=await this.txSearch({...t,page:n});r.push(...s.txs),r.length<s.totalCount?n++:o=!0}return{totalCount:r.length,txs:r}}async validators(t){const n={method:L.Method.Validators,params:t};return this.doCall(n,B.Params.encodeValidators,B.Responses.decodeValidators)}async validatorsAll(t){const n=[];let r=1,o=!1,s=t;for(;!o;){const i=await this.validators({per_page:50,height:s,page:r});n.push(...i.validators),s=s||i.blockHeight,n.length<i.total?r++:o=!0}return{blockHeight:s??0,count:n.length,total:n.length,validators:n}}async doCall(t,n,r){const o=n(t),s=await this.client.execute(o);return r(s)}subscribe(t,n){if(!(0,_r.instanceOfRpcStreamingClient)(this.client))throw new Error("This RPC client type cannot subscribe to events");const r=B.Params.encodeSubscribe(t);return this.client.listen(r).map(s=>n(s))}}Ho.Tendermint37Client=xr;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Tendermint37Client=e.VoteType=e.broadcastTxSyncSuccess=e.broadcastTxCommitSuccess=e.SubscriptionEventType=e.Method=void 0;var t=qo;Object.defineProperty(e,"Method",{enumerable:!0,get:function(){return t.Method}}),Object.defineProperty(e,"SubscriptionEventType",{enumerable:!0,get:function(){return t.SubscriptionEventType}});var n=Ac;Object.defineProperty(e,"broadcastTxCommitSuccess",{enumerable:!0,get:function(){return n.broadcastTxCommitSuccess}}),Object.defineProperty(e,"broadcastTxSyncSuccess",{enumerable:!0,get:function(){return n.broadcastTxSyncSuccess}}),Object.defineProperty(e,"VoteType",{enumerable:!0,get:function(){return n.VoteType}});var r=Ho;Object.defineProperty(e,"Tendermint37Client",{enumerable:!0,get:function(){return r.Tendermint37Client}})})(Nr);var Xe={};Object.defineProperty(Xe,"__esModule",{value:!0});Xe.connectComet=Xe.isComet38Client=Xe.isTendermint37Client=Xe.isTendermint34Client=void 0;const Nc=Br,xc=Dn,Dc=Nr;function Xy(e){return e instanceof xc.Tendermint34Client}Xe.isTendermint34Client=Xy;function Yy(e){return e instanceof Dc.Tendermint37Client}Xe.isTendermint37Client=Yy;function eb(e){return e instanceof Nc.Comet38Client}Xe.isComet38Client=eb;async function tb(e){let t;const n=await Dc.Tendermint37Client.connect(e),r=(await n.status()).nodeInfo.version;return r.startsWith("0.37.")?t=n:r.startsWith("0.38.")?(n.disconnect(),t=await Nc.Comet38Client.connect(e)):(n.disconnect(),t=await xc.Tendermint34Client.connect(e)),t}Xe.connectComet=tb;(function(e){var t=u.commonjsGlobal&&u.commonjsGlobal.__createBinding||(Object.create?function(k,G,y,p){p===void 0&&(p=y);var v=Object.getOwnPropertyDescriptor(G,y);(!v||("get"in v?!G.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return G[y]}}),Object.defineProperty(k,p,v)}:function(k,G,y,p){p===void 0&&(p=y),k[p]=G[y]}),n=u.commonjsGlobal&&u.commonjsGlobal.__setModuleDefault||(Object.create?function(k,G){Object.defineProperty(k,"default",{enumerable:!0,value:G})}:function(k,G){k.default=G}),r=u.commonjsGlobal&&u.commonjsGlobal.__importStar||function(k){if(k&&k.__esModule)return k;var G={};if(k!=null)for(var y in k)y!=="default"&&Object.prototype.hasOwnProperty.call(k,y)&&t(G,k,y);return n(G,k),G};Object.defineProperty(e,"__esModule",{value:!0}),e.BlockIdFlag=e.isTendermint37Client=e.isTendermint34Client=e.isComet38Client=e.connectComet=e.Tendermint37Client=e.tendermint37=e.Tendermint34Client=e.tendermint34=e.VoteType=e.SubscriptionEventType=e.Method=e.broadcastTxSyncSuccess=e.broadcastTxCommitSuccess=e.WebsocketClient=e.HttpClient=e.HttpBatchClient=e.Comet38Client=e.comet38=e.toSeconds=e.toRfc3339WithNanoseconds=e.fromSeconds=e.fromRfc3339WithNanoseconds=e.DateTime=e.rawSecp256k1PubkeyToRawAddress=e.rawEd25519PubkeyToRawAddress=e.pubkeyToRawAddress=e.pubkeyToAddress=void 0;var o=Ze;Object.defineProperty(e,"pubkeyToAddress",{enumerable:!0,get:function(){return o.pubkeyToAddress}}),Object.defineProperty(e,"pubkeyToRawAddress",{enumerable:!0,get:function(){return o.pubkeyToRawAddress}}),Object.defineProperty(e,"rawEd25519PubkeyToRawAddress",{enumerable:!0,get:function(){return o.rawEd25519PubkeyToRawAddress}}),Object.defineProperty(e,"rawSecp256k1PubkeyToRawAddress",{enumerable:!0,get:function(){return o.rawSecp256k1PubkeyToRawAddress}});var s=ie;Object.defineProperty(e,"DateTime",{enumerable:!0,get:function(){return s.DateTime}}),Object.defineProperty(e,"fromRfc3339WithNanoseconds",{enumerable:!0,get:function(){return s.fromRfc3339WithNanoseconds}}),Object.defineProperty(e,"fromSeconds",{enumerable:!0,get:function(){return s.fromSeconds}}),Object.defineProperty(e,"toRfc3339WithNanoseconds",{enumerable:!0,get:function(){return s.toRfc3339WithNanoseconds}}),Object.defineProperty(e,"toSeconds",{enumerable:!0,get:function(){return s.toSeconds}}),e.comet38=r(Br);var i=Br;Object.defineProperty(e,"Comet38Client",{enumerable:!0,get:function(){return i.Comet38Client}});var c=Yn;Object.defineProperty(e,"HttpBatchClient",{enumerable:!0,get:function(){return c.HttpBatchClient}}),Object.defineProperty(e,"HttpClient",{enumerable:!0,get:function(){return c.HttpClient}}),Object.defineProperty(e,"WebsocketClient",{enumerable:!0,get:function(){return c.WebsocketClient}});var a=Dn;Object.defineProperty(e,"broadcastTxCommitSuccess",{enumerable:!0,get:function(){return a.broadcastTxCommitSuccess}}),Object.defineProperty(e,"broadcastTxSyncSuccess",{enumerable:!0,get:function(){return a.broadcastTxSyncSuccess}}),Object.defineProperty(e,"Method",{enumerable:!0,get:function(){return a.Method}}),Object.defineProperty(e,"SubscriptionEventType",{enumerable:!0,get:function(){return a.SubscriptionEventType}}),Object.defineProperty(e,"VoteType",{enumerable:!0,get:function(){return a.VoteType}}),e.tendermint34=r(Dn);var l=Dn;Object.defineProperty(e,"Tendermint34Client",{enumerable:!0,get:function(){return l.Tendermint34Client}}),e.tendermint37=r(Nr);var d=Nr;Object.defineProperty(e,"Tendermint37Client",{enumerable:!0,get:function(){return d.Tendermint37Client}});var g=Xe;Object.defineProperty(e,"connectComet",{enumerable:!0,get:function(){return g.connectComet}}),Object.defineProperty(e,"isComet38Client",{enumerable:!0,get:function(){return g.isComet38Client}}),Object.defineProperty(e,"isTendermint34Client",{enumerable:!0,get:function(){return g.isTendermint34Client}}),Object.defineProperty(e,"isTendermint37Client",{enumerable:!0,get:function(){return g.isTendermint37Client}});var j=rr;Object.defineProperty(e,"BlockIdFlag",{enumerable:!0,get:function(){return j.BlockIdFlag}})})(Ws);var Y={};Object.defineProperty(Y,"__esModule",{value:!0});Y.StargateClient=Y.BroadcastTxError=Y.assertIsDeliverTxFailure=Y.assertIsDeliverTxSuccess=Y.isDeliverTxSuccess=Y.isDeliverTxFailure=Y.TimeoutError=void 0;const nb=ot,us=x,Fi=ee,Wi=Ws,Ji=X,rb=u.abci,ob=Wn,sb=Qn,Sr=Hn,ib=ae,ab=Xn;class Uc extends Error{constructor(t,n){super(t),this.txId=n}}Y.TimeoutError=Uc;function ci(e){return!!e.code}Y.isDeliverTxFailure=ci;function qc(e){return!ci(e)}Y.isDeliverTxSuccess=qc;function cb(e){if(ci(e))throw new Error(`Error when broadcasting tx ${e.transactionHash} at height ${e.height}. Code: ${e.code}; Raw log: ${e.rawLog}`)}Y.assertIsDeliverTxSuccess=cb;function ub(e){if(qc(e))throw new Error(`Transaction ${e.transactionHash} did not fail at height ${e.height}. Code: ${e.code}; Raw log: ${e.rawLog}`)}Y.assertIsDeliverTxFailure=ub;class Hc extends Error{constructor(t,n,r){super(`Broadcasting transaction failed with code ${t} (codespace: ${n}). Log: ${r}`),this.code=t,this.codespace=n,this.log=r}}Y.BroadcastTxError=Hc;class Dr{static async connect(t,n={}){const r=await(0,Wi.connectComet)(t);return Dr.create(r,n)}static async create(t,n={}){return new Dr(t,n)}constructor(t,n){t&&(this.cometClient=t,this.queryClient=ib.QueryClient.withExtensions(t,Sr.setupAuthExtension,Sr.setupBankExtension,Sr.setupStakingExtension,Sr.setupTxExtension));const{accountParser:r=ob.accountFromAny}=n;this.accountParser=r}getCometClient(){return this.cometClient}forceGetCometClient(){if(!this.cometClient)throw new Error("Comet client not available. You cannot use online functionality in offline mode.");return this.cometClient}getQueryClient(){return this.queryClient}forceGetQueryClient(){if(!this.queryClient)throw new Error("Query client not available. You cannot use online functionality in offline mode.");return this.queryClient}async getChainId(){if(!this.chainId){const n=(await this.forceGetCometClient().status()).nodeInfo.network;if(!n)throw new Error("Chain ID must not be empty");this.chainId=n}return this.chainId}async getHeight(){return(await this.forceGetCometClient().status()).syncInfo.latestBlockHeight}async getAccount(t){try{const n=await this.forceGetQueryClient().auth.account(t);return n?this.accountParser(n):null}catch(n){if(/rpc error: code = NotFound/i.test(n.toString()))return null;throw n}}async getSequence(t){const n=await this.getAccount(t);if(!n)throw new Error(`Account '${t}' does not exist on chain. Send some tokens there before trying to query sequence.`);return{accountNumber:n.accountNumber,sequence:n.sequence}}async getBlock(t){const n=await this.forceGetCometClient().block(t);return{id:(0,us.toHex)(n.blockId.hash).toUpperCase(),header:{version:{block:new Fi.Uint53(n.block.header.version.block).toString(),app:new Fi.Uint53(n.block.header.version.app).toString()},height:n.block.header.height,chainId:n.block.header.chainId,time:(0,Wi.toRfc3339WithNanoseconds)(n.block.header.time)},txs:n.block.txs}}async getBalance(t,n){return this.forceGetQueryClient().bank.balance(t,n)}async getAllBalances(t){return this.forceGetQueryClient().bank.allBalances(t)}async getBalanceStaked(t){const n=[];let r;do{const{delegationResponses:s,pagination:i}=await this.forceGetQueryClient().staking.delegatorDelegations(t,r),c=s||[];n.push(...c),r=i==null?void 0:i.nextKey}while(r!==void 0&&r.length!==0);return n.reduce((s,i)=>((0,Ji.assert)(i.balance),s!==null?(0,nb.addCoins)(s,i.balance):i.balance),null)}async getDelegation(t,n){var o;let r;try{r=(o=(await this.forceGetQueryClient().staking.delegation(t,n)).delegationResponse)==null?void 0:o.balance}catch(s){if(!s.toString().includes("key not found"))throw s}return r||null}async getTx(t){return(await this.txsQuery(`tx.hash='${t}'`))[0]??null}async searchTx(t){let n;if(typeof t=="string")n=t;else if((0,ab.isSearchTxQueryArray)(t))n=t.map(r=>typeof r.value=="string"?`${r.key}='${r.value}'`:`${r.key}=${r.value}`).join(" AND ");else throw new Error("Got unsupported query type. See CosmJS 0.31 CHANGELOG for API breaking changes here.");return this.txsQuery(n)}disconnect(){this.cometClient&&this.cometClient.disconnect()}async broadcastTx(t,n=6e4,r=3e3){let o=!1;const s=setTimeout(()=>{o=!0},n),i=async a=>{if(o)throw new Uc(`Transaction with ID ${a} was submitted but was not yet found on the chain. You might want to check later. There was a wait of ${n/1e3} seconds.`,a);await(0,Ji.sleep)(r);const l=await this.getTx(a);return l?{code:l.code,height:l.height,txIndex:l.txIndex,events:l.events,rawLog:l.rawLog,transactionHash:a,msgResponses:l.msgResponses,gasUsed:l.gasUsed,gasWanted:l.gasWanted}:i(a)},c=await this.broadcastTxSync(t);return new Promise((a,l)=>i(c).then(d=>{clearTimeout(s),a(d)},d=>{clearTimeout(s),l(d)}))}async broadcastTxSync(t){const n=await this.forceGetCometClient().broadcastTxSync({tx:t});return n.code?Promise.reject(new Hc(n.code,n.codespace??"",n.log)):(0,us.toHex)(n.hash).toUpperCase()}async txsQuery(t){return(await this.forceGetCometClient().txSearchAll({query:t})).txs.map(r=>{const o=rb.TxMsgData.decode(r.result.data??new Uint8Array);return{height:r.height,txIndex:r.index,hash:(0,us.toHex)(r.hash).toUpperCase(),code:r.result.code,events:r.result.events.map(sb.fromTendermintEvent),rawLog:r.result.log||"",tx:r.tx,msgResponses:o.msgResponses,gasUsed:r.result.gasUsed,gasWanted:r.result.gasWanted}})}}Y.StargateClient=Dr;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SigningStargateClient=e.createDefaultAminoConverters=e.defaultRegistryTypes=void 0;const t=ot,n=x,r=ee,o=vt,s=Ws,i=X,c=u.coin,a=u.tx$3,l=u.tx$12,d=u.signing,g=u.tx,j=u.tx$8,k=Kn,G=Mt,y=Hn,p=Hn,v=Y;e.defaultRegistryTypes=[["/cosmos.base.v1beta1.Coin",c.Coin],...y.authzTypes,...y.bankTypes,...y.distributionTypes,...y.feegrantTypes,...y.govTypes,...y.groupTypes,...y.stakingTypes,...y.ibcTypes,...y.vestingTypes];function q(){return{...(0,p.createAuthzAminoConverters)(),...(0,p.createBankAminoConverters)(),...(0,p.createDistributionAminoConverters)(),...(0,p.createGovAminoConverters)(),...(0,p.createStakingAminoConverters)(),...(0,p.createIbcAminoConverters)(),...(0,p.createFeegrantAminoConverters)(),...(0,p.createVestingAminoConverters)()}}e.createDefaultAminoConverters=q;class D extends v.StargateClient{static async connectWithSigner(b,_,w={}){const U=await(0,s.connectComet)(b);return D.createWithSigner(U,_,w)}static async createWithSigner(b,_,w={}){return new D(b,_,w)}static async offline(b,_={}){return new D(void 0,b,_)}constructor(b,_,w){super(b,w);const{registry:U=new o.Registry(e.defaultRegistryTypes),aminoTypes:H=new k.AminoTypes(q())}=w;this.registry=U,this.aminoTypes=H,this.signer=_,this.broadcastTimeoutMs=w.broadcastTimeoutMs,this.broadcastPollIntervalMs=w.broadcastPollIntervalMs,this.gasPrice=w.gasPrice}async simulate(b,_,w){const U=_.map(Z=>this.registry.encodeAsAny(Z)),H=(await this.signer.getAccounts()).find(Z=>Z.address===b);if(!H)throw new Error("Failed to retrieve account from signer");const V=(0,t.encodeSecp256k1Pubkey)(H.pubkey),{sequence:F}=await this.getSequence(b),{gasInfo:z}=await this.forceGetQueryClient().tx.simulate(U,w,V,F);return(0,i.assertDefined)(z),r.Uint53.fromString(z.gasUsed.toString()).toNumber()}async sendTokens(b,_,w,U,H=""){const V={typeUrl:"/cosmos.bank.v1beta1.MsgSend",value:{fromAddress:b,toAddress:_,amount:[...w]}};return this.signAndBroadcast(b,[V],U,H)}async delegateTokens(b,_,w,U,H=""){const V={typeUrl:"/cosmos.staking.v1beta1.MsgDelegate",value:l.MsgDelegate.fromPartial({delegatorAddress:b,validatorAddress:_,amount:w})};return this.signAndBroadcast(b,[V],U,H)}async undelegateTokens(b,_,w,U,H=""){const V={typeUrl:"/cosmos.staking.v1beta1.MsgUndelegate",value:l.MsgUndelegate.fromPartial({delegatorAddress:b,validatorAddress:_,amount:w})};return this.signAndBroadcast(b,[V],U,H)}async withdrawRewards(b,_,w,U=""){const H={typeUrl:"/cosmos.distribution.v1beta1.MsgWithdrawDelegatorReward",value:a.MsgWithdrawDelegatorReward.fromPartial({delegatorAddress:b,validatorAddress:_})};return this.signAndBroadcast(b,[H],w,U)}async sendIbcTokens(b,_,w,U,H,V,F,z,Z=""){const Se=F?BigInt(F)*BigInt(1e9):void 0,it={typeUrl:"/ibc.applications.transfer.v1.MsgTransfer",value:j.MsgTransfer.fromPartial({sourcePort:U,sourceChannel:H,sender:b,receiver:_,token:w,timeoutHeight:V,timeoutTimestamp:Se})};return this.signAndBroadcast(b,[it],z,Z)}async signAndBroadcast(b,_,w,U="",H){let V;if(w=="auto"||typeof w=="number"){(0,i.assertDefined)(this.gasPrice,"Gas price must be set in the client options when auto gas is used.");const Z=await this.simulate(b,_,U),Se=typeof w=="number"?w:1.4;V=(0,G.calculateFee)(Math.round(Z*Se),this.gasPrice)}else V=w;const F=await this.sign(b,_,V,U,void 0,H),z=g.TxRaw.encode(F).finish();return this.broadcastTx(z,this.broadcastTimeoutMs,this.broadcastPollIntervalMs)}async signAndBroadcastSync(b,_,w,U="",H){let V;if(w=="auto"||typeof w=="number"){(0,i.assertDefined)(this.gasPrice,"Gas price must be set in the client options when auto gas is used.");const Z=await this.simulate(b,_,U),Se=typeof w=="number"?w:1.3;V=(0,G.calculateFee)(Math.round(Z*Se),this.gasPrice)}else V=w;const F=await this.sign(b,_,V,U,void 0,H),z=g.TxRaw.encode(F).finish();return this.broadcastTxSync(z)}async sign(b,_,w,U,H,V){let F;if(H)F=H;else{const{accountNumber:z,sequence:Z}=await this.getSequence(b),Se=await this.getChainId();F={accountNumber:z,sequence:Z,chainId:Se}}return(0,o.isOfflineDirectSigner)(this.signer)?this.signDirect(b,_,w,U,F,V):this.signAmino(b,_,w,U,F,V)}async signAmino(b,_,w,U,{accountNumber:H,sequence:V,chainId:F},z){(0,i.assert)(!(0,o.isOfflineDirectSigner)(this.signer));const Z=(await this.signer.getAccounts()).find(wn=>wn.address===b);if(!Z)throw new Error("Failed to retrieve account from signer");const Se=(0,o.encodePubkey)((0,t.encodeSecp256k1Pubkey)(Z.pubkey)),it=d.SignMode.SIGN_MODE_LEGACY_AMINO_JSON,vn=_.map(wn=>this.aminoTypes.toAmino(wn)),Jo=(0,t.makeSignDoc)(vn,w,F,U,H,V,z),{signature:Lo,signed:et}=await this.signer.signAmino(b,Jo),or={typeUrl:"/cosmos.tx.v1beta1.TxBody",value:{messages:et.msgs.map(wn=>this.aminoTypes.fromAmino(wn)),memo:et.memo,timeoutHeight:z}},zo=this.registry.encode(or),Vc=r.Int53.fromString(et.fee.gas).toNumber(),Gc=r.Int53.fromString(et.sequence).toNumber(),Fc=(0,o.makeAuthInfoBytes)([{pubkey:Se,sequence:Gc}],et.fee.amount,Vc,et.fee.granter,et.fee.payer,it);return g.TxRaw.fromPartial({bodyBytes:zo,authInfoBytes:Fc,signatures:[(0,n.fromBase64)(Lo.signature)]})}async signDirect(b,_,w,U,{accountNumber:H,sequence:V,chainId:F},z){(0,i.assert)((0,o.isOfflineDirectSigner)(this.signer));const Z=(await this.signer.getAccounts()).find(zo=>zo.address===b);if(!Z)throw new Error("Failed to retrieve account from signer");const Se=(0,o.encodePubkey)((0,t.encodeSecp256k1Pubkey)(Z.pubkey)),it={typeUrl:"/cosmos.tx.v1beta1.TxBody",value:{messages:_,memo:U,timeoutHeight:z}},vn=this.registry.encode(it),Jo=r.Int53.fromString(w.gas).toNumber(),Lo=(0,o.makeAuthInfoBytes)([{pubkey:Se,sequence:V}],w.amount,Jo,w.granter,w.payer),et=(0,o.makeSignDoc)(vn,Lo,F,H),{signature:ui,signed:or}=await this.signer.signDirect(b,et);return g.TxRaw.fromPartial({bodyBytes:or.bodyBytes,authInfoBytes:or.authInfoBytes,signatures:[(0,n.fromBase64)(ui.signature)]})}}e.SigningStargateClient=D})(Ha);(function(e){var t=u.commonjsGlobal&&u.commonjsGlobal.__createBinding||(Object.create?function(y,p,v,q){q===void 0&&(q=v);var D=Object.getOwnPropertyDescriptor(p,v);(!D||("get"in D?!p.__esModule:D.writable||D.configurable))&&(D={enumerable:!0,get:function(){return p[v]}}),Object.defineProperty(y,q,D)}:function(y,p,v,q){q===void 0&&(q=v),y[q]=p[v]}),n=u.commonjsGlobal&&u.commonjsGlobal.__setModuleDefault||(Object.create?function(y,p){Object.defineProperty(y,"default",{enumerable:!0,value:p})}:function(y,p){y.default=p}),r=u.commonjsGlobal&&u.commonjsGlobal.__importStar||function(y){if(y&&y.__esModule)return y;var p={};if(y!=null)for(var v in y)v!=="default"&&Object.prototype.hasOwnProperty.call(y,v)&&t(p,y,v);return n(p,y),p};Object.defineProperty(e,"__esModule",{value:!0}),e.isMsgWithdrawDelegatorRewardEncodeObject=e.isMsgVoteWeightedEncodeObject=e.isMsgVoteEncodeObject=e.isMsgUndelegateEncodeObject=e.isMsgTransferEncodeObject=e.isMsgSubmitProposalEncodeObject=e.isMsgSendEncodeObject=e.isMsgEditValidatorEncodeObject=e.isMsgDepositEncodeObject=e.isMsgDelegateEncodeObject=e.isMsgCreateValidatorEncodeObject=e.isMsgBeginRedelegateEncodeObject=e.isAminoMsgWithdrawValidatorCommission=e.isAminoMsgWithdrawDelegatorReward=e.isAminoMsgVoteWeighted=e.isAminoMsgVote=e.isAminoMsgVerifyInvariant=e.isAminoMsgUnjail=e.isAminoMsgUndelegate=e.isAminoMsgTransfer=e.isAminoMsgSubmitProposal=e.isAminoMsgSubmitEvidence=e.isAminoMsgSetWithdrawAddress=e.isAminoMsgSend=e.isAminoMsgMultiSend=e.isAminoMsgFundCommunityPool=e.isAminoMsgEditValidator=e.isAminoMsgDeposit=e.isAminoMsgDelegate=e.isAminoMsgCreateVestingAccount=e.isAminoMsgCreateValidator=e.isAminoMsgBeginRedelegate=e.createVestingAminoConverters=e.createStakingAminoConverters=e.createSlashingAminoConverters=e.createIbcAminoConverters=e.createGroupAminoConverters=e.createGovAminoConverters=e.createFeegrantAminoConverters=e.createEvidenceAminoConverters=e.createDistributionAminoConverters=e.createCrysisAminoConverters=e.createBankAminoConverters=e.createAuthzAminoConverters=e.logs=e.GasPrice=e.calculateFee=e.fromTendermintEvent=e.AminoTypes=e.accountFromAny=void 0,e.parseCoins=e.makeCosmoshubPath=e.coins=e.coin=e.TimeoutError=e.StargateClient=e.isDeliverTxSuccess=e.isDeliverTxFailure=e.BroadcastTxError=e.assertIsDeliverTxSuccess=e.assertIsDeliverTxFailure=e.SigningStargateClient=e.defaultRegistryTypes=e.createDefaultAminoConverters=e.isSearchTxQueryArray=e.QueryClient=e.decodeCosmosSdkDecFromProto=e.createProtobufRpcClient=e.createPagination=e.makeMultisignedTxBytes=e.makeMultisignedTx=e.setupTxExtension=e.setupStakingExtension=e.setupSlashingExtension=e.setupMintExtension=e.setupIbcExtension=e.setupGovExtension=e.setupFeegrantExtension=e.setupDistributionExtension=e.setupBankExtension=e.setupAuthzExtension=e.setupAuthExtension=void 0;var o=Wn;Object.defineProperty(e,"accountFromAny",{enumerable:!0,get:function(){return o.accountFromAny}});var s=Kn;Object.defineProperty(e,"AminoTypes",{enumerable:!0,get:function(){return s.AminoTypes}});var i=Qn;Object.defineProperty(e,"fromTendermintEvent",{enumerable:!0,get:function(){return i.fromTendermintEvent}});var c=Mt;Object.defineProperty(e,"calculateFee",{enumerable:!0,get:function(){return c.calculateFee}}),Object.defineProperty(e,"GasPrice",{enumerable:!0,get:function(){return c.GasPrice}}),e.logs=r(ge);var a=Hn;Object.defineProperty(e,"createAuthzAminoConverters",{enumerable:!0,get:function(){return a.createAuthzAminoConverters}}),Object.defineProperty(e,"createBankAminoConverters",{enumerable:!0,get:function(){return a.createBankAminoConverters}}),Object.defineProperty(e,"createCrysisAminoConverters",{enumerable:!0,get:function(){return a.createCrysisAminoConverters}}),Object.defineProperty(e,"createDistributionAminoConverters",{enumerable:!0,get:function(){return a.createDistributionAminoConverters}}),Object.defineProperty(e,"createEvidenceAminoConverters",{enumerable:!0,get:function(){return a.createEvidenceAminoConverters}}),Object.defineProperty(e,"createFeegrantAminoConverters",{enumerable:!0,get:function(){return a.createFeegrantAminoConverters}}),Object.defineProperty(e,"createGovAminoConverters",{enumerable:!0,get:function(){return a.createGovAminoConverters}}),Object.defineProperty(e,"createGroupAminoConverters",{enumerable:!0,get:function(){return a.createGroupAminoConverters}}),Object.defineProperty(e,"createIbcAminoConverters",{enumerable:!0,get:function(){return a.createIbcAminoConverters}}),Object.defineProperty(e,"createSlashingAminoConverters",{enumerable:!0,get:function(){return a.createSlashingAminoConverters}}),Object.defineProperty(e,"createStakingAminoConverters",{enumerable:!0,get:function(){return a.createStakingAminoConverters}}),Object.defineProperty(e,"createVestingAminoConverters",{enumerable:!0,get:function(){return a.createVestingAminoConverters}}),Object.defineProperty(e,"isAminoMsgBeginRedelegate",{enumerable:!0,get:function(){return a.isAminoMsgBeginRedelegate}}),Object.defineProperty(e,"isAminoMsgCreateValidator",{enumerable:!0,get:function(){return a.isAminoMsgCreateValidator}}),Object.defineProperty(e,"isAminoMsgCreateVestingAccount",{enumerable:!0,get:function(){return a.isAminoMsgCreateVestingAccount}}),Object.defineProperty(e,"isAminoMsgDelegate",{enumerable:!0,get:function(){return a.isAminoMsgDelegate}}),Object.defineProperty(e,"isAminoMsgDeposit",{enumerable:!0,get:function(){return a.isAminoMsgDeposit}}),Object.defineProperty(e,"isAminoMsgEditValidator",{enumerable:!0,get:function(){return a.isAminoMsgEditValidator}}),Object.defineProperty(e,"isAminoMsgFundCommunityPool",{enumerable:!0,get:function(){return a.isAminoMsgFundCommunityPool}}),Object.defineProperty(e,"isAminoMsgMultiSend",{enumerable:!0,get:function(){return a.isAminoMsgMultiSend}}),Object.defineProperty(e,"isAminoMsgSend",{enumerable:!0,get:function(){return a.isAminoMsgSend}}),Object.defineProperty(e,"isAminoMsgSetWithdrawAddress",{enumerable:!0,get:function(){return a.isAminoMsgSetWithdrawAddress}}),Object.defineProperty(e,"isAminoMsgSubmitEvidence",{enumerable:!0,get:function(){return a.isAminoMsgSubmitEvidence}}),Object.defineProperty(e,"isAminoMsgSubmitProposal",{enumerable:!0,get:function(){return a.isAminoMsgSubmitProposal}}),Object.defineProperty(e,"isAminoMsgTransfer",{enumerable:!0,get:function(){return a.isAminoMsgTransfer}}),Object.defineProperty(e,"isAminoMsgUndelegate",{enumerable:!0,get:function(){return a.isAminoMsgUndelegate}}),Object.defineProperty(e,"isAminoMsgUnjail",{enumerable:!0,get:function(){return a.isAminoMsgUnjail}}),Object.defineProperty(e,"isAminoMsgVerifyInvariant",{enumerable:!0,get:function(){return a.isAminoMsgVerifyInvariant}}),Object.defineProperty(e,"isAminoMsgVote",{enumerable:!0,get:function(){return a.isAminoMsgVote}}),Object.defineProperty(e,"isAminoMsgVoteWeighted",{enumerable:!0,get:function(){return a.isAminoMsgVoteWeighted}}),Object.defineProperty(e,"isAminoMsgWithdrawDelegatorReward",{enumerable:!0,get:function(){return a.isAminoMsgWithdrawDelegatorReward}}),Object.defineProperty(e,"isAminoMsgWithdrawValidatorCommission",{enumerable:!0,get:function(){return a.isAminoMsgWithdrawValidatorCommission}}),Object.defineProperty(e,"isMsgBeginRedelegateEncodeObject",{enumerable:!0,get:function(){return a.isMsgBeginRedelegateEncodeObject}}),Object.defineProperty(e,"isMsgCreateValidatorEncodeObject",{enumerable:!0,get:function(){return a.isMsgCreateValidatorEncodeObject}}),Object.defineProperty(e,"isMsgDelegateEncodeObject",{enumerable:!0,get:function(){return a.isMsgDelegateEncodeObject}}),Object.defineProperty(e,"isMsgDepositEncodeObject",{enumerable:!0,get:function(){return a.isMsgDepositEncodeObject}}),Object.defineProperty(e,"isMsgEditValidatorEncodeObject",{enumerable:!0,get:function(){return a.isMsgEditValidatorEncodeObject}}),Object.defineProperty(e,"isMsgSendEncodeObject",{enumerable:!0,get:function(){return a.isMsgSendEncodeObject}}),Object.defineProperty(e,"isMsgSubmitProposalEncodeObject",{enumerable:!0,get:function(){return a.isMsgSubmitProposalEncodeObject}}),Object.defineProperty(e,"isMsgTransferEncodeObject",{enumerable:!0,get:function(){return a.isMsgTransferEncodeObject}}),Object.defineProperty(e,"isMsgUndelegateEncodeObject",{enumerable:!0,get:function(){return a.isMsgUndelegateEncodeObject}}),Object.defineProperty(e,"isMsgVoteEncodeObject",{enumerable:!0,get:function(){return a.isMsgVoteEncodeObject}}),Object.defineProperty(e,"isMsgVoteWeightedEncodeObject",{enumerable:!0,get:function(){return a.isMsgVoteWeightedEncodeObject}}),Object.defineProperty(e,"isMsgWithdrawDelegatorRewardEncodeObject",{enumerable:!0,get:function(){return a.isMsgWithdrawDelegatorRewardEncodeObject}}),Object.defineProperty(e,"setupAuthExtension",{enumerable:!0,get:function(){return a.setupAuthExtension}}),Object.defineProperty(e,"setupAuthzExtension",{enumerable:!0,get:function(){return a.setupAuthzExtension}}),Object.defineProperty(e,"setupBankExtension",{enumerable:!0,get:function(){return a.setupBankExtension}}),Object.defineProperty(e,"setupDistributionExtension",{enumerable:!0,get:function(){return a.setupDistributionExtension}}),Object.defineProperty(e,"setupFeegrantExtension",{enumerable:!0,get:function(){return a.setupFeegrantExtension}}),Object.defineProperty(e,"setupGovExtension",{enumerable:!0,get:function(){return a.setupGovExtension}}),Object.defineProperty(e,"setupIbcExtension",{enumerable:!0,get:function(){return a.setupIbcExtension}}),Object.defineProperty(e,"setupMintExtension",{enumerable:!0,get:function(){return a.setupMintExtension}}),Object.defineProperty(e,"setupSlashingExtension",{enumerable:!0,get:function(){return a.setupSlashingExtension}}),Object.defineProperty(e,"setupStakingExtension",{enumerable:!0,get:function(){return a.setupStakingExtension}}),Object.defineProperty(e,"setupTxExtension",{enumerable:!0,get:function(){return a.setupTxExtension}});var l=pt;Object.defineProperty(e,"makeMultisignedTx",{enumerable:!0,get:function(){return l.makeMultisignedTx}}),Object.defineProperty(e,"makeMultisignedTxBytes",{enumerable:!0,get:function(){return l.makeMultisignedTxBytes}});var d=ae;Object.defineProperty(e,"createPagination",{enumerable:!0,get:function(){return d.createPagination}}),Object.defineProperty(e,"createProtobufRpcClient",{enumerable:!0,get:function(){return d.createProtobufRpcClient}}),Object.defineProperty(e,"decodeCosmosSdkDecFromProto",{enumerable:!0,get:function(){return d.decodeCosmosSdkDecFromProto}}),Object.defineProperty(e,"QueryClient",{enumerable:!0,get:function(){return d.QueryClient}});var g=Xn;Object.defineProperty(e,"isSearchTxQueryArray",{enumerable:!0,get:function(){return g.isSearchTxQueryArray}});var j=Ha;Object.defineProperty(e,"createDefaultAminoConverters",{enumerable:!0,get:function(){return j.createDefaultAminoConverters}}),Object.defineProperty(e,"defaultRegistryTypes",{enumerable:!0,get:function(){return j.defaultRegistryTypes}}),Object.defineProperty(e,"SigningStargateClient",{enumerable:!0,get:function(){return j.SigningStargateClient}});var k=Y;Object.defineProperty(e,"assertIsDeliverTxFailure",{enumerable:!0,get:function(){return k.assertIsDeliverTxFailure}}),Object.defineProperty(e,"assertIsDeliverTxSuccess",{enumerable:!0,get:function(){return k.assertIsDeliverTxSuccess}}),Object.defineProperty(e,"BroadcastTxError",{enumerable:!0,get:function(){return k.BroadcastTxError}}),Object.defineProperty(e,"isDeliverTxFailure",{enumerable:!0,get:function(){return k.isDeliverTxFailure}}),Object.defineProperty(e,"isDeliverTxSuccess",{enumerable:!0,get:function(){return k.isDeliverTxSuccess}}),Object.defineProperty(e,"StargateClient",{enumerable:!0,get:function(){return k.StargateClient}}),Object.defineProperty(e,"TimeoutError",{enumerable:!0,get:function(){return k.TimeoutError}});var G=vt;Object.defineProperty(e,"coin",{enumerable:!0,get:function(){return G.coin}}),Object.defineProperty(e,"coins",{enumerable:!0,get:function(){return G.coins}}),Object.defineProperty(e,"makeCosmoshubPath",{enumerable:!0,get:function(){return G.makeCosmoshubPath}}),Object.defineProperty(e,"parseCoins",{enumerable:!0,get:function(){return G.parseCoins}})})(Li);const lb=e=>e*1e6;class Wo{constructor(t,n,r,o){at(this,"network");at(this,"chain");at(this,"rpc");at(this,"contracts");at(this,"gatewayAddress");at(this,"channelToChain",new Map);at(this,"chainToChannel",new Map);if(this.network=t,this.chain=n,this.rpc=r,this.contracts=o,!I.networkChainToChannels.has(t,n))throw new Error("Unsupported IBC Chain, no channels available: "+n);this.gatewayAddress=I.Gateway.gatewayAddress(t);const s=I.networkChainToChannels.get(t,n)??{};for(const[i,c]of Object.entries(s))this.channelToChain.set(c,i),this.chainToChannel.set(i,c)}static async fromRpc(t,n){const[r,o]=await I.CosmwasmPlatform.chainFromRpc(t),s=n[o];if(s.network!==r)throw new Error("Network mismatch: "+s.network+" != "+r);return new Wo(r,o,t,s.contracts)}getTransferChannel(t){return this.chainToChannel.get(t)??null}async*transfer(t,n,r,o){const s=new I.CosmwasmAddress(t).toString(),i=Math.round(Math.random()*1e4),a={gateway_ibc_token_bridge_payload:{gateway_transfer:{recipient:u.b64.encode(u.chainToPlatform(n.chain)==="Cosmwasm"?n.address.toString():n.address.toUniversalAddress().toUint8Array()),chain:u.toChainId(n.chain),nonce:i,fee:"0"}}},l=BigInt(lb(Date.now()+I.IBC_TIMEOUT_MILLIS)),d=JSON.stringify(a),g=u.isNative(r)?I.CosmwasmPlatform.getNativeDenom(this.network,this.chain):I.Gateway.deriveIbcDenom(this.network,this.chain,new I.CosmwasmAddress(r).toString()),j=Li.coin(o.toString(),g.toString()),k={typeUrl:I.IBC_MSG_TYPE,value:u.tx$8.MsgTransfer.fromPartial({sourcePort:I.IBC_TRANSFER_PORT,sourceChannel:this.chainToChannel.get(I.Gateway.chain),sender:s,receiver:this.gatewayAddress,token:j,timeoutTimestamp:l,memo:d})};yield this.createUnsignedTx({msgs:[k],fee:li.computeFee(this.network,this.chain),memo:"Wormhole.TransferToGateway"},"IBC.transfer")}async lookupTransferFromTx(t){const n=await this.rpc.getTx(t);if(!n)throw new Error(`No IBC transfer found on ${this.chain} with txid: ${t}`);if(n.code!==0)throw new Error(`Transaction failed: ${n.rawLog}`);const r=await this.fetchTransferInfo(n);if(r.length===0)throw new Error(`No IBC transfers found on ${this.chain} with txid: ${t}`);return r}async lookupMessageFromIbcMsgId(t){const n=await this.lookupTxFromIbcMsgId(t);return n?Lc.CosmwasmWormholeCore.parseWormholeMessageId(I.Gateway.chain,I.Gateway.coreAddress(this.network),n):null}async lookupTxFromIbcMsgId(t){const n=this.chain===t.chain?I.IBC_PACKET_SEND:I.IBC_PACKET_RECEIVE,{srcChannel:r,dstChannel:o,sequence:s,srcPort:i,dstPort:c}=t,a=await this.rpc.searchTx([{key:`${n}.${I.IBC_PACKET_DST}`,value:o},{key:`${n}.${I.IBC_PACKET_SRC}`,value:r},{key:`${n}.${I.IBC_PACKET_SRC_PORT}`,value:i},{key:`${n}.${I.IBC_PACKET_DST_PORT}`,value:c},{key:`${n}.${I.IBC_PACKET_SEQ}`,value:s.toString()}]);if(a.length===0)return null;a.length>1&&console.error(`Expected 1 transaction, got ${a.length} found for IbcMsgid: ${t}`);const[l]=a;return l}async lookupTransferFromIbcMsgId(t){const n=await this.lookupTxFromIbcMsgId(t);if(!n)throw new Error(`No transfers found on ${this.chain} for msg: ${JSON.stringify(t)}`);const r=await this.fetchTransferInfo(n);if(r.length===0)throw new Error(`No transfers found on ${this.chain} for msg: ${JSON.stringify(t)}`);return r}async lookupTransferFromMsg(t){const n=u.b64.encode(JSON.stringify(t)),r=await this.rpc.searchTx([{key:"wasm.transfer_payload",value:n}]);if(r.length===0)throw new Error("Found no transactions for payload: "+JSON.stringify(n));r.length!==1&&console.error("Expected 1 tx, got: ",r.length);const[o]=r,s=await this.fetchTransferInfo(o);if(s.length===0)throw new Error("Found no transactions for payload: "+JSON.stringify(n));return s}async fetchTransferInfo(t){const n=this.parseIbcTransferInfo(t),r=[];for(const o of n){const s=I.CosmwasmPlatform.getQueryClient(this.rpc);try{await s.ibc.channel.packetCommitment(I.IBC_TRANSFER_PORT,o.id.srcChannel,o.id.sequence),o.pending=!0}catch(i){if(!i.message.includes("packet commitment hash not found: key not found"))throw i}r.push(o)}return r}parseIbcTransferInfo(t){const n=t.events.filter(o=>o.type===I.IBC_PACKET_SEND||o.type===I.IBC_PACKET_RECEIVE);if(n.length===0)throw new Error(`No IBC Transfers on ${this.chain} found in: ${t.hash}`);const r=new Set;for(const o of n){const s={pending:!1},i={};for(const c of o.attributes)c.key===I.IBC_PACKET_SRC&&(i.srcChannel=c.value),c.key===I.IBC_PACKET_DST&&(i.dstChannel=c.value),c.key===I.IBC_PACKET_SEQ&&(i.sequence=Number(c.value)),c.key===I.IBC_PACKET_SRC_PORT&&(i.srcPort=c.value),c.key===I.IBC_PACKET_DST_PORT&&(i.dstPort=c.value),c.key===I.IBC_PACKET_DATA&&(s.data=JSON.parse(c.value));if(i.chain=o.type===I.IBC_PACKET_SEND?this.chain:this.channelToChain.get(i.dstChannel),u.isIbcMessageId(i))s.id=i;else throw new Error("Invalid IbcMessageId: "+JSON.stringify(i));if(Kc(s))r.add(s);else throw new Error("Invalid IbcTransferInfo: "+JSON.stringify(s))}return Array.from(r)}async fetchTransferChannel(t){if(this.chain!==I.Gateway.chain)throw new Error("Cannot query the transfer channels from a non-gateway chain");const{channel:n}=await this.rpc.queryContractSmart(this.gatewayAddress,{ibc_channel:{chain_id:u.toChainId(t)}});return n}createUnsignedTx(t,n,r=!1){return new li.CosmwasmUnsignedTransaction(t,this.network,this.chain,n,r)}}zc.registerProtocol(I._platform,"IbcBridge",Wo);exports.CosmwasmIbcBridge=Wo;
